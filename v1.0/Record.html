<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Record</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Record types with manifest fields and &quot;with&quot;, based on Randy</a>
<a id="170" class="Comment">-- Pollack&#39;s &quot;Dependently Typed Records in Type Theory&quot;</a>
<a id="226" class="Comment">------------------------------------------------------------------------</a>

<a id="300" class="Comment">-- For an example of how this module can be used, see README.Record.</a>

<a id="370" class="Symbol">{-#</a> <a id="374" class="Keyword">OPTIONS</a> <a id="382" class="Pragma">--without-K</a> <a id="394" class="Pragma">--safe</a> <a id="401" class="Symbol">#-}</a>

<a id="406" class="Keyword">open</a> <a id="411" class="Keyword">import</a> <a id="418" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a> <a id="433" class="Keyword">using</a> <a id="439" class="Symbol">(</a><a id="440" href="Data.Bool.Base.html#835" class="Function Operator">if_then_else_</a><a id="453" class="Symbol">)</a>
<a id="455" class="Keyword">open</a> <a id="460" class="Keyword">import</a> <a id="467" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="478" class="Keyword">open</a> <a id="483" class="Keyword">import</a> <a id="490" href="Data.List.Base.html" class="Module">Data.List.Base</a>
<a id="505" class="Keyword">open</a> <a id="510" class="Keyword">import</a> <a id="517" href="Data.Product.html" class="Module">Data.Product</a> <a id="530" class="Keyword">hiding</a> <a id="537" class="Symbol">(</a><a id="538" href="Agda.Builtin.Sigma.html#225" class="Field">proj₁</a><a id="543" class="Symbol">;</a> <a id="545" href="Agda.Builtin.Sigma.html#237" class="Field">proj₂</a><a id="550" class="Symbol">)</a>
<a id="552" class="Keyword">open</a> <a id="557" class="Keyword">import</a> <a id="564" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="574" class="Keyword">open</a> <a id="579" class="Keyword">import</a> <a id="586" href="Function.html" class="Module">Function</a>
<a id="595" class="Keyword">open</a> <a id="600" class="Keyword">import</a> <a id="607" href="Level.html" class="Module">Level</a>
<a id="613" class="Keyword">open</a> <a id="618" class="Keyword">import</a> <a id="625" href="Relation.Binary.html" class="Module">Relation.Binary</a>
<a id="641" class="Keyword">open</a> <a id="646" class="Keyword">import</a> <a id="653" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
<a id="691" class="Keyword">open</a> <a id="696" class="Keyword">import</a> <a id="703" href="Relation.Nullary.html" class="Module">Relation.Nullary</a>
<a id="720" class="Keyword">open</a> <a id="725" class="Keyword">import</a> <a id="732" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a>

<a id="760" class="Comment">-- The module is parametrised by the type of labels, which should come</a>
<a id="831" class="Comment">-- with decidable equality.</a>

<a id="860" class="Keyword">module</a> <a id="867" href="Record.html" class="Module">Record</a> <a id="874" class="Symbol">{</a><a id="875" href="Record.html#875" class="Bound">ℓ</a> <a id="877" class="Symbol">:</a> <a id="879" href="Agda.Primitive.html#408" class="Postulate">Level</a><a id="884" class="Symbol">}</a> <a id="886" class="Symbol">(</a><a id="887" href="Record.html#887" class="Bound">Label</a> <a id="893" class="Symbol">:</a> <a id="895" class="PrimitiveType">Set</a> <a id="899" href="Record.html#875" class="Bound">ℓ</a><a id="900" class="Symbol">)</a> <a id="902" class="Symbol">(</a><a id="903" href="Record.html#903" class="Bound Operator">_≟_</a> <a id="907" class="Symbol">:</a> <a id="909" href="Relation.Binary.Core.html#5213" class="Function">Decidable</a> <a id="919" class="Symbol">(</a><a id="920" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">_≡_</a> <a id="924" class="Symbol">{</a><a id="925" class="Argument">A</a> <a id="927" class="Symbol">=</a> <a id="929" href="Record.html#887" class="Bound">Label</a><a id="934" class="Symbol">}))</a> <a id="938" class="Keyword">where</a>

<a id="945" class="Comment">------------------------------------------------------------------------</a>
<a id="1018" class="Comment">-- A Σ-type with a manifest field</a>

<a id="1053" class="Comment">-- A variant of Σ where the value of the second field is &quot;manifest&quot;</a>
<a id="1121" class="Comment">-- (given by the first).</a>

<a id="1147" class="Keyword">infix</a> <a id="1153" class="Number">4</a> <a id="1155" href="Record.html#1277" class="InductiveConstructor Operator">_,</a>

<a id="1159" class="Keyword">record</a> <a id="Manifest-Σ"></a><a id="1166" href="Record.html#1166" class="Record">Manifest-Σ</a> <a id="1177" class="Symbol">{</a><a id="1178" href="Record.html#1178" class="Bound">a</a> <a id="1180" href="Record.html#1180" class="Bound">b</a><a id="1181" class="Symbol">}</a> <a id="1183" class="Symbol">(</a><a id="1184" href="Record.html#1184" class="Bound">A</a> <a id="1186" class="Symbol">:</a> <a id="1188" class="PrimitiveType">Set</a> <a id="1192" href="Record.html#1178" class="Bound">a</a><a id="1193" class="Symbol">)</a> <a id="1195" class="Symbol">{</a><a id="1196" href="Record.html#1196" class="Bound">B</a> <a id="1198" class="Symbol">:</a> <a id="1200" href="Record.html#1184" class="Bound">A</a> <a id="1202" class="Symbol">→</a> <a id="1204" class="PrimitiveType">Set</a> <a id="1208" href="Record.html#1180" class="Bound">b</a><a id="1209" class="Symbol">}</a>
                  <a id="1229" class="Symbol">(</a><a id="1230" href="Record.html#1230" class="Bound">f</a> <a id="1232" class="Symbol">:</a> <a id="1234" class="Symbol">(</a><a id="1235" href="Record.html#1235" class="Bound">x</a> <a id="1237" class="Symbol">:</a> <a id="1239" href="Record.html#1184" class="Bound">A</a><a id="1240" class="Symbol">)</a> <a id="1242" class="Symbol">→</a> <a id="1244" href="Record.html#1196" class="Bound">B</a> <a id="1246" href="Record.html#1235" class="Bound">x</a><a id="1247" class="Symbol">)</a> <a id="1249" class="Symbol">:</a> <a id="1251" class="PrimitiveType">Set</a> <a id="1255" href="Record.html#1178" class="Bound">a</a> <a id="1257" class="Keyword">where</a>
  <a id="1265" class="Keyword">constructor</a> <a id="Manifest-Σ._,"></a><a id="1277" href="Record.html#1277" class="InductiveConstructor Operator">_,</a>
  <a id="1282" class="Keyword">field</a> <a id="Manifest-Σ.proj₁"></a><a id="1288" href="Record.html#1288" class="Field">proj₁</a> <a id="1294" class="Symbol">:</a> <a id="1296" href="Record.html#1184" class="Bound">A</a>

  <a id="Manifest-Σ.proj₂"></a><a id="1301" href="Record.html#1301" class="Function">proj₂</a> <a id="1307" class="Symbol">:</a> <a id="1309" href="Record.html#1196" class="Bound">B</a> <a id="1311" href="Record.html#1288" class="Field">proj₁</a>
  <a id="1319" href="Record.html#1301" class="Function">proj₂</a> <a id="1325" class="Symbol">=</a> <a id="1327" href="Record.html#1230" class="Bound">f</a> <a id="1329" href="Record.html#1288" class="Field">proj₁</a>

<a id="1336" class="Comment">------------------------------------------------------------------------</a>
<a id="1409" class="Comment">-- Signatures and records</a>

<a id="1436" class="Keyword">mutual</a>

  <a id="1446" class="Keyword">infixl</a> <a id="1453" class="Number">5</a> <a id="1455" href="Record.html#1539" class="InductiveConstructor Operator">_,_∶_</a> <a id="1461" href="Record.html#1658" class="InductiveConstructor Operator">_,_≔_</a>

  <a id="1470" class="Keyword">data</a> <a id="Signature"></a><a id="1475" href="Record.html#1475" class="Datatype">Signature</a> <a id="1485" href="Record.html#1485" class="Bound">s</a> <a id="1487" class="Symbol">:</a> <a id="1489" class="PrimitiveType">Set</a> <a id="1493" class="Symbol">(</a><a id="1494" href="Agda.Primitive.html#627" class="Primitive">suc</a> <a id="1498" href="Record.html#1485" class="Bound">s</a> <a id="1500" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="1502" href="Record.html#875" class="Bound">ℓ</a><a id="1503" class="Symbol">)</a> <a id="1505" class="Keyword">where</a>
    <a id="Signature.∅"></a><a id="1515" href="Record.html#1515" class="InductiveConstructor">∅</a>     <a id="1521" class="Symbol">:</a> <a id="1523" href="Record.html#1475" class="Datatype">Signature</a> <a id="1533" href="Record.html#1485" class="Bound">s</a>
    <a id="Signature._,_∶_"></a><a id="1539" href="Record.html#1539" class="InductiveConstructor Operator">_,_∶_</a> <a id="1545" class="Symbol">:</a> <a id="1547" class="Symbol">(</a><a id="1548" href="Record.html#1548" class="Bound">Sig</a> <a id="1552" class="Symbol">:</a> <a id="1554" href="Record.html#1475" class="Datatype">Signature</a> <a id="1564" href="Record.html#1485" class="Bound">s</a><a id="1565" class="Symbol">)</a>
            <a id="1579" class="Symbol">(</a><a id="1580" href="Record.html#1580" class="Bound">ℓ</a> <a id="1582" class="Symbol">:</a> <a id="1584" href="Record.html#887" class="Bound">Label</a><a id="1589" class="Symbol">)</a>
            <a id="1603" class="Symbol">(</a><a id="1604" href="Record.html#1604" class="Bound">A</a> <a id="1606" class="Symbol">:</a> <a id="1608" href="Record.html#1937" class="Record">Record</a> <a id="1615" href="Record.html#1548" class="Bound">Sig</a> <a id="1619" class="Symbol">→</a> <a id="1621" class="PrimitiveType">Set</a> <a id="1625" href="Record.html#1485" class="Bound">s</a><a id="1626" class="Symbol">)</a> <a id="1628" class="Symbol">→</a>
            <a id="1642" href="Record.html#1475" class="Datatype">Signature</a> <a id="1652" href="Record.html#1485" class="Bound">s</a>
    <a id="Signature._,_≔_"></a><a id="1658" href="Record.html#1658" class="InductiveConstructor Operator">_,_≔_</a> <a id="1664" class="Symbol">:</a> <a id="1666" class="Symbol">(</a><a id="1667" href="Record.html#1667" class="Bound">Sig</a> <a id="1671" class="Symbol">:</a> <a id="1673" href="Record.html#1475" class="Datatype">Signature</a> <a id="1683" href="Record.html#1485" class="Bound">s</a><a id="1684" class="Symbol">)</a>
            <a id="1698" class="Symbol">(</a><a id="1699" href="Record.html#1699" class="Bound">ℓ</a> <a id="1701" class="Symbol">:</a> <a id="1703" href="Record.html#887" class="Bound">Label</a><a id="1708" class="Symbol">)</a>
            <a id="1722" class="Symbol">{</a><a id="1723" href="Record.html#1723" class="Bound">A</a> <a id="1725" class="Symbol">:</a> <a id="1727" href="Record.html#1937" class="Record">Record</a> <a id="1734" href="Record.html#1667" class="Bound">Sig</a> <a id="1738" class="Symbol">→</a> <a id="1740" class="PrimitiveType">Set</a> <a id="1744" href="Record.html#1485" class="Bound">s</a><a id="1745" class="Symbol">}</a>
            <a id="1759" class="Symbol">(</a><a id="1760" href="Record.html#1760" class="Bound">a</a> <a id="1762" class="Symbol">:</a> <a id="1764" class="Symbol">(</a><a id="1765" href="Record.html#1765" class="Bound">r</a> <a id="1767" class="Symbol">:</a> <a id="1769" href="Record.html#1937" class="Record">Record</a> <a id="1776" href="Record.html#1667" class="Bound">Sig</a><a id="1779" class="Symbol">)</a> <a id="1781" class="Symbol">→</a> <a id="1783" href="Record.html#1723" class="Bound">A</a> <a id="1785" href="Record.html#1765" class="Bound">r</a><a id="1786" class="Symbol">)</a> <a id="1788" class="Symbol">→</a>
            <a id="1802" href="Record.html#1475" class="Datatype">Signature</a> <a id="1812" href="Record.html#1485" class="Bound">s</a>

  <a id="1817" class="Comment">-- Record is a record type to ensure that the signature can be</a>
  <a id="1882" class="Comment">-- inferred from a value of type Record Sig.</a>

  <a id="1930" class="Keyword">record</a> <a id="Record"></a><a id="1937" href="Record.html#1937" class="Record">Record</a> <a id="1944" class="Symbol">{</a><a id="1945" href="Record.html#1945" class="Bound">s</a><a id="1946" class="Symbol">}</a> <a id="1948" class="Symbol">(</a><a id="1949" href="Record.html#1949" class="Bound">Sig</a> <a id="1953" class="Symbol">:</a> <a id="1955" href="Record.html#1475" class="Datatype">Signature</a> <a id="1965" href="Record.html#1945" class="Bound">s</a><a id="1966" class="Symbol">)</a> <a id="1968" class="Symbol">:</a> <a id="1970" class="PrimitiveType">Set</a> <a id="1974" href="Record.html#1945" class="Bound">s</a> <a id="1976" class="Keyword">where</a>
    <a id="1986" class="Keyword">eta-equality</a>
    <a id="2003" class="Keyword">inductive</a>
    <a id="2017" class="Keyword">constructor</a> <a id="Record.rec"></a><a id="2029" href="Record.html#2029" class="InductiveConstructor">rec</a>
    <a id="2037" class="Keyword">field</a> <a id="Record.fun"></a><a id="2043" href="Record.html#2043" class="Field">fun</a> <a id="2047" class="Symbol">:</a> <a id="2049" href="Record.html#2067" class="Function">Record-fun</a> <a id="2060" href="Record.html#1949" class="Bound">Sig</a>

  <a id="Record-fun"></a><a id="2067" href="Record.html#2067" class="Function">Record-fun</a> <a id="2078" class="Symbol">:</a> <a id="2080" class="Symbol">∀</a> <a id="2082" class="Symbol">{</a><a id="2083" href="Record.html#2083" class="Bound">s</a><a id="2084" class="Symbol">}</a> <a id="2086" class="Symbol">→</a> <a id="2088" href="Record.html#1475" class="Datatype">Signature</a> <a id="2098" href="Record.html#2083" class="Bound">s</a> <a id="2100" class="Symbol">→</a> <a id="2102" class="PrimitiveType">Set</a> <a id="2106" href="Record.html#2083" class="Bound">s</a>
  <a id="2110" href="Record.html#2067" class="Function">Record-fun</a> <a id="2121" href="Record.html#1515" class="InductiveConstructor">∅</a>             <a id="2135" class="Symbol">=</a> <a id="2137" href="Level.html#394" class="Record">Lift</a> <a id="2142" class="Symbol">_</a> <a id="2144" href="Agda.Builtin.Unit.html#137" class="Record">⊤</a>
  <a id="2148" href="Record.html#2067" class="Function">Record-fun</a> <a id="2159" class="Symbol">(</a><a id="2160" href="Record.html#2160" class="Bound">Sig</a> <a id="2164" href="Record.html#1539" class="InductiveConstructor Operator">,</a> <a id="2166" href="Record.html#2166" class="Bound">ℓ</a> <a id="2168" href="Record.html#1539" class="InductiveConstructor Operator">∶</a> <a id="2170" href="Record.html#2170" class="Bound">A</a><a id="2171" class="Symbol">)</a> <a id="2173" class="Symbol">=</a>          <a id="2184" href="Agda.Builtin.Sigma.html#139" class="Record">Σ</a> <a id="2186" class="Symbol">(</a><a id="2187" href="Record.html#1937" class="Record">Record</a> <a id="2194" href="Record.html#2160" class="Bound">Sig</a><a id="2197" class="Symbol">)</a> <a id="2199" href="Record.html#2170" class="Bound">A</a>
  <a id="2203" href="Record.html#2067" class="Function">Record-fun</a> <a id="2214" class="Symbol">(</a><a id="2215" href="Record.html#2215" class="Bound">Sig</a> <a id="2219" href="Record.html#1658" class="InductiveConstructor Operator">,</a> <a id="2221" href="Record.html#2221" class="Bound">ℓ</a> <a id="2223" href="Record.html#1658" class="InductiveConstructor Operator">≔</a> <a id="2225" href="Record.html#2225" class="Bound">a</a><a id="2226" class="Symbol">)</a> <a id="2228" class="Symbol">=</a> <a id="2230" href="Record.html#1166" class="Record">Manifest-Σ</a> <a id="2241" class="Symbol">(</a><a id="2242" href="Record.html#1937" class="Record">Record</a> <a id="2249" href="Record.html#2215" class="Bound">Sig</a><a id="2252" class="Symbol">)</a> <a id="2254" href="Record.html#2225" class="Bound">a</a>

<a id="2257" class="Comment">------------------------------------------------------------------------</a>
<a id="2330" class="Comment">-- Labels</a>

<a id="2341" class="Comment">-- A signature&#39;s labels, starting with the last one.</a>

<a id="labels"></a><a id="2395" href="Record.html#2395" class="Function">labels</a> <a id="2402" class="Symbol">:</a> <a id="2404" class="Symbol">∀</a> <a id="2406" class="Symbol">{</a><a id="2407" href="Record.html#2407" class="Bound">s</a><a id="2408" class="Symbol">}</a> <a id="2410" class="Symbol">→</a> <a id="2412" href="Record.html#1475" class="Datatype">Signature</a> <a id="2422" href="Record.html#2407" class="Bound">s</a> <a id="2424" class="Symbol">→</a> <a id="2426" href="Agda.Builtin.List.html#121" class="Datatype">List</a> <a id="2431" href="Record.html#887" class="Bound">Label</a>
<a id="2437" href="Record.html#2395" class="Function">labels</a> <a id="2444" href="Record.html#1515" class="InductiveConstructor">∅</a>             <a id="2458" class="Symbol">=</a> <a id="2460" href="Agda.Builtin.List.html#158" class="InductiveConstructor">[]</a>
<a id="2463" href="Record.html#2395" class="Function">labels</a> <a id="2470" class="Symbol">(</a><a id="2471" href="Record.html#2471" class="Bound">Sig</a> <a id="2475" href="Record.html#1539" class="InductiveConstructor Operator">,</a> <a id="2477" href="Record.html#2477" class="Bound">ℓ</a> <a id="2479" href="Record.html#1539" class="InductiveConstructor Operator">∶</a> <a id="2481" href="Record.html#2481" class="Bound">A</a><a id="2482" class="Symbol">)</a> <a id="2484" class="Symbol">=</a> <a id="2486" href="Record.html#2477" class="Bound">ℓ</a> <a id="2488" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="2490" href="Record.html#2395" class="Function">labels</a> <a id="2497" href="Record.html#2471" class="Bound">Sig</a>
<a id="2501" href="Record.html#2395" class="Function">labels</a> <a id="2508" class="Symbol">(</a><a id="2509" href="Record.html#2509" class="Bound">Sig</a> <a id="2513" href="Record.html#1658" class="InductiveConstructor Operator">,</a> <a id="2515" href="Record.html#2515" class="Bound">ℓ</a> <a id="2517" href="Record.html#1658" class="InductiveConstructor Operator">≔</a> <a id="2519" href="Record.html#2519" class="Bound">a</a><a id="2520" class="Symbol">)</a> <a id="2522" class="Symbol">=</a> <a id="2524" href="Record.html#2515" class="Bound">ℓ</a> <a id="2526" href="Agda.Builtin.List.html#173" class="InductiveConstructor Operator">∷</a> <a id="2528" href="Record.html#2395" class="Function">labels</a> <a id="2535" href="Record.html#2509" class="Bound">Sig</a>

<a id="2540" class="Comment">-- Inhabited if the label is part of the signature.</a>

<a id="2593" class="Keyword">infix</a> <a id="2599" class="Number">4</a> <a id="2601" href="Record.html#2606" class="Function Operator">_∈_</a>

<a id="_∈_"></a><a id="2606" href="Record.html#2606" class="Function Operator">_∈_</a> <a id="2610" class="Symbol">:</a> <a id="2612" class="Symbol">∀</a> <a id="2614" class="Symbol">{</a><a id="2615" href="Record.html#2615" class="Bound">s</a><a id="2616" class="Symbol">}</a> <a id="2618" class="Symbol">→</a> <a id="2620" href="Record.html#887" class="Bound">Label</a> <a id="2626" class="Symbol">→</a> <a id="2628" href="Record.html#1475" class="Datatype">Signature</a> <a id="2638" href="Record.html#2615" class="Bound">s</a> <a id="2640" class="Symbol">→</a> <a id="2642" class="PrimitiveType">Set</a>
<a id="2646" href="Record.html#2646" class="Bound">ℓ</a> <a id="2648" href="Record.html#2606" class="Function Operator">∈</a> <a id="2650" href="Record.html#2650" class="Bound">Sig</a> <a id="2654" class="Symbol">=</a>
  <a id="2658" href="Data.List.Base.html#3600" class="Function">foldr</a> <a id="2664" class="Symbol">(λ</a> <a id="2667" href="Record.html#2667" class="Bound">ℓ′</a> <a id="2670" class="Symbol">→</a> <a id="2672" href="Data.Bool.Base.html#835" class="Function Operator">if</a> <a id="2675" href="Relation.Nullary.Decidable.html#858" class="Function Operator">⌊</a> <a id="2677" href="Record.html#2646" class="Bound">ℓ</a> <a id="2679" href="Record.html#903" class="Bound Operator">≟</a> <a id="2681" href="Record.html#2667" class="Bound">ℓ′</a> <a id="2684" href="Relation.Nullary.Decidable.html#858" class="Function Operator">⌋</a> <a id="2686" href="Data.Bool.Base.html#835" class="Function Operator">then</a> <a id="2691" class="Symbol">(λ</a> <a id="2694" href="Record.html#2694" class="Bound">_</a> <a id="2696" class="Symbol">→</a> <a id="2698" href="Agda.Builtin.Unit.html#137" class="Record">⊤</a><a id="2699" class="Symbol">)</a> <a id="2701" href="Data.Bool.Base.html#835" class="Function Operator">else</a> <a id="2706" href="Function.html#1104" class="Function">id</a><a id="2708" class="Symbol">)</a> <a id="2710" href="Data.Empty.html#279" class="Datatype">⊥</a> <a id="2712" class="Symbol">(</a><a id="2713" href="Record.html#2395" class="Function">labels</a> <a id="2720" href="Record.html#2650" class="Bound">Sig</a><a id="2723" class="Symbol">)</a>

<a id="2726" class="Comment">------------------------------------------------------------------------</a>
<a id="2799" class="Comment">-- Projections</a>

<a id="2815" class="Comment">-- Signature restriction and projection. (Restriction means removal of</a>
<a id="2886" class="Comment">-- a given field and all subsequent fields.)</a>

<a id="Restrict"></a><a id="2932" href="Record.html#2932" class="Function">Restrict</a> <a id="2941" class="Symbol">:</a> <a id="2943" class="Symbol">∀</a> <a id="2945" class="Symbol">{</a><a id="2946" href="Record.html#2946" class="Bound">s</a><a id="2947" class="Symbol">}</a> <a id="2949" class="Symbol">(</a><a id="2950" href="Record.html#2950" class="Bound">Sig</a> <a id="2954" class="Symbol">:</a> <a id="2956" href="Record.html#1475" class="Datatype">Signature</a> <a id="2966" href="Record.html#2946" class="Bound">s</a><a id="2967" class="Symbol">)</a> <a id="2969" class="Symbol">(</a><a id="2970" href="Record.html#2970" class="Bound">ℓ</a> <a id="2972" class="Symbol">:</a> <a id="2974" href="Record.html#887" class="Bound">Label</a><a id="2979" class="Symbol">)</a> <a id="2981" class="Symbol">→</a> <a id="2983" href="Record.html#2970" class="Bound">ℓ</a> <a id="2985" href="Record.html#2606" class="Function Operator">∈</a> <a id="2987" href="Record.html#2950" class="Bound">Sig</a> <a id="2991" class="Symbol">→</a>
           <a id="3004" href="Record.html#1475" class="Datatype">Signature</a> <a id="3014" href="Record.html#2946" class="Bound">s</a>
<a id="3016" href="Record.html#2932" class="Function">Restrict</a> <a id="3025" href="Record.html#1515" class="InductiveConstructor">∅</a>              <a id="3040" href="Record.html#3040" class="Bound">ℓ</a> <a id="3042" class="Symbol">()</a>
<a id="3045" href="Record.html#2932" class="Function">Restrict</a> <a id="3054" class="Symbol">(</a><a id="3055" href="Record.html#3055" class="Bound">Sig</a> <a id="3059" href="Record.html#1539" class="InductiveConstructor Operator">,</a> <a id="3061" href="Record.html#3061" class="Bound">ℓ′</a> <a id="3064" href="Record.html#1539" class="InductiveConstructor Operator">∶</a> <a id="3066" href="Record.html#3066" class="Bound">A</a><a id="3067" class="Symbol">)</a> <a id="3069" href="Record.html#3069" class="Bound">ℓ</a> <a id="3071" href="Record.html#3071" class="Bound">ℓ∈</a> <a id="3074" class="Keyword">with</a> <a id="3079" href="Record.html#3069" class="Bound">ℓ</a> <a id="3081" href="Record.html#903" class="Bound Operator">≟</a> <a id="3083" href="Record.html#3061" class="Bound">ℓ′</a>
<a id="3086" class="Symbol">...</a> <a id="3090" class="Symbol">|</a> <a id="3092" href="Relation.Nullary.html#606" class="InductiveConstructor">yes</a> <a id="3096" class="Symbol">_</a> <a id="3098" class="Symbol">=</a> <a id="3100" class="Bound">Sig</a>
<a id="3104" class="Symbol">...</a> <a id="3108" class="Symbol">|</a> <a id="3110" href="Relation.Nullary.html#633" class="InductiveConstructor">no</a>  <a id="3114" class="Symbol">_</a> <a id="3116" class="Symbol">=</a> <a id="3118" href="Record.html#2932" class="Function">Restrict</a> <a id="3127" class="Bound">Sig</a> <a id="3131" class="Bound">ℓ</a> <a id="3133" class="Bound">ℓ∈</a>
<a id="3136" href="Record.html#2932" class="Function">Restrict</a> <a id="3145" class="Symbol">(</a><a id="3146" href="Record.html#3146" class="Bound">Sig</a> <a id="3150" href="Record.html#1658" class="InductiveConstructor Operator">,</a> <a id="3152" href="Record.html#3152" class="Bound">ℓ′</a> <a id="3155" href="Record.html#1658" class="InductiveConstructor Operator">≔</a> <a id="3157" href="Record.html#3157" class="Bound">a</a><a id="3158" class="Symbol">)</a> <a id="3160" href="Record.html#3160" class="Bound">ℓ</a> <a id="3162" href="Record.html#3162" class="Bound">ℓ∈</a> <a id="3165" class="Keyword">with</a> <a id="3170" href="Record.html#3160" class="Bound">ℓ</a> <a id="3172" href="Record.html#903" class="Bound Operator">≟</a> <a id="3174" href="Record.html#3152" class="Bound">ℓ′</a>
<a id="3177" class="Symbol">...</a> <a id="3181" class="Symbol">|</a> <a id="3183" href="Relation.Nullary.html#606" class="InductiveConstructor">yes</a> <a id="3187" class="Symbol">_</a> <a id="3189" class="Symbol">=</a> <a id="3191" class="Bound">Sig</a>
<a id="3195" class="Symbol">...</a> <a id="3199" class="Symbol">|</a> <a id="3201" href="Relation.Nullary.html#633" class="InductiveConstructor">no</a>  <a id="3205" class="Symbol">_</a> <a id="3207" class="Symbol">=</a> <a id="3209" href="Record.html#2932" class="Function">Restrict</a> <a id="3218" class="Bound">Sig</a> <a id="3222" class="Bound">ℓ</a> <a id="3224" class="Bound">ℓ∈</a>

<a id="Restricted"></a><a id="3228" href="Record.html#3228" class="Function">Restricted</a> <a id="3239" class="Symbol">:</a> <a id="3241" class="Symbol">∀</a> <a id="3243" class="Symbol">{</a><a id="3244" href="Record.html#3244" class="Bound">s</a><a id="3245" class="Symbol">}</a> <a id="3247" class="Symbol">(</a><a id="3248" href="Record.html#3248" class="Bound">Sig</a> <a id="3252" class="Symbol">:</a> <a id="3254" href="Record.html#1475" class="Datatype">Signature</a> <a id="3264" href="Record.html#3244" class="Bound">s</a><a id="3265" class="Symbol">)</a> <a id="3267" class="Symbol">(</a><a id="3268" href="Record.html#3268" class="Bound">ℓ</a> <a id="3270" class="Symbol">:</a> <a id="3272" href="Record.html#887" class="Bound">Label</a><a id="3277" class="Symbol">)</a> <a id="3279" class="Symbol">→</a> <a id="3281" href="Record.html#3268" class="Bound">ℓ</a> <a id="3283" href="Record.html#2606" class="Function Operator">∈</a> <a id="3285" href="Record.html#3248" class="Bound">Sig</a> <a id="3289" class="Symbol">→</a> <a id="3291" class="PrimitiveType">Set</a> <a id="3295" href="Record.html#3244" class="Bound">s</a>
<a id="3297" href="Record.html#3228" class="Function">Restricted</a> <a id="3308" href="Record.html#3308" class="Bound">Sig</a> <a id="3312" href="Record.html#3312" class="Bound">ℓ</a> <a id="3314" href="Record.html#3314" class="Bound">ℓ∈</a> <a id="3317" class="Symbol">=</a> <a id="3319" href="Record.html#1937" class="Record">Record</a> <a id="3326" class="Symbol">(</a><a id="3327" href="Record.html#2932" class="Function">Restrict</a> <a id="3336" href="Record.html#3308" class="Bound">Sig</a> <a id="3340" href="Record.html#3312" class="Bound">ℓ</a> <a id="3342" href="Record.html#3314" class="Bound">ℓ∈</a><a id="3344" class="Symbol">)</a>

<a id="Proj"></a><a id="3347" href="Record.html#3347" class="Function">Proj</a> <a id="3352" class="Symbol">:</a> <a id="3354" class="Symbol">∀</a> <a id="3356" class="Symbol">{</a><a id="3357" href="Record.html#3357" class="Bound">s</a><a id="3358" class="Symbol">}</a> <a id="3360" class="Symbol">(</a><a id="3361" href="Record.html#3361" class="Bound">Sig</a> <a id="3365" class="Symbol">:</a> <a id="3367" href="Record.html#1475" class="Datatype">Signature</a> <a id="3377" href="Record.html#3357" class="Bound">s</a><a id="3378" class="Symbol">)</a> <a id="3380" class="Symbol">(</a><a id="3381" href="Record.html#3381" class="Bound">ℓ</a> <a id="3383" class="Symbol">:</a> <a id="3385" href="Record.html#887" class="Bound">Label</a><a id="3390" class="Symbol">)</a> <a id="3392" class="Symbol">{</a><a id="3393" href="Record.html#3393" class="Bound">ℓ∈</a> <a id="3396" class="Symbol">:</a> <a id="3398" href="Record.html#3381" class="Bound">ℓ</a> <a id="3400" href="Record.html#2606" class="Function Operator">∈</a> <a id="3402" href="Record.html#3361" class="Bound">Sig</a><a id="3405" class="Symbol">}</a> <a id="3407" class="Symbol">→</a>
       <a id="3416" href="Record.html#3228" class="Function">Restricted</a> <a id="3427" href="Record.html#3361" class="Bound">Sig</a> <a id="3431" href="Record.html#3381" class="Bound">ℓ</a> <a id="3433" href="Record.html#3393" class="Bound">ℓ∈</a> <a id="3436" class="Symbol">→</a> <a id="3438" class="PrimitiveType">Set</a> <a id="3442" href="Record.html#3357" class="Bound">s</a>
<a id="3444" href="Record.html#3347" class="Function">Proj</a> <a id="3449" href="Record.html#1515" class="InductiveConstructor">∅</a>              <a id="3464" href="Record.html#3464" class="Bound">ℓ</a> <a id="3466" class="Symbol">{}</a>
<a id="3469" href="Record.html#3347" class="Function">Proj</a> <a id="3474" class="Symbol">(</a><a id="3475" href="Record.html#3475" class="Bound">Sig</a> <a id="3479" href="Record.html#1539" class="InductiveConstructor Operator">,</a> <a id="3481" href="Record.html#3481" class="Bound">ℓ′</a> <a id="3484" href="Record.html#1539" class="InductiveConstructor Operator">∶</a> <a id="3486" href="Record.html#3486" class="Bound">A</a><a id="3487" class="Symbol">)</a> <a id="3489" href="Record.html#3489" class="Bound">ℓ</a> <a id="3491" class="Symbol">{</a><a id="3492" href="Record.html#3492" class="Bound">ℓ∈</a><a id="3494" class="Symbol">}</a> <a id="3496" class="Keyword">with</a> <a id="3501" href="Record.html#3489" class="Bound">ℓ</a> <a id="3503" href="Record.html#903" class="Bound Operator">≟</a> <a id="3505" href="Record.html#3481" class="Bound">ℓ′</a>
<a id="3508" class="Symbol">...</a> <a id="3512" class="Symbol">|</a> <a id="3514" href="Relation.Nullary.html#606" class="InductiveConstructor">yes</a> <a id="3518" class="Symbol">_</a> <a id="3520" class="Symbol">=</a> <a id="3522" class="Bound">A</a>
<a id="3524" class="Symbol">...</a> <a id="3528" class="Symbol">|</a> <a id="3530" href="Relation.Nullary.html#633" class="InductiveConstructor">no</a>  <a id="3534" class="Symbol">_</a> <a id="3536" class="Symbol">=</a> <a id="3538" href="Record.html#3347" class="Function">Proj</a> <a id="3543" class="Bound">Sig</a> <a id="3547" class="Bound">ℓ</a> <a id="3549" class="Symbol">{</a><a id="3550" class="Bound">ℓ∈</a><a id="3552" class="Symbol">}</a>
<a id="3554" href="Record.html#3347" class="Function">Proj</a> <a id="3559" class="Symbol">(</a><a id="3560" href="Record.html#1658" class="InductiveConstructor Operator">_,_≔_</a> <a id="3566" href="Record.html#3566" class="Bound">Sig</a> <a id="3570" href="Record.html#3570" class="Bound">ℓ′</a> <a id="3573" class="Symbol">{</a><a id="3574" class="Argument">A</a> <a id="3576" class="Symbol">=</a> <a id="3578" href="Record.html#3578" class="Bound">A</a><a id="3579" class="Symbol">}</a> <a id="3581" href="Record.html#3581" class="Bound">a</a><a id="3582" class="Symbol">)</a> <a id="3584" href="Record.html#3584" class="Bound">ℓ</a> <a id="3586" class="Symbol">{</a><a id="3587" href="Record.html#3587" class="Bound">ℓ∈</a><a id="3589" class="Symbol">}</a> <a id="3591" class="Keyword">with</a> <a id="3596" href="Record.html#3584" class="Bound">ℓ</a> <a id="3598" href="Record.html#903" class="Bound Operator">≟</a> <a id="3600" href="Record.html#3570" class="Bound">ℓ′</a>
<a id="3603" class="Symbol">...</a> <a id="3607" class="Symbol">|</a> <a id="3609" href="Relation.Nullary.html#606" class="InductiveConstructor">yes</a> <a id="3613" class="Symbol">_</a> <a id="3615" class="Symbol">=</a> <a id="3617" class="Bound">A</a>
<a id="3619" class="Symbol">...</a> <a id="3623" class="Symbol">|</a> <a id="3625" href="Relation.Nullary.html#633" class="InductiveConstructor">no</a>  <a id="3629" class="Symbol">_</a> <a id="3631" class="Symbol">=</a> <a id="3633" href="Record.html#3347" class="Function">Proj</a> <a id="3638" class="Bound">Sig</a> <a id="3642" class="Bound">ℓ</a> <a id="3644" class="Symbol">{</a><a id="3645" class="Bound">ℓ∈</a><a id="3647" class="Symbol">}</a>

<a id="3650" class="Comment">-- Record restriction and projection.</a>

<a id="3689" class="Keyword">infixl</a> <a id="3696" class="Number">5</a> <a id="3698" href="Record.html#3703" class="Function Operator">_∣_</a>

<a id="_∣_"></a><a id="3703" href="Record.html#3703" class="Function Operator">_∣_</a> <a id="3707" class="Symbol">:</a> <a id="3709" class="Symbol">∀</a> <a id="3711" class="Symbol">{</a><a id="3712" href="Record.html#3712" class="Bound">s</a><a id="3713" class="Symbol">}</a> <a id="3715" class="Symbol">{</a><a id="3716" href="Record.html#3716" class="Bound">Sig</a> <a id="3720" class="Symbol">:</a> <a id="3722" href="Record.html#1475" class="Datatype">Signature</a> <a id="3732" href="Record.html#3712" class="Bound">s</a><a id="3733" class="Symbol">}</a> <a id="3735" class="Symbol">→</a> <a id="3737" href="Record.html#1937" class="Record">Record</a> <a id="3744" href="Record.html#3716" class="Bound">Sig</a> <a id="3748" class="Symbol">→</a>
      <a id="3756" class="Symbol">(</a><a id="3757" href="Record.html#3757" class="Bound">ℓ</a> <a id="3759" class="Symbol">:</a> <a id="3761" href="Record.html#887" class="Bound">Label</a><a id="3766" class="Symbol">)</a> <a id="3768" class="Symbol">{</a><a id="3769" href="Record.html#3769" class="Bound">ℓ∈</a> <a id="3772" class="Symbol">:</a> <a id="3774" href="Record.html#3757" class="Bound">ℓ</a> <a id="3776" href="Record.html#2606" class="Function Operator">∈</a> <a id="3778" href="Record.html#3716" class="Bound">Sig</a><a id="3781" class="Symbol">}</a> <a id="3783" class="Symbol">→</a> <a id="3785" href="Record.html#3228" class="Function">Restricted</a> <a id="3796" href="Record.html#3716" class="Bound">Sig</a> <a id="3800" href="Record.html#3757" class="Bound">ℓ</a> <a id="3802" href="Record.html#3769" class="Bound">ℓ∈</a>
<a id="3805" href="Record.html#3703" class="Function Operator">_∣_</a> <a id="3809" class="Symbol">{</a><a id="3810" class="Argument">Sig</a> <a id="3814" class="Symbol">=</a> <a id="3816" href="Record.html#1515" class="InductiveConstructor">∅</a><a id="3817" class="Symbol">}</a>            <a id="3830" href="Record.html#3830" class="Bound">r</a>       <a id="3838" href="Record.html#3838" class="Bound">ℓ</a> <a id="3840" class="Symbol">{}</a>
<a id="3843" href="Record.html#3703" class="Function Operator">_∣_</a> <a id="3847" class="Symbol">{</a><a id="3848" class="Argument">Sig</a> <a id="3852" class="Symbol">=</a> <a id="3854" href="Record.html#3854" class="Bound">Sig</a> <a id="3858" href="Record.html#1539" class="InductiveConstructor Operator">,</a> <a id="3860" href="Record.html#3860" class="Bound">ℓ′</a> <a id="3863" href="Record.html#1539" class="InductiveConstructor Operator">∶</a> <a id="3865" href="Record.html#3865" class="Bound">A</a><a id="3866" class="Symbol">}</a> <a id="3868" class="Symbol">(</a><a id="3869" href="Record.html#2029" class="InductiveConstructor">rec</a> <a id="3873" href="Record.html#3873" class="Bound">r</a><a id="3874" class="Symbol">)</a> <a id="3876" href="Record.html#3876" class="Bound">ℓ</a> <a id="3878" class="Symbol">{</a><a id="3879" href="Record.html#3879" class="Bound">ℓ∈</a><a id="3881" class="Symbol">}</a> <a id="3883" class="Keyword">with</a> <a id="3888" href="Record.html#3876" class="Bound">ℓ</a> <a id="3890" href="Record.html#903" class="Bound Operator">≟</a> <a id="3892" href="Record.html#3860" class="Bound">ℓ′</a>
<a id="3895" class="Symbol">...</a> <a id="3899" class="Symbol">|</a> <a id="3901" href="Relation.Nullary.html#606" class="InductiveConstructor">yes</a> <a id="3905" class="Symbol">_</a> <a id="3907" class="Symbol">=</a> <a id="3909" href="Agda.Builtin.Sigma.html#225" class="Field">Σ.proj₁</a> <a id="3917" class="Bound">r</a>
<a id="3919" class="Symbol">...</a> <a id="3923" class="Symbol">|</a> <a id="3925" href="Relation.Nullary.html#633" class="InductiveConstructor">no</a>  <a id="3929" class="Symbol">_</a> <a id="3931" class="Symbol">=</a> <a id="3933" href="Record.html#3703" class="Function Operator">_∣_</a> <a id="3937" class="Symbol">(</a><a id="3938" href="Agda.Builtin.Sigma.html#225" class="Field">Σ.proj₁</a> <a id="3946" class="Bound">r</a><a id="3947" class="Symbol">)</a> <a id="3949" class="Bound">ℓ</a> <a id="3951" class="Symbol">{</a><a id="3952" class="Bound">ℓ∈</a><a id="3954" class="Symbol">}</a>
<a id="3956" href="Record.html#3703" class="Function Operator">_∣_</a> <a id="3960" class="Symbol">{</a><a id="3961" class="Argument">Sig</a> <a id="3965" class="Symbol">=</a> <a id="3967" href="Record.html#3967" class="Bound">Sig</a> <a id="3971" href="Record.html#1658" class="InductiveConstructor Operator">,</a> <a id="3973" href="Record.html#3973" class="Bound">ℓ′</a> <a id="3976" href="Record.html#1658" class="InductiveConstructor Operator">≔</a> <a id="3978" href="Record.html#3978" class="Bound">a</a><a id="3979" class="Symbol">}</a> <a id="3981" class="Symbol">(</a><a id="3982" href="Record.html#2029" class="InductiveConstructor">rec</a> <a id="3986" href="Record.html#3986" class="Bound">r</a><a id="3987" class="Symbol">)</a> <a id="3989" href="Record.html#3989" class="Bound">ℓ</a> <a id="3991" class="Symbol">{</a><a id="3992" href="Record.html#3992" class="Bound">ℓ∈</a><a id="3994" class="Symbol">}</a> <a id="3996" class="Keyword">with</a> <a id="4001" href="Record.html#3989" class="Bound">ℓ</a> <a id="4003" href="Record.html#903" class="Bound Operator">≟</a> <a id="4005" href="Record.html#3973" class="Bound">ℓ′</a>
<a id="4008" class="Symbol">...</a> <a id="4012" class="Symbol">|</a> <a id="4014" href="Relation.Nullary.html#606" class="InductiveConstructor">yes</a> <a id="4018" class="Symbol">_</a> <a id="4020" class="Symbol">=</a> <a id="4022" href="Record.html#1288" class="Field">Manifest-Σ.proj₁</a> <a id="4039" class="Bound">r</a>
<a id="4041" class="Symbol">...</a> <a id="4045" class="Symbol">|</a> <a id="4047" href="Relation.Nullary.html#633" class="InductiveConstructor">no</a>  <a id="4051" class="Symbol">_</a> <a id="4053" class="Symbol">=</a> <a id="4055" href="Record.html#3703" class="Function Operator">_∣_</a> <a id="4059" class="Symbol">(</a><a id="4060" href="Record.html#1288" class="Field">Manifest-Σ.proj₁</a> <a id="4077" class="Bound">r</a><a id="4078" class="Symbol">)</a> <a id="4080" class="Bound">ℓ</a> <a id="4082" class="Symbol">{</a><a id="4083" class="Bound">ℓ∈</a><a id="4085" class="Symbol">}</a>

<a id="4088" class="Keyword">infixl</a> <a id="4095" class="Number">5</a> <a id="4097" href="Record.html#4102" class="Function Operator">_·_</a>

<a id="_·_"></a><a id="4102" href="Record.html#4102" class="Function Operator">_·_</a> <a id="4106" class="Symbol">:</a> <a id="4108" class="Symbol">∀</a> <a id="4110" class="Symbol">{</a><a id="4111" href="Record.html#4111" class="Bound">s</a><a id="4112" class="Symbol">}</a> <a id="4114" class="Symbol">{</a><a id="4115" href="Record.html#4115" class="Bound">Sig</a> <a id="4119" class="Symbol">:</a> <a id="4121" href="Record.html#1475" class="Datatype">Signature</a> <a id="4131" href="Record.html#4111" class="Bound">s</a><a id="4132" class="Symbol">}</a> <a id="4134" class="Symbol">(</a><a id="4135" href="Record.html#4135" class="Bound">r</a> <a id="4137" class="Symbol">:</a> <a id="4139" href="Record.html#1937" class="Record">Record</a> <a id="4146" href="Record.html#4115" class="Bound">Sig</a><a id="4149" class="Symbol">)</a>
      <a id="4157" class="Symbol">(</a><a id="4158" href="Record.html#4158" class="Bound">ℓ</a> <a id="4160" class="Symbol">:</a> <a id="4162" href="Record.html#887" class="Bound">Label</a><a id="4167" class="Symbol">)</a> <a id="4169" class="Symbol">{</a><a id="4170" href="Record.html#4170" class="Bound">ℓ∈</a> <a id="4173" class="Symbol">:</a> <a id="4175" href="Record.html#4158" class="Bound">ℓ</a> <a id="4177" href="Record.html#2606" class="Function Operator">∈</a> <a id="4179" href="Record.html#4115" class="Bound">Sig</a><a id="4182" class="Symbol">}</a> <a id="4184" class="Symbol">→</a>
      <a id="4192" href="Record.html#3347" class="Function">Proj</a> <a id="4197" href="Record.html#4115" class="Bound">Sig</a> <a id="4201" href="Record.html#4158" class="Bound">ℓ</a> <a id="4203" class="Symbol">{</a><a id="4204" href="Record.html#4170" class="Bound">ℓ∈</a><a id="4206" class="Symbol">}</a> <a id="4208" class="Symbol">(</a><a id="4209" href="Record.html#4135" class="Bound">r</a> <a id="4211" href="Record.html#3703" class="Function Operator">∣</a> <a id="4213" href="Record.html#4158" class="Bound">ℓ</a><a id="4214" class="Symbol">)</a>
<a id="4216" href="Record.html#4102" class="Function Operator">_·_</a> <a id="4220" class="Symbol">{</a><a id="4221" class="Argument">Sig</a> <a id="4225" class="Symbol">=</a> <a id="4227" href="Record.html#1515" class="InductiveConstructor">∅</a><a id="4228" class="Symbol">}</a>            <a id="4241" href="Record.html#4241" class="Bound">r</a>       <a id="4249" href="Record.html#4249" class="Bound">ℓ</a> <a id="4251" class="Symbol">{}</a>
<a id="4254" href="Record.html#4102" class="Function Operator">_·_</a> <a id="4258" class="Symbol">{</a><a id="4259" class="Argument">Sig</a> <a id="4263" class="Symbol">=</a> <a id="4265" href="Record.html#4265" class="Bound">Sig</a> <a id="4269" href="Record.html#1539" class="InductiveConstructor Operator">,</a> <a id="4271" href="Record.html#4271" class="Bound">ℓ′</a> <a id="4274" href="Record.html#1539" class="InductiveConstructor Operator">∶</a> <a id="4276" href="Record.html#4276" class="Bound">A</a><a id="4277" class="Symbol">}</a> <a id="4279" class="Symbol">(</a><a id="4280" href="Record.html#2029" class="InductiveConstructor">rec</a> <a id="4284" href="Record.html#4284" class="Bound">r</a><a id="4285" class="Symbol">)</a> <a id="4287" href="Record.html#4287" class="Bound">ℓ</a> <a id="4289" class="Symbol">{</a><a id="4290" href="Record.html#4290" class="Bound">ℓ∈</a><a id="4292" class="Symbol">}</a> <a id="4294" class="Keyword">with</a> <a id="4299" href="Record.html#4287" class="Bound">ℓ</a> <a id="4301" href="Record.html#903" class="Bound Operator">≟</a> <a id="4303" href="Record.html#4271" class="Bound">ℓ′</a>
<a id="4306" class="Symbol">...</a> <a id="4310" class="Symbol">|</a> <a id="4312" href="Relation.Nullary.html#606" class="InductiveConstructor">yes</a> <a id="4316" class="Symbol">_</a> <a id="4318" class="Symbol">=</a> <a id="4320" href="Agda.Builtin.Sigma.html#237" class="Field">Σ.proj₂</a> <a id="4328" class="Bound">r</a>
<a id="4330" class="Symbol">...</a> <a id="4334" class="Symbol">|</a> <a id="4336" href="Relation.Nullary.html#633" class="InductiveConstructor">no</a>  <a id="4340" class="Symbol">_</a> <a id="4342" class="Symbol">=</a> <a id="4344" href="Record.html#4102" class="Function Operator">_·_</a> <a id="4348" class="Symbol">(</a><a id="4349" href="Agda.Builtin.Sigma.html#225" class="Field">Σ.proj₁</a> <a id="4357" class="Bound">r</a><a id="4358" class="Symbol">)</a> <a id="4360" class="Bound">ℓ</a> <a id="4362" class="Symbol">{</a><a id="4363" class="Bound">ℓ∈</a><a id="4365" class="Symbol">}</a>
<a id="4367" href="Record.html#4102" class="Function Operator">_·_</a> <a id="4371" class="Symbol">{</a><a id="4372" class="Argument">Sig</a> <a id="4376" class="Symbol">=</a> <a id="4378" href="Record.html#4378" class="Bound">Sig</a> <a id="4382" href="Record.html#1658" class="InductiveConstructor Operator">,</a> <a id="4384" href="Record.html#4384" class="Bound">ℓ′</a> <a id="4387" href="Record.html#1658" class="InductiveConstructor Operator">≔</a> <a id="4389" href="Record.html#4389" class="Bound">a</a><a id="4390" class="Symbol">}</a> <a id="4392" class="Symbol">(</a><a id="4393" href="Record.html#2029" class="InductiveConstructor">rec</a> <a id="4397" href="Record.html#4397" class="Bound">r</a><a id="4398" class="Symbol">)</a> <a id="4400" href="Record.html#4400" class="Bound">ℓ</a> <a id="4402" class="Symbol">{</a><a id="4403" href="Record.html#4403" class="Bound">ℓ∈</a><a id="4405" class="Symbol">}</a> <a id="4407" class="Keyword">with</a> <a id="4412" href="Record.html#4400" class="Bound">ℓ</a> <a id="4414" href="Record.html#903" class="Bound Operator">≟</a> <a id="4416" href="Record.html#4384" class="Bound">ℓ′</a>
<a id="4419" class="Symbol">...</a> <a id="4423" class="Symbol">|</a> <a id="4425" href="Relation.Nullary.html#606" class="InductiveConstructor">yes</a> <a id="4429" class="Symbol">_</a> <a id="4431" class="Symbol">=</a> <a id="4433" href="Record.html#1301" class="Function">Manifest-Σ.proj₂</a> <a id="4450" class="Bound">r</a>
<a id="4452" class="Symbol">...</a> <a id="4456" class="Symbol">|</a> <a id="4458" href="Relation.Nullary.html#633" class="InductiveConstructor">no</a>  <a id="4462" class="Symbol">_</a> <a id="4464" class="Symbol">=</a> <a id="4466" href="Record.html#4102" class="Function Operator">_·_</a> <a id="4470" class="Symbol">(</a><a id="4471" href="Record.html#1288" class="Field">Manifest-Σ.proj₁</a> <a id="4488" class="Bound">r</a><a id="4489" class="Symbol">)</a> <a id="4491" class="Bound">ℓ</a> <a id="4493" class="Symbol">{</a><a id="4494" class="Bound">ℓ∈</a><a id="4496" class="Symbol">}</a>

<a id="4499" class="Comment">------------------------------------------------------------------------</a>
<a id="4572" class="Comment">-- With</a>

<a id="4581" class="Comment">-- Sig With ℓ ≔ a is the signature Sig, but with the ℓ field set to a.</a>

<a id="4653" class="Keyword">mutual</a>

  <a id="4663" class="Keyword">infixl</a> <a id="4670" class="Number">5</a> <a id="4672" href="Record.html#4684" class="Function Operator">_With_≔_</a>

  <a id="_With_≔_"></a><a id="4684" href="Record.html#4684" class="Function Operator">_With_≔_</a> <a id="4693" class="Symbol">:</a> <a id="4695" class="Symbol">∀</a> <a id="4697" class="Symbol">{</a><a id="4698" href="Record.html#4698" class="Bound">s</a><a id="4699" class="Symbol">}</a> <a id="4701" class="Symbol">(</a><a id="4702" href="Record.html#4702" class="Bound">Sig</a> <a id="4706" class="Symbol">:</a> <a id="4708" href="Record.html#1475" class="Datatype">Signature</a> <a id="4718" href="Record.html#4698" class="Bound">s</a><a id="4719" class="Symbol">)</a> <a id="4721" class="Symbol">(</a><a id="4722" href="Record.html#4722" class="Bound">ℓ</a> <a id="4724" class="Symbol">:</a> <a id="4726" href="Record.html#887" class="Bound">Label</a><a id="4731" class="Symbol">)</a> <a id="4733" class="Symbol">{</a><a id="4734" href="Record.html#4734" class="Bound">ℓ∈</a> <a id="4737" class="Symbol">:</a> <a id="4739" href="Record.html#4722" class="Bound">ℓ</a> <a id="4741" href="Record.html#2606" class="Function Operator">∈</a> <a id="4743" href="Record.html#4702" class="Bound">Sig</a><a id="4746" class="Symbol">}</a> <a id="4748" class="Symbol">→</a>
             <a id="4763" class="Symbol">((</a><a id="4765" href="Record.html#4765" class="Bound">r</a> <a id="4767" class="Symbol">:</a> <a id="4769" href="Record.html#3228" class="Function">Restricted</a> <a id="4780" href="Record.html#4702" class="Bound">Sig</a> <a id="4784" href="Record.html#4722" class="Bound">ℓ</a> <a id="4786" href="Record.html#4734" class="Bound">ℓ∈</a><a id="4788" class="Symbol">)</a> <a id="4790" class="Symbol">→</a> <a id="4792" href="Record.html#3347" class="Function">Proj</a> <a id="4797" href="Record.html#4702" class="Bound">Sig</a> <a id="4801" href="Record.html#4722" class="Bound">ℓ</a> <a id="4803" href="Record.html#4765" class="Bound">r</a><a id="4804" class="Symbol">)</a> <a id="4806" class="Symbol">→</a> <a id="4808" href="Record.html#1475" class="Datatype">Signature</a> <a id="4818" href="Record.html#4698" class="Bound">s</a>
  <a id="4822" href="Record.html#4684" class="Function Operator">_With_≔_</a> <a id="4831" href="Record.html#1515" class="InductiveConstructor">∅</a> <a id="4833" href="Record.html#4833" class="Bound">ℓ</a> <a id="4835" class="Symbol">{}</a> <a id="4838" href="Record.html#4838" class="Bound">a</a>
  <a id="4842" href="Record.html#4684" class="Function Operator">_With_≔_</a> <a id="4851" class="Symbol">(</a><a id="4852" href="Record.html#4852" class="Bound">Sig</a> <a id="4856" href="Record.html#1539" class="InductiveConstructor Operator">,</a> <a id="4858" href="Record.html#4858" class="Bound">ℓ′</a> <a id="4861" href="Record.html#1539" class="InductiveConstructor Operator">∶</a> <a id="4863" href="Record.html#4863" class="Bound">A</a><a id="4864" class="Symbol">)</a>   <a id="4868" href="Record.html#4868" class="Bound">ℓ</a> <a id="4870" class="Symbol">{</a><a id="4871" href="Record.html#4871" class="Bound">ℓ∈</a><a id="4873" class="Symbol">}</a> <a id="4875" href="Record.html#4875" class="Bound">a</a> <a id="4877" class="Keyword">with</a> <a id="4882" href="Record.html#4868" class="Bound">ℓ</a> <a id="4884" href="Record.html#903" class="Bound Operator">≟</a> <a id="4886" href="Record.html#4858" class="Bound">ℓ′</a>
  <a id="4891" class="Symbol">...</a> <a id="4895" class="Symbol">|</a> <a id="4897" href="Relation.Nullary.html#606" class="InductiveConstructor">yes</a> <a id="4901" class="Symbol">_</a> <a id="4903" class="Symbol">=</a> <a id="4905" class="Bound">Sig</a>                   <a id="4927" href="Record.html#1658" class="InductiveConstructor Operator">,</a> <a id="4929" class="Bound">ℓ′</a> <a id="4932" href="Record.html#1658" class="InductiveConstructor Operator">≔</a> <a id="4934" class="Bound">a</a>
  <a id="4938" class="Symbol">...</a> <a id="4942" class="Symbol">|</a> <a id="4944" href="Relation.Nullary.html#633" class="InductiveConstructor">no</a>  <a id="4948" class="Symbol">_</a> <a id="4950" class="Symbol">=</a> <a id="4952" href="Record.html#4684" class="Function Operator">_With_≔_</a> <a id="4961" class="Bound">Sig</a> <a id="4965" class="Bound">ℓ</a> <a id="4967" class="Symbol">{</a><a id="4968" class="Bound">ℓ∈</a><a id="4970" class="Symbol">}</a> <a id="4972" class="Bound">a</a> <a id="4974" href="Record.html#1539" class="InductiveConstructor Operator">,</a> <a id="4976" class="Bound">ℓ′</a> <a id="4979" href="Record.html#1539" class="InductiveConstructor Operator">∶</a> <a id="4981" class="Bound">A</a> <a id="4983" href="Function.html#805" class="Function Operator">∘</a> <a id="4985" href="Record.html#5154" class="Function">drop-With</a>
  <a id="4997" href="Record.html#4684" class="Function Operator">_With_≔_</a>  <a id="5007" class="Symbol">(</a><a id="5008" href="Record.html#5008" class="Bound">Sig</a> <a id="5012" href="Record.html#1658" class="InductiveConstructor Operator">,</a> <a id="5014" href="Record.html#5014" class="Bound">ℓ′</a> <a id="5017" href="Record.html#1658" class="InductiveConstructor Operator">≔</a> <a id="5019" href="Record.html#5019" class="Bound">a′</a><a id="5021" class="Symbol">)</a> <a id="5023" href="Record.html#5023" class="Bound">ℓ</a> <a id="5025" class="Symbol">{</a><a id="5026" href="Record.html#5026" class="Bound">ℓ∈</a><a id="5028" class="Symbol">}</a> <a id="5030" href="Record.html#5030" class="Bound">a</a> <a id="5032" class="Keyword">with</a> <a id="5037" href="Record.html#5023" class="Bound">ℓ</a> <a id="5039" href="Record.html#903" class="Bound Operator">≟</a> <a id="5041" href="Record.html#5014" class="Bound">ℓ′</a>
  <a id="5046" class="Symbol">...</a> <a id="5050" class="Symbol">|</a> <a id="5052" href="Relation.Nullary.html#606" class="InductiveConstructor">yes</a> <a id="5056" class="Symbol">_</a> <a id="5058" class="Symbol">=</a> <a id="5060" class="Bound">Sig</a>                   <a id="5082" href="Record.html#1658" class="InductiveConstructor Operator">,</a> <a id="5084" class="Bound">ℓ′</a> <a id="5087" href="Record.html#1658" class="InductiveConstructor Operator">≔</a> <a id="5089" class="Bound">a</a>
  <a id="5093" class="Symbol">...</a> <a id="5097" class="Symbol">|</a> <a id="5099" href="Relation.Nullary.html#633" class="InductiveConstructor">no</a>  <a id="5103" class="Symbol">_</a> <a id="5105" class="Symbol">=</a> <a id="5107" href="Record.html#4684" class="Function Operator">_With_≔_</a> <a id="5116" class="Bound">Sig</a> <a id="5120" class="Bound">ℓ</a> <a id="5122" class="Symbol">{</a><a id="5123" class="Bound">ℓ∈</a><a id="5125" class="Symbol">}</a> <a id="5127" class="Bound">a</a> <a id="5129" href="Record.html#1658" class="InductiveConstructor Operator">,</a> <a id="5131" class="Bound">ℓ′</a> <a id="5134" href="Record.html#1658" class="InductiveConstructor Operator">≔</a> <a id="5136" class="Bound">a′</a> <a id="5139" href="Function.html#805" class="Function Operator">∘</a> <a id="5141" href="Record.html#5154" class="Function">drop-With</a>

  <a id="drop-With"></a><a id="5154" href="Record.html#5154" class="Function">drop-With</a> <a id="5164" class="Symbol">:</a> <a id="5166" class="Symbol">∀</a> <a id="5168" class="Symbol">{</a><a id="5169" href="Record.html#5169" class="Bound">s</a><a id="5170" class="Symbol">}</a> <a id="5172" class="Symbol">{</a><a id="5173" href="Record.html#5173" class="Bound">Sig</a> <a id="5177" class="Symbol">:</a> <a id="5179" href="Record.html#1475" class="Datatype">Signature</a> <a id="5189" href="Record.html#5169" class="Bound">s</a><a id="5190" class="Symbol">}</a> <a id="5192" class="Symbol">{</a><a id="5193" href="Record.html#5193" class="Bound">ℓ</a> <a id="5195" class="Symbol">:</a> <a id="5197" href="Record.html#887" class="Bound">Label</a><a id="5202" class="Symbol">}</a> <a id="5204" class="Symbol">{</a><a id="5205" href="Record.html#5205" class="Bound">ℓ∈</a> <a id="5208" class="Symbol">:</a> <a id="5210" href="Record.html#5193" class="Bound">ℓ</a> <a id="5212" href="Record.html#2606" class="Function Operator">∈</a> <a id="5214" href="Record.html#5173" class="Bound">Sig</a><a id="5217" class="Symbol">}</a>
              <a id="5233" class="Symbol">{</a><a id="5234" href="Record.html#5234" class="Bound">a</a> <a id="5236" class="Symbol">:</a> <a id="5238" class="Symbol">(</a><a id="5239" href="Record.html#5239" class="Bound">r</a> <a id="5241" class="Symbol">:</a> <a id="5243" href="Record.html#3228" class="Function">Restricted</a> <a id="5254" href="Record.html#5173" class="Bound">Sig</a> <a id="5258" href="Record.html#5193" class="Bound">ℓ</a> <a id="5260" href="Record.html#5205" class="Bound">ℓ∈</a><a id="5262" class="Symbol">)</a> <a id="5264" class="Symbol">→</a> <a id="5266" href="Record.html#3347" class="Function">Proj</a> <a id="5271" href="Record.html#5173" class="Bound">Sig</a> <a id="5275" href="Record.html#5193" class="Bound">ℓ</a> <a id="5277" href="Record.html#5239" class="Bound">r</a><a id="5278" class="Symbol">}</a> <a id="5280" class="Symbol">→</a>
              <a id="5296" href="Record.html#1937" class="Record">Record</a> <a id="5303" class="Symbol">(</a><a id="5304" href="Record.html#4684" class="Function Operator">_With_≔_</a> <a id="5313" href="Record.html#5173" class="Bound">Sig</a> <a id="5317" href="Record.html#5193" class="Bound">ℓ</a> <a id="5319" class="Symbol">{</a><a id="5320" href="Record.html#5205" class="Bound">ℓ∈</a><a id="5322" class="Symbol">}</a> <a id="5324" href="Record.html#5234" class="Bound">a</a><a id="5325" class="Symbol">)</a> <a id="5327" class="Symbol">→</a> <a id="5329" href="Record.html#1937" class="Record">Record</a> <a id="5336" href="Record.html#5173" class="Bound">Sig</a>
  <a id="5342" href="Record.html#5154" class="Function">drop-With</a> <a id="5352" class="Symbol">{</a><a id="5353" class="Argument">Sig</a> <a id="5357" class="Symbol">=</a> <a id="5359" href="Record.html#1515" class="InductiveConstructor">∅</a><a id="5360" class="Symbol">}</a> <a id="5362" class="Symbol">{</a><a id="5363" class="Argument">ℓ∈</a> <a id="5366" class="Symbol">=</a> <a id="5368" class="Symbol">()}</a>      <a id="5377" href="Record.html#5377" class="Bound">r</a>
  <a id="5381" href="Record.html#5154" class="Function">drop-With</a> <a id="5391" class="Symbol">{</a><a id="5392" class="Argument">Sig</a> <a id="5396" class="Symbol">=</a> <a id="5398" href="Record.html#5398" class="Bound">Sig</a> <a id="5402" href="Record.html#1539" class="InductiveConstructor Operator">,</a> <a id="5404" href="Record.html#5404" class="Bound">ℓ′</a> <a id="5407" href="Record.html#1539" class="InductiveConstructor Operator">∶</a> <a id="5409" href="Record.html#5409" class="Bound">A</a><a id="5410" class="Symbol">}</a> <a id="5412" class="Symbol">{</a><a id="5413" href="Record.html#5413" class="Bound">ℓ</a><a id="5414" class="Symbol">}</a> <a id="5416" class="Symbol">(</a><a id="5417" href="Record.html#2029" class="InductiveConstructor">rec</a> <a id="5421" href="Record.html#5421" class="Bound">r</a><a id="5422" class="Symbol">)</a> <a id="5424" class="Keyword">with</a> <a id="5429" href="Record.html#5413" class="Bound">ℓ</a> <a id="5431" href="Record.html#903" class="Bound Operator">≟</a> <a id="5433" href="Record.html#5404" class="Bound">ℓ′</a>
  <a id="5438" class="Symbol">...</a> <a id="5442" class="Symbol">|</a> <a id="5444" href="Relation.Nullary.html#606" class="InductiveConstructor">yes</a> <a id="5448" class="Symbol">_</a> <a id="5450" class="Symbol">=</a> <a id="5452" href="Record.html#2029" class="InductiveConstructor">rec</a> <a id="5456" class="Symbol">(</a><a id="5457" href="Record.html#1288" class="Field">Manifest-Σ.proj₁</a> <a id="5474" class="Bound">r</a> <a id="5476" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5478" href="Record.html#1301" class="Function">Manifest-Σ.proj₂</a> <a id="5495" class="Bound">r</a><a id="5496" class="Symbol">)</a>
  <a id="5500" class="Symbol">...</a> <a id="5504" class="Symbol">|</a> <a id="5506" href="Relation.Nullary.html#633" class="InductiveConstructor">no</a>  <a id="5510" class="Symbol">_</a> <a id="5512" class="Symbol">=</a> <a id="5514" href="Record.html#2029" class="InductiveConstructor">rec</a> <a id="5518" class="Symbol">(</a><a id="5519" href="Record.html#5154" class="Function">drop-With</a> <a id="5529" class="Symbol">(</a><a id="5530" href="Agda.Builtin.Sigma.html#225" class="Field">Σ.proj₁</a> <a id="5538" class="Bound">r</a><a id="5539" class="Symbol">)</a> <a id="5541" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5543" href="Agda.Builtin.Sigma.html#237" class="Field">Σ.proj₂</a> <a id="5551" class="Bound">r</a><a id="5552" class="Symbol">)</a>
  <a id="5556" href="Record.html#5154" class="Function">drop-With</a> <a id="5566" class="Symbol">{</a><a id="5567" class="Argument">Sig</a> <a id="5571" class="Symbol">=</a> <a id="5573" href="Record.html#5573" class="Bound">Sig</a> <a id="5577" href="Record.html#1658" class="InductiveConstructor Operator">,</a> <a id="5579" href="Record.html#5579" class="Bound">ℓ′</a> <a id="5582" href="Record.html#1658" class="InductiveConstructor Operator">≔</a> <a id="5584" href="Record.html#5584" class="Bound">a</a><a id="5585" class="Symbol">}</a> <a id="5587" class="Symbol">{</a><a id="5588" href="Record.html#5588" class="Bound">ℓ</a><a id="5589" class="Symbol">}</a> <a id="5591" class="Symbol">(</a><a id="5592" href="Record.html#2029" class="InductiveConstructor">rec</a> <a id="5596" href="Record.html#5596" class="Bound">r</a><a id="5597" class="Symbol">)</a> <a id="5599" class="Keyword">with</a> <a id="5604" href="Record.html#5588" class="Bound">ℓ</a> <a id="5606" href="Record.html#903" class="Bound Operator">≟</a> <a id="5608" href="Record.html#5579" class="Bound">ℓ′</a>
  <a id="5613" class="Symbol">...</a> <a id="5617" class="Symbol">|</a> <a id="5619" href="Relation.Nullary.html#606" class="InductiveConstructor">yes</a> <a id="5623" class="Symbol">_</a> <a id="5625" class="Symbol">=</a> <a id="5627" href="Record.html#2029" class="InductiveConstructor">rec</a> <a id="5631" class="Symbol">(</a><a id="5632" href="Record.html#1288" class="Field">Manifest-Σ.proj₁</a> <a id="5649" class="Bound">r</a> <a id="5651" href="Record.html#1277" class="InductiveConstructor Operator">,</a><a id="5652" class="Symbol">)</a>
  <a id="5656" class="Symbol">...</a> <a id="5660" class="Symbol">|</a> <a id="5662" href="Relation.Nullary.html#633" class="InductiveConstructor">no</a>  <a id="5666" class="Symbol">_</a> <a id="5668" class="Symbol">=</a> <a id="5670" href="Record.html#2029" class="InductiveConstructor">rec</a> <a id="5674" class="Symbol">(</a><a id="5675" href="Record.html#5154" class="Function">drop-With</a> <a id="5685" class="Symbol">(</a><a id="5686" href="Record.html#1288" class="Field">Manifest-Σ.proj₁</a> <a id="5703" class="Bound">r</a><a id="5704" class="Symbol">)</a> <a id="5706" href="Record.html#1277" class="InductiveConstructor Operator">,</a><a id="5707" class="Symbol">)</a>
</pre></body></html>