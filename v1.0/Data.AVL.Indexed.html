<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.AVL.Indexed</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Indexed AVL trees</a>
<a id="127" class="Comment">------------------------------------------------------------------------</a>

<a id="201" class="Symbol">{-#</a> <a id="205" class="Keyword">OPTIONS</a> <a id="213" class="Pragma">--without-K</a> <a id="225" class="Pragma">--safe</a> <a id="232" class="Symbol">#-}</a>

<a id="237" class="Keyword">open</a> <a id="242" class="Keyword">import</a> <a id="249" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="265" class="Keyword">using</a> <a id="271" class="Symbol">(</a><a id="272" href="Relation.Binary.html#11410" class="Record">StrictTotalOrder</a><a id="288" class="Symbol">)</a>

<a id="291" class="Keyword">module</a> <a id="298" href="Data.AVL.Indexed.html" class="Module">Data.AVL.Indexed</a>
  <a id="317" class="Symbol">{</a><a id="318" href="Data.AVL.Indexed.html#318" class="Bound">a</a> <a id="320" href="Data.AVL.Indexed.html#320" class="Bound">ℓ₁</a> <a id="323" href="Data.AVL.Indexed.html#323" class="Bound">ℓ₂</a><a id="325" class="Symbol">}</a> <a id="327" class="Symbol">(</a><a id="328" href="Data.AVL.Indexed.html#328" class="Bound">strictTotalOrder</a> <a id="345" class="Symbol">:</a> <a id="347" href="Relation.Binary.html#11410" class="Record">StrictTotalOrder</a> <a id="364" href="Data.AVL.Indexed.html#318" class="Bound">a</a> <a id="366" href="Data.AVL.Indexed.html#320" class="Bound">ℓ₁</a> <a id="369" href="Data.AVL.Indexed.html#323" class="Bound">ℓ₂</a><a id="371" class="Symbol">)</a> <a id="373" class="Keyword">where</a>

<a id="380" class="Keyword">open</a> <a id="385" class="Keyword">import</a> <a id="392" href="Level.html" class="Module">Level</a> <a id="398" class="Keyword">using</a> <a id="404" class="Symbol">(</a><a id="405" href="Agda.Primitive.html#657" class="Primitive Operator">_⊔_</a><a id="408" class="Symbol">)</a>
<a id="410" class="Keyword">open</a> <a id="415" class="Keyword">import</a> <a id="422" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="436" class="Keyword">using</a> <a id="442" class="Symbol">(</a><a id="443" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a><a id="444" class="Symbol">;</a> <a id="446" href="Agda.Builtin.Nat.html#183" class="InductiveConstructor">zero</a><a id="450" class="Symbol">;</a> <a id="452" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a><a id="455" class="Symbol">;</a> <a id="457" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">_+_</a><a id="460" class="Symbol">)</a>
<a id="462" class="Keyword">open</a> <a id="467" class="Keyword">import</a> <a id="474" href="Data.Product.html" class="Module">Data.Product</a> <a id="487" class="Keyword">hiding</a> <a id="494" class="Symbol">(</a><a id="495" href="Data.Product.html#2190" class="Function">map</a><a id="498" class="Symbol">)</a>
<a id="500" class="Keyword">open</a> <a id="505" class="Keyword">import</a> <a id="512" href="Data.Maybe.html" class="Module">Data.Maybe</a> <a id="523" class="Keyword">hiding</a> <a id="530" class="Symbol">(</a><a id="531" href="Data.Maybe.Base.html#2000" class="Function">map</a><a id="534" class="Symbol">)</a>
<a id="536" class="Keyword">open</a> <a id="541" class="Keyword">import</a> <a id="548" href="Data.DifferenceList.html" class="Module">Data.DifferenceList</a> <a id="568" class="Keyword">using</a> <a id="574" class="Symbol">(</a><a id="575" href="Data.DifferenceList.html#388" class="Function">DiffList</a><a id="583" class="Symbol">;</a> <a id="585" href="Data.DifferenceList.html#559" class="Function">[]</a><a id="587" class="Symbol">;</a> <a id="589" href="Data.DifferenceList.html#609" class="Function Operator">_∷_</a><a id="592" class="Symbol">;</a> <a id="594" href="Data.DifferenceList.html#744" class="Function Operator">_++_</a><a id="598" class="Symbol">)</a>
<a id="600" class="Keyword">open</a> <a id="605" class="Keyword">import</a> <a id="612" href="Function.html" class="Module">Function</a> <a id="621" class="Symbol">as</a> <a id="624" class="Module">F</a> <a id="626" class="Keyword">hiding</a> <a id="633" class="Symbol">(</a><a id="634" href="Function.html#1145" class="Function">const</a><a id="639" class="Symbol">)</a>
<a id="641" class="Keyword">open</a> <a id="646" class="Keyword">import</a> <a id="653" href="Relation.Unary.html" class="Module">Relation.Unary</a>
<a id="668" class="Keyword">open</a> <a id="673" class="Keyword">import</a> <a id="680" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="696" class="Keyword">using</a> <a id="702" class="Symbol">(</a><a id="703" href="Relation.Binary.Core.html#4582" class="Function Operator">_Respects_</a><a id="713" class="Symbol">;</a> <a id="715" href="Relation.Binary.Core.html#3700" class="Datatype">Tri</a><a id="718" class="Symbol">;</a> <a id="720" href="Relation.Binary.Core.html#3783" class="InductiveConstructor">tri&lt;</a><a id="724" class="Symbol">;</a> <a id="726" href="Relation.Binary.Core.html#3837" class="InductiveConstructor">tri≈</a><a id="730" class="Symbol">;</a> <a id="732" href="Relation.Binary.Core.html#3891" class="InductiveConstructor">tri&gt;</a><a id="736" class="Symbol">)</a>
<a id="738" class="Keyword">open</a> <a id="743" class="Keyword">import</a> <a id="750" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="788" class="Keyword">using</a> <a id="794" class="Symbol">(</a><a id="795" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">_≡_</a><a id="798" class="Symbol">;</a> <a id="800" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a><a id="804" class="Symbol">)</a>

<a id="807" class="Keyword">open</a> <a id="812" href="Relation.Binary.html#11410" class="Module">StrictTotalOrder</a> <a id="829" href="Data.AVL.Indexed.html#328" class="Bound">strictTotalOrder</a> <a id="846" class="Keyword">renaming</a> <a id="855" class="Symbol">(</a>Carrier <a id="864" class="Symbol">to</a> Key<a id="870" class="Symbol">)</a>

<a id="873" class="Comment">------------------------------------------------------------------------</a>
<a id="946" class="Comment">-- Re-export core definitions publicly</a>

<a id="986" class="Keyword">open</a> <a id="991" class="Keyword">import</a> <a id="998" href="Data.AVL.Key.html" class="Module">Data.AVL.Key</a> <a id="1011" href="Data.AVL.Indexed.html#328" class="Bound">strictTotalOrder</a> <a id="1028" class="Keyword">public</a>
<a id="1035" class="Keyword">open</a> <a id="1040" class="Keyword">import</a> <a id="1047" href="Data.AVL.Value.html" class="Module">Data.AVL.Value</a> <a id="1062" href="Relation.Binary.html#2954" class="Function">Eq.setoid</a> <a id="1072" class="Keyword">public</a>
<a id="1079" class="Keyword">open</a> <a id="1084" class="Keyword">import</a> <a id="1091" href="Data.AVL.Height.html" class="Module">Data.AVL.Height</a> <a id="1107" class="Keyword">public</a>

<a id="1115" class="Comment">------------------------------------------------------------------------</a>
<a id="1188" class="Comment">-- Definitions of the tree</a>

<a id="K&amp;_"></a><a id="1216" href="Data.AVL.Indexed.html#1216" class="Function Operator">K&amp;_</a> <a id="1220" class="Symbol">:</a> <a id="1222" class="Symbol">∀</a> <a id="1224" class="Symbol">{</a><a id="1225" href="Data.AVL.Indexed.html#1225" class="Bound">v</a><a id="1226" class="Symbol">}</a> <a id="1228" class="Symbol">(</a><a id="1229" href="Data.AVL.Indexed.html#1229" class="Bound">V</a> <a id="1231" class="Symbol">:</a> <a id="1233" href="Data.AVL.Value.html#509" class="Record">Value</a> <a id="1239" href="Data.AVL.Indexed.html#1225" class="Bound">v</a><a id="1240" class="Symbol">)</a> <a id="1242" class="Symbol">→</a> <a id="1244" class="PrimitiveType">Set</a> <a id="1248" class="Symbol">(</a><a id="1249" href="Data.AVL.Indexed.html#318" class="Bound">a</a> <a id="1251" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="1253" href="Data.AVL.Indexed.html#1225" class="Bound">v</a><a id="1254" class="Symbol">)</a>
<a id="1256" href="Data.AVL.Indexed.html#1216" class="Function Operator">K&amp;</a> <a id="1259" href="Data.AVL.Indexed.html#1259" class="Bound">V</a> <a id="1261" class="Symbol">=</a> <a id="1263" href="Agda.Builtin.Sigma.html#139" class="Record">Σ</a> <a id="1265" href="Relation.Binary.html#11497" class="Field">Key</a> <a id="1269" class="Symbol">(</a><a id="1270" href="Data.AVL.Value.html#579" class="Field">Value.family</a> <a id="1283" href="Data.AVL.Indexed.html#1259" class="Bound">V</a><a id="1284" class="Symbol">)</a>

<a id="1287" class="Comment">-- The trees have three parameters/indices: a lower bound on the</a>
<a id="1352" class="Comment">-- keys, an upper bound, and a height.</a>
<a id="1391" class="Comment">--</a>
<a id="1394" class="Comment">-- (The bal argument is the balance factor.)</a>

<a id="1440" class="Keyword">data</a> <a id="Tree"></a><a id="1445" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="1450" class="Symbol">{</a><a id="1451" href="Data.AVL.Indexed.html#1451" class="Bound">v</a><a id="1452" class="Symbol">}</a> <a id="1454" class="Symbol">(</a><a id="1455" href="Data.AVL.Indexed.html#1455" class="Bound">V</a> <a id="1457" class="Symbol">:</a> <a id="1459" href="Data.AVL.Value.html#509" class="Record">Value</a> <a id="1465" href="Data.AVL.Indexed.html#1451" class="Bound">v</a><a id="1466" class="Symbol">)</a> <a id="1468" class="Symbol">(</a><a id="1469" href="Data.AVL.Indexed.html#1469" class="Bound">l</a> <a id="1471" href="Data.AVL.Indexed.html#1471" class="Bound">u</a> <a id="1473" class="Symbol">:</a> <a id="1475" href="Data.AVL.Key.html#974" class="Function">Key⁺</a><a id="1479" class="Symbol">)</a> <a id="1481" class="Symbol">:</a> <a id="1483" href="Agda.Builtin.Nat.html#165" class="Datatype">ℕ</a> <a id="1485" class="Symbol">→</a> <a id="1487" class="PrimitiveType">Set</a> <a id="1491" class="Symbol">(</a><a id="1492" href="Data.AVL.Indexed.html#318" class="Bound">a</a> <a id="1494" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="1496" href="Data.AVL.Indexed.html#1451" class="Bound">v</a> <a id="1498" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="1500" href="Data.AVL.Indexed.html#323" class="Bound">ℓ₂</a><a id="1502" class="Symbol">)</a> <a id="1504" class="Keyword">where</a>
  <a id="Tree.leaf"></a><a id="1512" href="Data.AVL.Indexed.html#1512" class="InductiveConstructor">leaf</a> <a id="1517" class="Symbol">:</a> <a id="1519" class="Symbol">(</a><a id="1520" href="Data.AVL.Indexed.html#1520" class="Bound">l&lt;u</a> <a id="1524" class="Symbol">:</a> <a id="1526" href="Data.AVL.Indexed.html#1469" class="Bound">l</a> <a id="1528" href="Relation.Binary.Construct.Add.Supremum.Strict.html#983" class="Datatype Operator">&lt;⁺</a> <a id="1531" href="Data.AVL.Indexed.html#1471" class="Bound">u</a><a id="1532" class="Symbol">)</a> <a id="1534" class="Symbol">→</a> <a id="1536" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="1541" href="Data.AVL.Indexed.html#1455" class="Bound">V</a> <a id="1543" href="Data.AVL.Indexed.html#1469" class="Bound">l</a> <a id="1545" href="Data.AVL.Indexed.html#1471" class="Bound">u</a> <a id="1547" class="Number">0</a>
  <a id="Tree.node"></a><a id="1551" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="1556" class="Symbol">:</a> <a id="1558" class="Symbol">∀</a> <a id="1560" class="Symbol">{</a><a id="1561" href="Data.AVL.Indexed.html#1561" class="Bound">hˡ</a> <a id="1564" href="Data.AVL.Indexed.html#1564" class="Bound">hʳ</a> <a id="1567" href="Data.AVL.Indexed.html#1567" class="Bound">h</a><a id="1568" class="Symbol">}</a>
         <a id="1579" class="Symbol">(</a><a id="1580" href="Data.AVL.Indexed.html#1580" class="Bound">k</a> <a id="1582" class="Symbol">:</a> <a id="1584" href="Data.AVL.Indexed.html#1216" class="Function Operator">K&amp;</a> <a id="1587" href="Data.AVL.Indexed.html#1455" class="Bound">V</a><a id="1588" class="Symbol">)</a>
         <a id="1599" class="Symbol">(</a><a id="1600" href="Data.AVL.Indexed.html#1600" class="Bound">lk</a> <a id="1603" class="Symbol">:</a> <a id="1605" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="1610" href="Data.AVL.Indexed.html#1455" class="Bound">V</a> <a id="1612" href="Data.AVL.Indexed.html#1469" class="Bound">l</a> <a id="1614" href="Relation.Nullary.Construct.Add.Extrema.html#713" class="InductiveConstructor Operator">[</a> <a id="1616" href="Agda.Builtin.Sigma.html#225" class="Field">proj₁</a> <a id="1622" href="Data.AVL.Indexed.html#1580" class="Bound">k</a> <a id="1624" href="Relation.Nullary.Construct.Add.Extrema.html#713" class="InductiveConstructor Operator">]</a> <a id="1626" href="Data.AVL.Indexed.html#1561" class="Bound">hˡ</a><a id="1628" class="Symbol">)</a>
         <a id="1639" class="Symbol">(</a><a id="1640" href="Data.AVL.Indexed.html#1640" class="Bound">ku</a> <a id="1643" class="Symbol">:</a> <a id="1645" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="1650" href="Data.AVL.Indexed.html#1455" class="Bound">V</a> <a id="1652" href="Relation.Nullary.Construct.Add.Extrema.html#713" class="InductiveConstructor Operator">[</a> <a id="1654" href="Agda.Builtin.Sigma.html#225" class="Field">proj₁</a> <a id="1660" href="Data.AVL.Indexed.html#1580" class="Bound">k</a> <a id="1662" href="Relation.Nullary.Construct.Add.Extrema.html#713" class="InductiveConstructor Operator">]</a> <a id="1664" href="Data.AVL.Indexed.html#1471" class="Bound">u</a> <a id="1666" href="Data.AVL.Indexed.html#1564" class="Bound">hʳ</a><a id="1668" class="Symbol">)</a>
         <a id="1679" class="Symbol">(</a><a id="1680" href="Data.AVL.Indexed.html#1680" class="Bound">bal</a> <a id="1684" class="Symbol">:</a> <a id="1686" href="Data.AVL.Indexed.html#1561" class="Bound">hˡ</a> <a id="1689" href="Data.AVL.Height.html#947" class="Datatype Operator">∼</a> <a id="1691" href="Data.AVL.Indexed.html#1564" class="Bound">hʳ</a> <a id="1694" href="Data.AVL.Height.html#947" class="Datatype Operator">⊔</a> <a id="1696" href="Data.AVL.Indexed.html#1567" class="Bound">h</a><a id="1697" class="Symbol">)</a> <a id="1699" class="Symbol">→</a>
         <a id="1710" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="1715" href="Data.AVL.Indexed.html#1455" class="Bound">V</a> <a id="1717" href="Data.AVL.Indexed.html#1469" class="Bound">l</a> <a id="1719" href="Data.AVL.Indexed.html#1471" class="Bound">u</a> <a id="1721" class="Symbol">(</a><a id="1722" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="1726" href="Data.AVL.Indexed.html#1567" class="Bound">h</a><a id="1727" class="Symbol">)</a>

<a id="1730" class="Keyword">module</a> <a id="1737" href="Data.AVL.Indexed.html#1737" class="Module">_</a> <a id="1739" class="Symbol">{</a><a id="1740" href="Data.AVL.Indexed.html#1740" class="Bound">v</a><a id="1741" class="Symbol">}</a> <a id="1743" class="Symbol">{</a><a id="1744" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="1746" class="Symbol">:</a> <a id="1748" href="Data.AVL.Value.html#509" class="Record">Value</a> <a id="1754" href="Data.AVL.Indexed.html#1740" class="Bound">v</a><a id="1755" class="Symbol">}</a> <a id="1757" class="Keyword">where</a>

  <a id="1766" class="Keyword">private</a>
    <a id="1778" href="Data.AVL.Indexed.html#1778" class="Function">Val</a> <a id="1782" class="Symbol">=</a> <a id="1784" href="Data.AVL.Value.html#579" class="Field">Value.family</a> <a id="1797" href="Data.AVL.Indexed.html#1744" class="Bound">V</a>
    <a id="1803" href="Data.AVL.Indexed.html#1803" class="Function">V≈</a>  <a id="1807" class="Symbol">=</a> <a id="1809" href="Data.AVL.Value.html#606" class="Field">Value.respects</a> <a id="1824" href="Data.AVL.Indexed.html#1744" class="Bound">V</a>

  <a id="1829" href="Data.AVL.Indexed.html#1829" class="Function">leaf-injective</a> <a id="1844" class="Symbol">:</a> <a id="1846" class="Symbol">∀</a> <a id="1848" class="Symbol">{</a><a id="1849" href="Data.AVL.Indexed.html#1849" class="Bound">l</a> <a id="1851" href="Data.AVL.Indexed.html#1851" class="Bound">u</a><a id="1852" class="Symbol">}</a> <a id="1854" class="Symbol">{</a><a id="1855" href="Data.AVL.Indexed.html#1855" class="Bound">p</a> <a id="1857" href="Data.AVL.Indexed.html#1857" class="Bound">q</a> <a id="1859" class="Symbol">:</a> <a id="1861" href="Data.AVL.Indexed.html#1849" class="Bound">l</a> <a id="1863" href="Relation.Binary.Construct.Add.Supremum.Strict.html#983" class="Datatype Operator">&lt;⁺</a> <a id="1866" href="Data.AVL.Indexed.html#1851" class="Bound">u</a><a id="1867" class="Symbol">}</a> <a id="1869" class="Symbol">→</a> <a id="1871" class="Symbol">(</a><a id="1872" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="1877" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="1879" href="Data.AVL.Indexed.html#1849" class="Bound">l</a> <a id="1881" href="Data.AVL.Indexed.html#1851" class="Bound">u</a> <a id="1883" class="Number">0</a> <a id="1885" href="Function.html#3097" class="Function Operator">∋</a> <a id="1887" href="Data.AVL.Indexed.html#1512" class="InductiveConstructor">leaf</a> <a id="1892" href="Data.AVL.Indexed.html#1855" class="Bound">p</a><a id="1893" class="Symbol">)</a> <a id="1895" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="1897" href="Data.AVL.Indexed.html#1512" class="InductiveConstructor">leaf</a> <a id="1902" href="Data.AVL.Indexed.html#1857" class="Bound">q</a> <a id="1904" class="Symbol">→</a> <a id="1906" href="Data.AVL.Indexed.html#1855" class="Bound">p</a> <a id="1908" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="1910" href="Data.AVL.Indexed.html#1857" class="Bound">q</a>
  <a id="1914" href="Data.AVL.Indexed.html#1829" class="Function">leaf-injective</a> <a id="1929" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a> <a id="1934" class="Symbol">=</a> <a id="1936" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>

  <a id="1944" href="Data.AVL.Indexed.html#1944" class="Function">node-injective-key</a> <a id="1963" class="Symbol">:</a>
    <a id="1969" class="Symbol">∀</a> <a id="1971" class="Symbol">{</a><a id="1972" href="Data.AVL.Indexed.html#1972" class="Bound">hˡ₁</a> <a id="1976" href="Data.AVL.Indexed.html#1976" class="Bound">hˡ₂</a> <a id="1980" href="Data.AVL.Indexed.html#1980" class="Bound">hʳ₁</a> <a id="1984" href="Data.AVL.Indexed.html#1984" class="Bound">hʳ₂</a> <a id="1988" href="Data.AVL.Indexed.html#1988" class="Bound">h</a> <a id="1990" href="Data.AVL.Indexed.html#1990" class="Bound">l</a> <a id="1992" href="Data.AVL.Indexed.html#1992" class="Bound">u</a> <a id="1994" href="Data.AVL.Indexed.html#1994" class="Bound">k₁</a> <a id="1997" href="Data.AVL.Indexed.html#1997" class="Bound">k₂</a><a id="1999" class="Symbol">}</a>
      <a id="2007" class="Symbol">{</a><a id="2008" href="Data.AVL.Indexed.html#2008" class="Bound">lk₁</a> <a id="2012" class="Symbol">:</a> <a id="2014" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="2019" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="2021" href="Data.AVL.Indexed.html#1990" class="Bound">l</a> <a id="2023" href="Relation.Nullary.Construct.Add.Extrema.html#713" class="InductiveConstructor Operator">[</a> <a id="2025" href="Agda.Builtin.Sigma.html#225" class="Field">proj₁</a> <a id="2031" href="Data.AVL.Indexed.html#1994" class="Bound">k₁</a> <a id="2034" href="Relation.Nullary.Construct.Add.Extrema.html#713" class="InductiveConstructor Operator">]</a> <a id="2036" href="Data.AVL.Indexed.html#1972" class="Bound">hˡ₁</a><a id="2039" class="Symbol">}</a> <a id="2041" class="Symbol">{</a><a id="2042" href="Data.AVL.Indexed.html#2042" class="Bound">lk₂</a> <a id="2046" class="Symbol">:</a> <a id="2048" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="2053" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="2055" href="Data.AVL.Indexed.html#1990" class="Bound">l</a> <a id="2057" href="Relation.Nullary.Construct.Add.Extrema.html#713" class="InductiveConstructor Operator">[</a> <a id="2059" href="Agda.Builtin.Sigma.html#225" class="Field">proj₁</a> <a id="2065" href="Data.AVL.Indexed.html#1997" class="Bound">k₂</a> <a id="2068" href="Relation.Nullary.Construct.Add.Extrema.html#713" class="InductiveConstructor Operator">]</a> <a id="2070" href="Data.AVL.Indexed.html#1976" class="Bound">hˡ₂</a><a id="2073" class="Symbol">}</a>
      <a id="2081" class="Symbol">{</a><a id="2082" href="Data.AVL.Indexed.html#2082" class="Bound">ku₁</a> <a id="2086" class="Symbol">:</a> <a id="2088" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="2093" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="2095" href="Relation.Nullary.Construct.Add.Extrema.html#713" class="InductiveConstructor Operator">[</a> <a id="2097" href="Agda.Builtin.Sigma.html#225" class="Field">proj₁</a> <a id="2103" href="Data.AVL.Indexed.html#1994" class="Bound">k₁</a> <a id="2106" href="Relation.Nullary.Construct.Add.Extrema.html#713" class="InductiveConstructor Operator">]</a> <a id="2108" href="Data.AVL.Indexed.html#1992" class="Bound">u</a> <a id="2110" href="Data.AVL.Indexed.html#1980" class="Bound">hʳ₁</a><a id="2113" class="Symbol">}</a> <a id="2115" class="Symbol">{</a><a id="2116" href="Data.AVL.Indexed.html#2116" class="Bound">ku₂</a> <a id="2120" class="Symbol">:</a> <a id="2122" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="2127" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="2129" href="Relation.Nullary.Construct.Add.Extrema.html#713" class="InductiveConstructor Operator">[</a> <a id="2131" href="Agda.Builtin.Sigma.html#225" class="Field">proj₁</a> <a id="2137" href="Data.AVL.Indexed.html#1997" class="Bound">k₂</a> <a id="2140" href="Relation.Nullary.Construct.Add.Extrema.html#713" class="InductiveConstructor Operator">]</a> <a id="2142" href="Data.AVL.Indexed.html#1992" class="Bound">u</a> <a id="2144" href="Data.AVL.Indexed.html#1984" class="Bound">hʳ₂</a><a id="2147" class="Symbol">}</a>
      <a id="2155" class="Symbol">{</a><a id="2156" href="Data.AVL.Indexed.html#2156" class="Bound">bal₁</a> <a id="2161" class="Symbol">:</a> <a id="2163" href="Data.AVL.Indexed.html#1972" class="Bound">hˡ₁</a> <a id="2167" href="Data.AVL.Height.html#947" class="Datatype Operator">∼</a> <a id="2169" href="Data.AVL.Indexed.html#1980" class="Bound">hʳ₁</a> <a id="2173" href="Data.AVL.Height.html#947" class="Datatype Operator">⊔</a> <a id="2175" href="Data.AVL.Indexed.html#1988" class="Bound">h</a><a id="2176" class="Symbol">}</a> <a id="2178" class="Symbol">{</a><a id="2179" href="Data.AVL.Indexed.html#2179" class="Bound">bal₂</a> <a id="2184" class="Symbol">:</a> <a id="2186" href="Data.AVL.Indexed.html#1976" class="Bound">hˡ₂</a> <a id="2190" href="Data.AVL.Height.html#947" class="Datatype Operator">∼</a> <a id="2192" href="Data.AVL.Indexed.html#1984" class="Bound">hʳ₂</a> <a id="2196" href="Data.AVL.Height.html#947" class="Datatype Operator">⊔</a> <a id="2198" href="Data.AVL.Indexed.html#1988" class="Bound">h</a><a id="2199" class="Symbol">}</a> <a id="2201" class="Symbol">→</a>
    <a id="2207" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="2212" href="Data.AVL.Indexed.html#1994" class="Bound">k₁</a> <a id="2215" href="Data.AVL.Indexed.html#2008" class="Bound">lk₁</a> <a id="2219" href="Data.AVL.Indexed.html#2082" class="Bound">ku₁</a> <a id="2223" href="Data.AVL.Indexed.html#2156" class="Bound">bal₁</a> <a id="2228" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="2230" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="2235" href="Data.AVL.Indexed.html#1997" class="Bound">k₂</a> <a id="2238" href="Data.AVL.Indexed.html#2042" class="Bound">lk₂</a> <a id="2242" href="Data.AVL.Indexed.html#2116" class="Bound">ku₂</a> <a id="2246" href="Data.AVL.Indexed.html#2179" class="Bound">bal₂</a> <a id="2251" class="Symbol">→</a> <a id="2253" href="Data.AVL.Indexed.html#1994" class="Bound">k₁</a> <a id="2256" href="Agda.Builtin.Equality.html#125" class="Datatype Operator">≡</a> <a id="2258" href="Data.AVL.Indexed.html#1997" class="Bound">k₂</a>
  <a id="2263" href="Data.AVL.Indexed.html#1944" class="Function">node-injective-key</a> <a id="2282" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a> <a id="2287" class="Symbol">=</a> <a id="2289" href="Agda.Builtin.Equality.html#182" class="InductiveConstructor">refl</a>

  <a id="2297" class="Comment">-- See also node-injectiveˡ, node-injectiveʳ, and node-injective-bal</a>
  <a id="2368" class="Comment">-- in Data.AVL.Indexed.WithK.</a>

  <a id="2401" class="Comment">-- Cast operations. Logarithmic in the size of the tree, if we don&#39;t</a>
  <a id="2472" class="Comment">-- count the time needed to construct the new proofs in the leaf</a>
  <a id="2539" class="Comment">-- cases. (The same kind of caveat applies to other operations</a>
  <a id="2604" class="Comment">-- below.)</a>
  <a id="2617" class="Comment">--</a>
  <a id="2622" class="Comment">-- Perhaps it would be worthwhile changing the data structure so</a>
  <a id="2689" class="Comment">-- that the casts could be implemented in constant time (excluding</a>
  <a id="2758" class="Comment">-- proof manipulation). However, note that this would not change the</a>
  <a id="2829" class="Comment">-- worst-case time complexity of the operations below (up to Θ).</a>

  <a id="2897" href="Data.AVL.Indexed.html#2897" class="Function">castˡ</a> <a id="2903" class="Symbol">:</a> <a id="2905" class="Symbol">∀</a> <a id="2907" class="Symbol">{</a><a id="2908" href="Data.AVL.Indexed.html#2908" class="Bound">l</a> <a id="2910" href="Data.AVL.Indexed.html#2910" class="Bound">m</a> <a id="2912" href="Data.AVL.Indexed.html#2912" class="Bound">u</a> <a id="2914" href="Data.AVL.Indexed.html#2914" class="Bound">h</a><a id="2915" class="Symbol">}</a> <a id="2917" class="Symbol">→</a> <a id="2919" href="Data.AVL.Indexed.html#2908" class="Bound">l</a> <a id="2921" href="Relation.Binary.Construct.Add.Supremum.Strict.html#983" class="Datatype Operator">&lt;⁺</a> <a id="2924" href="Data.AVL.Indexed.html#2910" class="Bound">m</a> <a id="2926" class="Symbol">→</a> <a id="2928" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="2933" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="2935" href="Data.AVL.Indexed.html#2910" class="Bound">m</a> <a id="2937" href="Data.AVL.Indexed.html#2912" class="Bound">u</a> <a id="2939" href="Data.AVL.Indexed.html#2914" class="Bound">h</a> <a id="2941" class="Symbol">→</a> <a id="2943" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="2948" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="2950" href="Data.AVL.Indexed.html#2908" class="Bound">l</a> <a id="2952" href="Data.AVL.Indexed.html#2912" class="Bound">u</a> <a id="2954" href="Data.AVL.Indexed.html#2914" class="Bound">h</a>
  <a id="2958" href="Data.AVL.Indexed.html#2897" class="Function">castˡ</a> <a id="2964" class="Symbol">{</a><a id="2965" href="Data.AVL.Indexed.html#2965" class="Bound">l</a><a id="2966" class="Symbol">}</a> <a id="2968" href="Data.AVL.Indexed.html#2968" class="Bound">l&lt;m</a> <a id="2972" class="Symbol">(</a><a id="2973" href="Data.AVL.Indexed.html#1512" class="InductiveConstructor">leaf</a> <a id="2978" href="Data.AVL.Indexed.html#2978" class="Bound">m&lt;u</a><a id="2981" class="Symbol">)</a>         <a id="2991" class="Symbol">=</a> <a id="2993" href="Data.AVL.Indexed.html#1512" class="InductiveConstructor">leaf</a> <a id="2998" class="Symbol">(</a><a id="2999" href="Data.AVL.Key.html#1592" class="Function">trans⁺</a> <a id="3006" href="Data.AVL.Indexed.html#2965" class="Bound">l</a> <a id="3008" href="Data.AVL.Indexed.html#2968" class="Bound">l&lt;m</a> <a id="3012" href="Data.AVL.Indexed.html#2978" class="Bound">m&lt;u</a><a id="3015" class="Symbol">)</a>
  <a id="3019" href="Data.AVL.Indexed.html#2897" class="Function">castˡ</a>     <a id="3029" href="Data.AVL.Indexed.html#3029" class="Bound">l&lt;m</a> <a id="3033" class="Symbol">(</a><a id="3034" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="3039" href="Data.AVL.Indexed.html#3039" class="Bound">k</a> <a id="3041" href="Data.AVL.Indexed.html#3041" class="Bound">mk</a> <a id="3044" href="Data.AVL.Indexed.html#3044" class="Bound">ku</a> <a id="3047" href="Data.AVL.Indexed.html#3047" class="Bound">bal</a><a id="3050" class="Symbol">)</a> <a id="3052" class="Symbol">=</a> <a id="3054" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="3059" href="Data.AVL.Indexed.html#3039" class="Bound">k</a> <a id="3061" class="Symbol">(</a><a id="3062" href="Data.AVL.Indexed.html#2897" class="Function">castˡ</a> <a id="3068" href="Data.AVL.Indexed.html#3029" class="Bound">l&lt;m</a> <a id="3072" href="Data.AVL.Indexed.html#3041" class="Bound">mk</a><a id="3074" class="Symbol">)</a> <a id="3076" href="Data.AVL.Indexed.html#3044" class="Bound">ku</a> <a id="3079" href="Data.AVL.Indexed.html#3047" class="Bound">bal</a>

  <a id="3086" href="Data.AVL.Indexed.html#3086" class="Function">castʳ</a> <a id="3092" class="Symbol">:</a> <a id="3094" class="Symbol">∀</a> <a id="3096" class="Symbol">{</a><a id="3097" href="Data.AVL.Indexed.html#3097" class="Bound">l</a> <a id="3099" href="Data.AVL.Indexed.html#3099" class="Bound">m</a> <a id="3101" href="Data.AVL.Indexed.html#3101" class="Bound">u</a> <a id="3103" href="Data.AVL.Indexed.html#3103" class="Bound">h</a><a id="3104" class="Symbol">}</a> <a id="3106" class="Symbol">→</a> <a id="3108" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="3113" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="3115" href="Data.AVL.Indexed.html#3097" class="Bound">l</a> <a id="3117" href="Data.AVL.Indexed.html#3099" class="Bound">m</a> <a id="3119" href="Data.AVL.Indexed.html#3103" class="Bound">h</a> <a id="3121" class="Symbol">→</a> <a id="3123" href="Data.AVL.Indexed.html#3099" class="Bound">m</a> <a id="3125" href="Relation.Binary.Construct.Add.Supremum.Strict.html#983" class="Datatype Operator">&lt;⁺</a> <a id="3128" href="Data.AVL.Indexed.html#3101" class="Bound">u</a> <a id="3130" class="Symbol">→</a> <a id="3132" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="3137" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="3139" href="Data.AVL.Indexed.html#3097" class="Bound">l</a> <a id="3141" href="Data.AVL.Indexed.html#3101" class="Bound">u</a> <a id="3143" href="Data.AVL.Indexed.html#3103" class="Bound">h</a>
  <a id="3147" href="Data.AVL.Indexed.html#3086" class="Function">castʳ</a> <a id="3153" class="Symbol">{</a><a id="3154" href="Data.AVL.Indexed.html#3154" class="Bound">l</a><a id="3155" class="Symbol">}</a> <a id="3157" class="Symbol">(</a><a id="3158" href="Data.AVL.Indexed.html#1512" class="InductiveConstructor">leaf</a> <a id="3163" href="Data.AVL.Indexed.html#3163" class="Bound">l&lt;m</a><a id="3166" class="Symbol">)</a>         <a id="3176" href="Data.AVL.Indexed.html#3176" class="Bound">m&lt;u</a> <a id="3180" class="Symbol">=</a> <a id="3182" href="Data.AVL.Indexed.html#1512" class="InductiveConstructor">leaf</a> <a id="3187" class="Symbol">(</a><a id="3188" href="Data.AVL.Key.html#1592" class="Function">trans⁺</a> <a id="3195" href="Data.AVL.Indexed.html#3154" class="Bound">l</a> <a id="3197" href="Data.AVL.Indexed.html#3163" class="Bound">l&lt;m</a> <a id="3201" href="Data.AVL.Indexed.html#3176" class="Bound">m&lt;u</a><a id="3204" class="Symbol">)</a>
  <a id="3208" href="Data.AVL.Indexed.html#3086" class="Function">castʳ</a>     <a id="3218" class="Symbol">(</a><a id="3219" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="3224" href="Data.AVL.Indexed.html#3224" class="Bound">k</a> <a id="3226" href="Data.AVL.Indexed.html#3226" class="Bound">lk</a> <a id="3229" href="Data.AVL.Indexed.html#3229" class="Bound">km</a> <a id="3232" href="Data.AVL.Indexed.html#3232" class="Bound">bal</a><a id="3235" class="Symbol">)</a> <a id="3237" href="Data.AVL.Indexed.html#3237" class="Bound">m&lt;u</a> <a id="3241" class="Symbol">=</a> <a id="3243" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="3248" href="Data.AVL.Indexed.html#3224" class="Bound">k</a> <a id="3250" href="Data.AVL.Indexed.html#3226" class="Bound">lk</a> <a id="3253" class="Symbol">(</a><a id="3254" href="Data.AVL.Indexed.html#3086" class="Function">castʳ</a> <a id="3260" href="Data.AVL.Indexed.html#3229" class="Bound">km</a> <a id="3263" href="Data.AVL.Indexed.html#3237" class="Bound">m&lt;u</a><a id="3266" class="Symbol">)</a> <a id="3268" href="Data.AVL.Indexed.html#3232" class="Bound">bal</a>

  <a id="3275" class="Comment">-- Various constant-time functions which </a><a id="3316" class="Bound">c</a><a id="3317" class="Comment">ons</a><a id="3320" class="Function">tr</a><a id="3322" class="Comment">u</a><a id="3323" class="Bound">c</a><a id="3324" class="Comment">t</a><a id="3325" class="Function"> </a><a id="3326" class="Comment">trees out of</a>
  <a id="3341" class="Comment">-- smaller pieces, sometimes using rotation.</a>

  <a id="3389" href="Data.AVL.Indexed.html#3389" class="Function">joinˡ⁺</a> <a id="3396" class="Symbol">:</a> <a id="3398" class="Symbol">∀</a> <a id="3400" class="Symbol">{</a><a id="3401" href="Data.AVL.Indexed.html#3401" class="Bound">l</a> <a id="3403" href="Data.AVL.Indexed.html#3403" class="Bound">u</a> <a id="3405" href="Data.AVL.Indexed.html#3405" class="Bound">hˡ</a> <a id="3408" href="Data.AVL.Indexed.html#3408" class="Bound">hʳ</a> <a id="3411" href="Data.AVL.Indexed.html#3411" class="Bound">h</a><a id="3412" class="Symbol">}</a> <a id="3414" class="Symbol">→</a>
           <a id="3427" class="Symbol">(</a><a id="3428" href="Data.AVL.Indexed.html#3428" class="Bound">k</a> <a id="3430" class="Symbol">:</a> <a id="3432" href="Data.AVL.Indexed.html#1216" class="Function Operator">K&amp;</a> <a id="3435" href="Data.AVL.Indexed.html#1744" class="Bound">V</a><a id="3436" class="Symbol">)</a> <a id="3438" class="Symbol">→</a>
           <a id="3451" class="Symbol">(</a><a id="3452" href="Data.Product.html#917" class="Function">∃</a> <a id="3454" class="Symbol">λ</a> <a id="3456" href="Data.AVL.Indexed.html#3456" class="Bound">i</a> <a id="3458" class="Symbol">→</a> <a id="3460" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="3465" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="3467" href="Data.AVL.Indexed.html#3401" class="Bound">l</a> <a id="3469" href="Relation.Nullary.Construct.Add.Extrema.html#713" class="InductiveConstructor Operator">[</a> <a id="3471" href="Agda.Builtin.Sigma.html#225" class="Field">proj₁</a> <a id="3477" href="Data.AVL.Indexed.html#3428" class="Bound">k</a> <a id="3479" href="Relation.Nullary.Construct.Add.Extrema.html#713" class="InductiveConstructor Operator">]</a> <a id="3481" class="Symbol">(</a><a id="3482" href="Data.AVL.Indexed.html#3456" class="Bound">i</a> <a id="3484" href="Data.AVL.Height.html#512" class="Function Operator">⊕</a> <a id="3486" href="Data.AVL.Indexed.html#3405" class="Bound">hˡ</a><a id="3488" class="Symbol">))</a> <a id="3491" class="Symbol">→</a>
           <a id="3504" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="3509" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="3511" href="Relation.Nullary.Construct.Add.Extrema.html#713" class="InductiveConstructor Operator">[</a> <a id="3513" href="Agda.Builtin.Sigma.html#225" class="Field">proj₁</a> <a id="3519" href="Data.AVL.Indexed.html#3428" class="Bound">k</a> <a id="3521" href="Relation.Nullary.Construct.Add.Extrema.html#713" class="InductiveConstructor Operator">]</a> <a id="3523" href="Data.AVL.Indexed.html#3403" class="Bound">u</a> <a id="3525" href="Data.AVL.Indexed.html#3408" class="Bound">hʳ</a> <a id="3528" class="Symbol">→</a>
           <a id="3541" class="Symbol">(</a><a id="3542" href="Data.AVL.Indexed.html#3542" class="Bound">bal</a> <a id="3546" class="Symbol">:</a> <a id="3548" href="Data.AVL.Indexed.html#3405" class="Bound">hˡ</a> <a id="3551" href="Data.AVL.Height.html#947" class="Datatype Operator">∼</a> <a id="3553" href="Data.AVL.Indexed.html#3408" class="Bound">hʳ</a> <a id="3556" href="Data.AVL.Height.html#947" class="Datatype Operator">⊔</a> <a id="3558" href="Data.AVL.Indexed.html#3411" class="Bound">h</a><a id="3559" class="Symbol">)</a> <a id="3561" class="Symbol">→</a>
           <a id="3574" href="Data.Product.html#917" class="Function">∃</a> <a id="3576" class="Symbol">λ</a> <a id="3578" href="Data.AVL.Indexed.html#3578" class="Bound">i</a> <a id="3580" class="Symbol">→</a> <a id="3582" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="3587" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="3589" href="Data.AVL.Indexed.html#3401" class="Bound">l</a> <a id="3591" href="Data.AVL.Indexed.html#3403" class="Bound">u</a> <a id="3593" class="Symbol">(</a><a id="3594" href="Data.AVL.Indexed.html#3578" class="Bound">i</a> <a id="3596" href="Data.AVL.Height.html#512" class="Function Operator">⊕</a> <a id="3598" class="Symbol">(</a><a id="3599" class="Number">1</a> <a id="3601" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">+</a> <a id="3603" href="Data.AVL.Indexed.html#3411" class="Bound">h</a><a id="3604" class="Symbol">))</a>
  <a id="3609" href="Data.AVL.Indexed.html#3389" class="Function">joinˡ⁺</a> <a id="3616" href="Data.AVL.Indexed.html#3616" class="Bound">k₆</a> <a id="3619" class="Symbol">(</a><a id="3620" href="Data.AVL.Height.html#443" class="InductiveConstructor">1#</a> <a id="3623" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="3625" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="3630" href="Data.AVL.Indexed.html#3630" class="Bound">k₂</a> <a id="3633" href="Data.AVL.Indexed.html#3633" class="Bound">t₁</a>
                    <a id="3656" class="Symbol">(</a><a id="3657" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="3662" href="Data.AVL.Indexed.html#3662" class="Bound">k₄</a> <a id="3665" href="Data.AVL.Indexed.html#3665" class="Bound">t₃</a> <a id="3668" href="Data.AVL.Indexed.html#3668" class="Bound">t₅</a> <a id="3671" href="Data.AVL.Indexed.html#3671" class="Bound">bal</a><a id="3674" class="Symbol">)</a>
                                <a id="3708" href="Data.AVL.Height.html#979" class="InductiveConstructor">∼+</a><a id="3710" class="Symbol">)</a> <a id="3712" href="Data.AVL.Indexed.html#3712" class="Bound">t₇</a> <a id="3715" href="Data.AVL.Height.html#1049" class="InductiveConstructor">∼-</a>  <a id="3719" class="Symbol">=</a> <a id="3721" class="Symbol">(</a><a id="3722" href="Data.AVL.Height.html#425" class="InductiveConstructor">0#</a> <a id="3725" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="3727" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="3732" href="Data.AVL.Indexed.html#3662" class="Bound">k₄</a>
                                                        <a id="3791" class="Symbol">(</a><a id="3792" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="3797" href="Data.AVL.Indexed.html#3630" class="Bound">k₂</a> <a id="3800" href="Data.AVL.Indexed.html#3633" class="Bound">t₁</a> <a id="3803" href="Data.AVL.Indexed.html#3665" class="Bound">t₃</a> <a id="3806" class="Symbol">(</a><a id="3807" href="Data.AVL.Height.html#1102" class="Function">max∼</a> <a id="3812" href="Data.AVL.Indexed.html#3671" class="Bound">bal</a><a id="3815" class="Symbol">))</a>
                                                        <a id="3874" class="Symbol">(</a><a id="3875" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="3880" href="Data.AVL.Indexed.html#3616" class="Bound">k₆</a> <a id="3883" href="Data.AVL.Indexed.html#3668" class="Bound">t₅</a> <a id="3886" href="Data.AVL.Indexed.html#3712" class="Bound">t₇</a> <a id="3889" class="Symbol">(</a><a id="3890" href="Data.AVL.Height.html#1183" class="Function">∼max</a> <a id="3895" href="Data.AVL.Indexed.html#3671" class="Bound">bal</a><a id="3898" class="Symbol">))</a>
                                                        <a id="3957" href="Data.AVL.Height.html#1016" class="InductiveConstructor">∼0</a><a id="3959" class="Symbol">)</a>
  <a id="3963" href="Data.AVL.Indexed.html#3389" class="CatchallClause Function">joinˡ⁺</a><a id="3969" class="CatchallClause"> </a><a id="3970" href="Data.AVL.Indexed.html#3970" class="CatchallClause Bound">k₄</a><a id="3972" class="CatchallClause"> </a><a id="3973" class="CatchallClause Symbol">(</a><a id="3974" href="Data.AVL.Height.html#443" class="CatchallClause InductiveConstructor">1#</a><a id="3976" class="CatchallClause"> </a><a id="3977" href="Agda.Builtin.Sigma.html#209" class="CatchallClause InductiveConstructor Operator">,</a><a id="3978" class="CatchallClause"> </a><a id="3979" href="Data.AVL.Indexed.html#1551" class="CatchallClause InductiveConstructor">node</a><a id="3983" class="CatchallClause"> </a><a id="3984" href="Data.AVL.Indexed.html#3984" class="CatchallClause Bound">k₂</a><a id="3986" class="CatchallClause"> </a><a id="3987" href="Data.AVL.Indexed.html#3987" class="CatchallClause Bound">t₁</a><a id="3989" class="CatchallClause"> </a><a id="3990" href="Data.AVL.Indexed.html#3990" class="CatchallClause Bound">t₃</a><a id="3992" class="CatchallClause"> </a><a id="3993" href="Data.AVL.Height.html#1049" class="CatchallClause InductiveConstructor">∼-</a><a id="3995" class="CatchallClause Symbol">)</a><a id="3996" class="CatchallClause"> </a><a id="3997" href="Data.AVL.Indexed.html#3997" class="CatchallClause Bound">t₅</a><a id="3999" class="CatchallClause"> </a><a id="4000" href="Data.AVL.Height.html#1049" class="CatchallClause InductiveConstructor">∼-</a>  <a id="4004" class="Symbol">=</a> <a id="4006" class="Symbol">(</a><a id="4007" href="Data.AVL.Height.html#425" class="InductiveConstructor">0#</a> <a id="4010" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4012" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="4017" href="Data.AVL.Indexed.html#3984" class="Bound">k₂</a> <a id="4020" href="Data.AVL.Indexed.html#3987" class="Bound">t₁</a> <a id="4023" class="Symbol">(</a><a id="4024" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="4029" href="Data.AVL.Indexed.html#3970" class="Bound">k₄</a> <a id="4032" href="Data.AVL.Indexed.html#3990" class="Bound">t₃</a> <a id="4035" href="Data.AVL.Indexed.html#3997" class="Bound">t₅</a> <a id="4038" href="Data.AVL.Height.html#1016" class="InductiveConstructor">∼0</a><a id="4040" class="Symbol">)</a> <a id="4042" href="Data.AVL.Height.html#1016" class="InductiveConstructor">∼0</a><a id="4044" class="Symbol">)</a>
  <a id="4048" href="Data.AVL.Indexed.html#3389" class="CatchallClause Function">joinˡ⁺</a><a id="4054" class="CatchallClause"> </a><a id="4055" href="Data.AVL.Indexed.html#4055" class="CatchallClause Bound">k₄</a><a id="4057" class="CatchallClause"> </a><a id="4058" class="CatchallClause Symbol">(</a><a id="4059" href="Data.AVL.Height.html#443" class="CatchallClause InductiveConstructor">1#</a><a id="4061" class="CatchallClause"> </a><a id="4062" href="Agda.Builtin.Sigma.html#209" class="CatchallClause InductiveConstructor Operator">,</a><a id="4063" class="CatchallClause"> </a><a id="4064" href="Data.AVL.Indexed.html#1551" class="CatchallClause InductiveConstructor">node</a><a id="4068" class="CatchallClause"> </a><a id="4069" href="Data.AVL.Indexed.html#4069" class="CatchallClause Bound">k₂</a><a id="4071" class="CatchallClause"> </a><a id="4072" href="Data.AVL.Indexed.html#4072" class="CatchallClause Bound">t₁</a><a id="4074" class="CatchallClause"> </a><a id="4075" href="Data.AVL.Indexed.html#4075" class="CatchallClause Bound">t₃</a><a id="4077" class="CatchallClause"> </a><a id="4078" href="Data.AVL.Height.html#1016" class="CatchallClause InductiveConstructor">∼0</a><a id="4080" class="CatchallClause Symbol">)</a><a id="4081" class="CatchallClause"> </a><a id="4082" href="Data.AVL.Indexed.html#4082" class="CatchallClause Bound">t₅</a><a id="4084" class="CatchallClause"> </a><a id="4085" href="Data.AVL.Height.html#1049" class="CatchallClause InductiveConstructor">∼-</a>  <a id="4089" class="Symbol">=</a> <a id="4091" class="Symbol">(</a><a id="4092" href="Data.AVL.Height.html#443" class="InductiveConstructor">1#</a> <a id="4095" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4097" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="4102" href="Data.AVL.Indexed.html#4069" class="Bound">k₂</a> <a id="4105" href="Data.AVL.Indexed.html#4072" class="Bound">t₁</a> <a id="4108" class="Symbol">(</a><a id="4109" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="4114" href="Data.AVL.Indexed.html#4055" class="Bound">k₄</a> <a id="4117" href="Data.AVL.Indexed.html#4075" class="Bound">t₃</a> <a id="4120" href="Data.AVL.Indexed.html#4082" class="Bound">t₅</a> <a id="4123" href="Data.AVL.Height.html#1049" class="InductiveConstructor">∼-</a><a id="4125" class="Symbol">)</a> <a id="4127" href="Data.AVL.Height.html#979" class="InductiveConstructor">∼+</a><a id="4129" class="Symbol">)</a>
  <a id="4133" href="Data.AVL.Indexed.html#3389" class="CatchallClause Function">joinˡ⁺</a><a id="4139" class="CatchallClause"> </a><a id="4140" href="Data.AVL.Indexed.html#4140" class="CatchallClause Bound">k₂</a><a id="4142" class="CatchallClause"> </a><a id="4143" class="CatchallClause Symbol">(</a><a id="4144" href="Data.AVL.Height.html#443" class="CatchallClause InductiveConstructor">1#</a><a id="4146" class="CatchallClause"> </a><a id="4147" href="Agda.Builtin.Sigma.html#209" class="CatchallClause InductiveConstructor Operator">,</a><a id="4148" class="CatchallClause"> </a><a id="4149" href="Data.AVL.Indexed.html#4149" class="CatchallClause Bound">t₁</a><a id="4151" class="CatchallClause Symbol">)</a><a id="4152" class="CatchallClause">               </a><a id="4167" href="Data.AVL.Indexed.html#4167" class="CatchallClause Bound">t₃</a><a id="4169" class="CatchallClause"> </a><a id="4170" href="Data.AVL.Height.html#1016" class="CatchallClause InductiveConstructor">∼0</a>  <a id="4174" class="Symbol">=</a> <a id="4176" class="Symbol">(</a><a id="4177" href="Data.AVL.Height.html#443" class="InductiveConstructor">1#</a> <a id="4180" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4182" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="4187" href="Data.AVL.Indexed.html#4140" class="Bound">k₂</a> <a id="4190" href="Data.AVL.Indexed.html#4149" class="Bound">t₁</a> <a id="4193" href="Data.AVL.Indexed.html#4167" class="Bound">t₃</a> <a id="4196" href="Data.AVL.Height.html#1049" class="InductiveConstructor">∼-</a><a id="4198" class="Symbol">)</a>
  <a id="4202" href="Data.AVL.Indexed.html#3389" class="CatchallClause Function">joinˡ⁺</a><a id="4208" class="CatchallClause"> </a><a id="4209" href="Data.AVL.Indexed.html#4209" class="CatchallClause Bound">k₂</a><a id="4211" class="CatchallClause"> </a><a id="4212" class="CatchallClause Symbol">(</a><a id="4213" href="Data.AVL.Height.html#443" class="CatchallClause InductiveConstructor">1#</a><a id="4215" class="CatchallClause"> </a><a id="4216" href="Agda.Builtin.Sigma.html#209" class="CatchallClause InductiveConstructor Operator">,</a><a id="4217" class="CatchallClause"> </a><a id="4218" href="Data.AVL.Indexed.html#4218" class="CatchallClause Bound">t₁</a><a id="4220" class="CatchallClause Symbol">)</a><a id="4221" class="CatchallClause">               </a><a id="4236" href="Data.AVL.Indexed.html#4236" class="CatchallClause Bound">t₃</a><a id="4238" class="CatchallClause"> </a><a id="4239" href="Data.AVL.Height.html#979" class="CatchallClause InductiveConstructor">∼+</a>  <a id="4243" class="Symbol">=</a> <a id="4245" class="Symbol">(</a><a id="4246" href="Data.AVL.Height.html#425" class="InductiveConstructor">0#</a> <a id="4249" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4251" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="4256" href="Data.AVL.Indexed.html#4209" class="Bound">k₂</a> <a id="4259" href="Data.AVL.Indexed.html#4218" class="Bound">t₁</a> <a id="4262" href="Data.AVL.Indexed.html#4236" class="Bound">t₃</a> <a id="4265" href="Data.AVL.Height.html#1016" class="InductiveConstructor">∼0</a><a id="4267" class="Symbol">)</a>
  <a id="4271" href="Data.AVL.Indexed.html#3389" class="Function">joinˡ⁺</a> <a id="4278" href="Data.AVL.Indexed.html#4278" class="Bound">k₂</a> <a id="4281" class="Symbol">(</a><a id="4282" href="Data.AVL.Height.html#425" class="InductiveConstructor">0#</a> <a id="4285" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4287" href="Data.AVL.Indexed.html#4287" class="Bound">t₁</a><a id="4289" class="Symbol">)</a>               <a id="4305" href="Data.AVL.Indexed.html#4305" class="Bound">t₃</a> <a id="4308" href="Data.AVL.Indexed.html#4308" class="Bound">bal</a> <a id="4312" class="Symbol">=</a> <a id="4314" class="Symbol">(</a><a id="4315" href="Data.AVL.Height.html#425" class="InductiveConstructor">0#</a> <a id="4318" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4320" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="4325" href="Data.AVL.Indexed.html#4278" class="Bound">k₂</a> <a id="4328" href="Data.AVL.Indexed.html#4287" class="Bound">t₁</a> <a id="4331" href="Data.AVL.Indexed.html#4305" class="Bound">t₃</a> <a id="4334" href="Data.AVL.Indexed.html#4308" class="Bound">bal</a><a id="4337" class="Symbol">)</a>
  <a id="4341" href="Data.AVL.Indexed.html#3389" class="Function">joinˡ⁺</a> <a id="4348" href="Data.AVL.Indexed.html#4348" class="Bound">k₂</a> <a id="4351" class="Symbol">(</a><a id="4352" href="Data.AVL.Height.html#465" class="InductiveConstructor">##</a> <a id="4355" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4357" href="Data.AVL.Indexed.html#4357" class="Bound">t₁</a><a id="4359" class="Symbol">)</a>               <a id="4375" href="Data.AVL.Indexed.html#4375" class="Bound">t₃</a> <a id="4378" href="Data.AVL.Indexed.html#4378" class="Bound">bal</a>

  <a id="4385" href="Data.AVL.Indexed.html#4385" class="Function">joinʳ⁺</a> <a id="4392" class="Symbol">:</a> <a id="4394" class="Symbol">∀</a> <a id="4396" class="Symbol">{</a><a id="4397" href="Data.AVL.Indexed.html#4397" class="Bound">l</a> <a id="4399" href="Data.AVL.Indexed.html#4399" class="Bound">u</a> <a id="4401" href="Data.AVL.Indexed.html#4401" class="Bound">hˡ</a> <a id="4404" href="Data.AVL.Indexed.html#4404" class="Bound">hʳ</a> <a id="4407" href="Data.AVL.Indexed.html#4407" class="Bound">h</a><a id="4408" class="Symbol">}</a> <a id="4410" class="Symbol">→</a>
           <a id="4423" class="Symbol">(</a><a id="4424" href="Data.AVL.Indexed.html#4424" class="Bound">k</a> <a id="4426" class="Symbol">:</a> <a id="4428" href="Data.AVL.Indexed.html#1216" class="Function Operator">K&amp;</a> <a id="4431" href="Data.AVL.Indexed.html#1744" class="Bound">V</a><a id="4432" class="Symbol">)</a> <a id="4434" class="Symbol">→</a>
           <a id="4447" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="4452" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="4454" href="Data.AVL.Indexed.html#4397" class="Bound">l</a> <a id="4456" href="Relation.Nullary.Construct.Add.Extrema.html#713" class="InductiveConstructor Operator">[</a> <a id="4458" href="Agda.Builtin.Sigma.html#225" class="Field">proj₁</a> <a id="4464" href="Data.AVL.Indexed.html#4424" class="Bound">k</a> <a id="4466" href="Relation.Nullary.Construct.Add.Extrema.html#713" class="InductiveConstructor Operator">]</a> <a id="4468" href="Data.AVL.Indexed.html#4401" class="Bound">hˡ</a> <a id="4471" class="Symbol">→</a>
           <a id="4484" class="Symbol">(</a><a id="4485" href="Data.Product.html#917" class="Function">∃</a> <a id="4487" class="Symbol">λ</a> <a id="4489" href="Data.AVL.Indexed.html#4489" class="Bound">i</a> <a id="4491" class="Symbol">→</a> <a id="4493" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="4498" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="4500" href="Relation.Nullary.Construct.Add.Extrema.html#713" class="InductiveConstructor Operator">[</a> <a id="4502" href="Agda.Builtin.Sigma.html#225" class="Field">proj₁</a> <a id="4508" href="Data.AVL.Indexed.html#4424" class="Bound">k</a> <a id="4510" href="Relation.Nullary.Construct.Add.Extrema.html#713" class="InductiveConstructor Operator">]</a> <a id="4512" href="Data.AVL.Indexed.html#4399" class="Bound">u</a> <a id="4514" class="Symbol">(</a><a id="4515" href="Data.AVL.Indexed.html#4489" class="Bound">i</a> <a id="4517" href="Data.AVL.Height.html#512" class="Function Operator">⊕</a> <a id="4519" href="Data.AVL.Indexed.html#4404" class="Bound">hʳ</a><a id="4521" class="Symbol">))</a> <a id="4524" class="Symbol">→</a>
           <a id="4537" class="Symbol">(</a><a id="4538" href="Data.AVL.Indexed.html#4538" class="Bound">bal</a> <a id="4542" class="Symbol">:</a> <a id="4544" href="Data.AVL.Indexed.html#4401" class="Bound">hˡ</a> <a id="4547" href="Data.AVL.Height.html#947" class="Datatype Operator">∼</a> <a id="4549" href="Data.AVL.Indexed.html#4404" class="Bound">hʳ</a> <a id="4552" href="Data.AVL.Height.html#947" class="Datatype Operator">⊔</a> <a id="4554" href="Data.AVL.Indexed.html#4407" class="Bound">h</a><a id="4555" class="Symbol">)</a> <a id="4557" class="Symbol">→</a>
           <a id="4570" href="Data.Product.html#917" class="Function">∃</a> <a id="4572" class="Symbol">λ</a> <a id="4574" href="Data.AVL.Indexed.html#4574" class="Bound">i</a> <a id="4576" class="Symbol">→</a> <a id="4578" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="4583" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="4585" href="Data.AVL.Indexed.html#4397" class="Bound">l</a> <a id="4587" href="Data.AVL.Indexed.html#4399" class="Bound">u</a> <a id="4589" class="Symbol">(</a><a id="4590" href="Data.AVL.Indexed.html#4574" class="Bound">i</a> <a id="4592" href="Data.AVL.Height.html#512" class="Function Operator">⊕</a> <a id="4594" class="Symbol">(</a><a id="4595" class="Number">1</a> <a id="4597" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">+</a> <a id="4599" href="Data.AVL.Indexed.html#4407" class="Bound">h</a><a id="4600" class="Symbol">))</a>
  <a id="4605" href="Data.AVL.Indexed.html#4385" class="Function">joinʳ⁺</a> <a id="4612" href="Data.AVL.Indexed.html#4612" class="Bound">k₂</a> <a id="4615" href="Data.AVL.Indexed.html#4615" class="Bound">t₁</a> <a id="4618" class="Symbol">(</a><a id="4619" href="Data.AVL.Height.html#443" class="InductiveConstructor">1#</a> <a id="4622" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4624" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="4629" href="Data.AVL.Indexed.html#4629" class="Bound">k₆</a>
                       <a id="4655" class="Symbol">(</a><a id="4656" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="4661" href="Data.AVL.Indexed.html#4661" class="Bound">k₄</a> <a id="4664" href="Data.AVL.Indexed.html#4664" class="Bound">t₃</a> <a id="4667" href="Data.AVL.Indexed.html#4667" class="Bound">t₅</a> <a id="4670" href="Data.AVL.Indexed.html#4670" class="Bound">bal</a><a id="4673" class="Symbol">)</a>
                                <a id="4707" href="Data.AVL.Indexed.html#4707" class="Bound">t₇</a> <a id="4710" href="Data.AVL.Height.html#1049" class="InductiveConstructor">∼-</a><a id="4712" class="Symbol">)</a> <a id="4714" href="Data.AVL.Height.html#979" class="InductiveConstructor">∼+</a>  <a id="4718" class="Symbol">=</a> <a id="4720" class="Symbol">(</a><a id="4721" href="Data.AVL.Height.html#425" class="InductiveConstructor">0#</a> <a id="4724" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="4726" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="4731" href="Data.AVL.Indexed.html#4661" class="Bound">k₄</a>
                                                        <a id="4790" class="Symbol">(</a><a id="4791" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="4796" href="Data.AVL.Indexed.html#4612" class="Bound">k₂</a> <a id="4799" href="Data.AVL.Indexed.html#4615" class="Bound">t₁</a> <a id="4802" href="Data.AVL.Indexed.html#4664" class="Bound">t₃</a> <a id="4805" class="Symbol">(</a><a id="4806" href="Data.AVL.Height.html#1102" class="Function">max∼</a> <a id="4811" href="Data.AVL.Indexed.html#4670" class="Bound">bal</a><a id="4814" class="Symbol">))</a>
                                                        <a id="4873" class="Symbol">(</a><a id="4874" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="4879" href="Data.AVL.Indexed.html#4629" class="Bound">k₆</a> <a id="4882" href="Data.AVL.Indexed.html#4667" class="Bound">t₅</a> <a id="4885" href="Data.AVL.Indexed.html#4707" class="Bound">t₇</a> <a id="4888" class="Symbol">(</a><a id="4889" href="Data.AVL.Height.html#1183" class="Function">∼max</a> <a id="4894" href="Data.AVL.Indexed.html#4670" class="Bound">bal</a><a id="4897" class="Symbol">))</a>
                                                        <a id="4956" href="Data.AVL.Height.html#1016" class="InductiveConstructor">∼0</a><a id="4958" class="Symbol">)</a>
  <a id="4962" href="Data.AVL.Indexed.html#4385" class="CatchallClause Function">joinʳ⁺</a><a id="4968" class="CatchallClause"> </a><a id="4969" href="Data.AVL.Indexed.html#4969" class="CatchallClause Bound">k₂</a><a id="4971" class="CatchallClause"> </a><a id="4972" href="Data.AVL.Indexed.html#4972" class="CatchallClause Bound">t₁</a><a id="4974" class="CatchallClause"> </a><a id="4975" class="CatchallClause Symbol">(</a><a id="4976" href="Data.AVL.Height.html#443" class="CatchallClause InductiveConstructor">1#</a><a id="4978" class="CatchallClause"> </a><a id="4979" href="Agda.Builtin.Sigma.html#209" class="CatchallClause InductiveConstructor Operator">,</a><a id="4980" class="CatchallClause"> </a><a id="4981" href="Data.AVL.Indexed.html#1551" class="CatchallClause InductiveConstructor">node</a><a id="4985" class="CatchallClause"> </a><a id="4986" href="Data.AVL.Indexed.html#4986" class="CatchallClause Bound">k₄</a><a id="4988" class="CatchallClause"> </a><a id="4989" href="Data.AVL.Indexed.html#4989" class="CatchallClause Bound">t₃</a><a id="4991" class="CatchallClause"> </a><a id="4992" href="Data.AVL.Indexed.html#4992" class="CatchallClause Bound">t₅</a><a id="4994" class="CatchallClause"> </a><a id="4995" href="Data.AVL.Height.html#979" class="CatchallClause InductiveConstructor">∼+</a><a id="4997" class="CatchallClause Symbol">)</a><a id="4998" class="CatchallClause"> </a><a id="4999" href="Data.AVL.Height.html#979" class="CatchallClause InductiveConstructor">∼+</a>  <a id="5003" class="Symbol">=</a> <a id="5005" class="Symbol">(</a><a id="5006" href="Data.AVL.Height.html#425" class="InductiveConstructor">0#</a> <a id="5009" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5011" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="5016" href="Data.AVL.Indexed.html#4986" class="Bound">k₄</a> <a id="5019" class="Symbol">(</a><a id="5020" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="5025" href="Data.AVL.Indexed.html#4969" class="Bound">k₂</a> <a id="5028" href="Data.AVL.Indexed.html#4972" class="Bound">t₁</a> <a id="5031" href="Data.AVL.Indexed.html#4989" class="Bound">t₃</a> <a id="5034" href="Data.AVL.Height.html#1016" class="InductiveConstructor">∼0</a><a id="5036" class="Symbol">)</a> <a id="5038" href="Data.AVL.Indexed.html#4992" class="Bound">t₅</a> <a id="5041" href="Data.AVL.Height.html#1016" class="InductiveConstructor">∼0</a><a id="5043" class="Symbol">)</a>
  <a id="5047" href="Data.AVL.Indexed.html#4385" class="CatchallClause Function">joinʳ⁺</a><a id="5053" class="CatchallClause"> </a><a id="5054" href="Data.AVL.Indexed.html#5054" class="CatchallClause Bound">k₂</a><a id="5056" class="CatchallClause"> </a><a id="5057" href="Data.AVL.Indexed.html#5057" class="CatchallClause Bound">t₁</a><a id="5059" class="CatchallClause"> </a><a id="5060" class="CatchallClause Symbol">(</a><a id="5061" href="Data.AVL.Height.html#443" class="CatchallClause InductiveConstructor">1#</a><a id="5063" class="CatchallClause"> </a><a id="5064" href="Agda.Builtin.Sigma.html#209" class="CatchallClause InductiveConstructor Operator">,</a><a id="5065" class="CatchallClause"> </a><a id="5066" href="Data.AVL.Indexed.html#1551" class="CatchallClause InductiveConstructor">node</a><a id="5070" class="CatchallClause"> </a><a id="5071" href="Data.AVL.Indexed.html#5071" class="CatchallClause Bound">k₄</a><a id="5073" class="CatchallClause"> </a><a id="5074" href="Data.AVL.Indexed.html#5074" class="CatchallClause Bound">t₃</a><a id="5076" class="CatchallClause"> </a><a id="5077" href="Data.AVL.Indexed.html#5077" class="CatchallClause Bound">t₅</a><a id="5079" class="CatchallClause"> </a><a id="5080" href="Data.AVL.Height.html#1016" class="CatchallClause InductiveConstructor">∼0</a><a id="5082" class="CatchallClause Symbol">)</a><a id="5083" class="CatchallClause"> </a><a id="5084" href="Data.AVL.Height.html#979" class="CatchallClause InductiveConstructor">∼+</a>  <a id="5088" class="Symbol">=</a> <a id="5090" class="Symbol">(</a><a id="5091" href="Data.AVL.Height.html#443" class="InductiveConstructor">1#</a> <a id="5094" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5096" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="5101" href="Data.AVL.Indexed.html#5071" class="Bound">k₄</a> <a id="5104" class="Symbol">(</a><a id="5105" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="5110" href="Data.AVL.Indexed.html#5054" class="Bound">k₂</a> <a id="5113" href="Data.AVL.Indexed.html#5057" class="Bound">t₁</a> <a id="5116" href="Data.AVL.Indexed.html#5074" class="Bound">t₃</a> <a id="5119" href="Data.AVL.Height.html#979" class="InductiveConstructor">∼+</a><a id="5121" class="Symbol">)</a> <a id="5123" href="Data.AVL.Indexed.html#5077" class="Bound">t₅</a> <a id="5126" href="Data.AVL.Height.html#1049" class="InductiveConstructor">∼-</a><a id="5128" class="Symbol">)</a>
  <a id="5132" href="Data.AVL.Indexed.html#4385" class="CatchallClause Function">joinʳ⁺</a><a id="5138" class="CatchallClause"> </a><a id="5139" href="Data.AVL.Indexed.html#5139" class="CatchallClause Bound">k₂</a><a id="5141" class="CatchallClause"> </a><a id="5142" href="Data.AVL.Indexed.html#5142" class="CatchallClause Bound">t₁</a><a id="5144" class="CatchallClause"> </a><a id="5145" class="CatchallClause Symbol">(</a><a id="5146" href="Data.AVL.Height.html#443" class="CatchallClause InductiveConstructor">1#</a><a id="5148" class="CatchallClause"> </a><a id="5149" href="Agda.Builtin.Sigma.html#209" class="CatchallClause InductiveConstructor Operator">,</a><a id="5150" class="CatchallClause"> </a><a id="5151" href="Data.AVL.Indexed.html#5151" class="CatchallClause Bound">t₃</a><a id="5153" class="CatchallClause Symbol">)</a><a id="5154" class="CatchallClause">               </a><a id="5169" href="Data.AVL.Height.html#1016" class="CatchallClause InductiveConstructor">∼0</a>  <a id="5173" class="Symbol">=</a> <a id="5175" class="Symbol">(</a><a id="5176" href="Data.AVL.Height.html#443" class="InductiveConstructor">1#</a> <a id="5179" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5181" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="5186" href="Data.AVL.Indexed.html#5139" class="Bound">k₂</a> <a id="5189" href="Data.AVL.Indexed.html#5142" class="Bound">t₁</a> <a id="5192" href="Data.AVL.Indexed.html#5151" class="Bound">t₃</a> <a id="5195" href="Data.AVL.Height.html#979" class="InductiveConstructor">∼+</a><a id="5197" class="Symbol">)</a>
  <a id="5201" href="Data.AVL.Indexed.html#4385" class="CatchallClause Function">joinʳ⁺</a><a id="5207" class="CatchallClause"> </a><a id="5208" href="Data.AVL.Indexed.html#5208" class="CatchallClause Bound">k₂</a><a id="5210" class="CatchallClause"> </a><a id="5211" href="Data.AVL.Indexed.html#5211" class="CatchallClause Bound">t₁</a><a id="5213" class="CatchallClause"> </a><a id="5214" class="CatchallClause Symbol">(</a><a id="5215" href="Data.AVL.Height.html#443" class="CatchallClause InductiveConstructor">1#</a><a id="5217" class="CatchallClause"> </a><a id="5218" href="Agda.Builtin.Sigma.html#209" class="CatchallClause InductiveConstructor Operator">,</a><a id="5219" class="CatchallClause"> </a><a id="5220" href="Data.AVL.Indexed.html#5220" class="CatchallClause Bound">t₃</a><a id="5222" class="CatchallClause Symbol">)</a><a id="5223" class="CatchallClause">               </a><a id="5238" href="Data.AVL.Height.html#1049" class="CatchallClause InductiveConstructor">∼-</a>  <a id="5242" class="Symbol">=</a> <a id="5244" class="Symbol">(</a><a id="5245" href="Data.AVL.Height.html#425" class="InductiveConstructor">0#</a> <a id="5248" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5250" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="5255" href="Data.AVL.Indexed.html#5208" class="Bound">k₂</a> <a id="5258" href="Data.AVL.Indexed.html#5211" class="Bound">t₁</a> <a id="5261" href="Data.AVL.Indexed.html#5220" class="Bound">t₃</a> <a id="5264" href="Data.AVL.Height.html#1016" class="InductiveConstructor">∼0</a><a id="5266" class="Symbol">)</a>
  <a id="5270" href="Data.AVL.Indexed.html#4385" class="Function">joinʳ⁺</a> <a id="5277" href="Data.AVL.Indexed.html#5277" class="Bound">k₂</a> <a id="5280" href="Data.AVL.Indexed.html#5280" class="Bound">t₁</a> <a id="5283" class="Symbol">(</a><a id="5284" href="Data.AVL.Height.html#425" class="InductiveConstructor">0#</a> <a id="5287" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5289" href="Data.AVL.Indexed.html#5289" class="Bound">t₃</a><a id="5291" class="Symbol">)</a>               <a id="5307" href="Data.AVL.Indexed.html#5307" class="Bound">bal</a> <a id="5311" class="Symbol">=</a> <a id="5313" class="Symbol">(</a><a id="5314" href="Data.AVL.Height.html#425" class="InductiveConstructor">0#</a> <a id="5317" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5319" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="5324" href="Data.AVL.Indexed.html#5277" class="Bound">k₂</a> <a id="5327" href="Data.AVL.Indexed.html#5280" class="Bound">t₁</a> <a id="5330" href="Data.AVL.Indexed.html#5289" class="Bound">t₃</a> <a id="5333" href="Data.AVL.Indexed.html#5307" class="Bound">bal</a><a id="5336" class="Symbol">)</a>
  <a id="5340" href="Data.AVL.Indexed.html#4385" class="Function">joinʳ⁺</a> <a id="5347" href="Data.AVL.Indexed.html#5347" class="Bound">k₂</a> <a id="5350" href="Data.AVL.Indexed.html#5350" class="Bound">t₁</a> <a id="5353" class="Symbol">(</a><a id="5354" href="Data.AVL.Height.html#465" class="InductiveConstructor">##</a> <a id="5357" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5359" href="Data.AVL.Indexed.html#5359" class="Bound">t₃</a><a id="5361" class="Symbol">)</a>               <a id="5377" href="Data.AVL.Indexed.html#5377" class="Bound">bal</a>

  <a id="5384" href="Data.AVL.Indexed.html#5384" class="Function">joinˡ⁻</a> <a id="5391" class="Symbol">:</a> <a id="5393" class="Symbol">∀</a> <a id="5395" class="Symbol">{</a><a id="5396" href="Data.AVL.Indexed.html#5396" class="Bound">l</a> <a id="5398" href="Data.AVL.Indexed.html#5398" class="Bound">u</a><a id="5399" class="Symbol">}</a> <a id="5401" href="Data.AVL.Indexed.html#5401" class="Bound">hˡ</a> <a id="5404" class="Symbol">{</a><a id="5405" href="Data.AVL.Indexed.html#5405" class="Bound">hʳ</a> <a id="5408" href="Data.AVL.Indexed.html#5408" class="Bound">h</a><a id="5409" class="Symbol">}</a> <a id="5411" class="Symbol">→</a>
           <a id="5424" class="Symbol">(</a><a id="5425" href="Data.AVL.Indexed.html#5425" class="Bound">k</a> <a id="5427" class="Symbol">:</a> <a id="5429" href="Data.AVL.Indexed.html#1216" class="Function Operator">K&amp;</a> <a id="5432" href="Data.AVL.Indexed.html#1744" class="Bound">V</a><a id="5433" class="Symbol">)</a> <a id="5435" class="Symbol">→</a>
           <a id="5448" class="Symbol">(</a><a id="5449" href="Data.Product.html#917" class="Function">∃</a> <a id="5451" class="Symbol">λ</a> <a id="5453" href="Data.AVL.Indexed.html#5453" class="Bound">i</a> <a id="5455" class="Symbol">→</a> <a id="5457" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="5462" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="5464" href="Data.AVL.Indexed.html#5396" class="Bound">l</a> <a id="5466" href="Relation.Nullary.Construct.Add.Extrema.html#713" class="InductiveConstructor Operator">[</a> <a id="5468" href="Agda.Builtin.Sigma.html#225" class="Field">proj₁</a> <a id="5474" href="Data.AVL.Indexed.html#5425" class="Bound">k</a> <a id="5476" href="Relation.Nullary.Construct.Add.Extrema.html#713" class="InductiveConstructor Operator">]</a> <a id="5478" href="Data.AVL.Height.html#597" class="Function Operator">pred[</a> <a id="5484" href="Data.AVL.Indexed.html#5453" class="Bound">i</a> <a id="5486" href="Data.AVL.Height.html#597" class="Function Operator">⊕</a> <a id="5488" href="Data.AVL.Indexed.html#5401" class="Bound">hˡ</a> <a id="5491" href="Data.AVL.Height.html#597" class="Function Operator">]</a><a id="5492" class="Symbol">)</a> <a id="5494" class="Symbol">→</a>
           <a id="5507" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="5512" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="5514" href="Relation.Nullary.Construct.Add.Extrema.html#713" class="InductiveConstructor Operator">[</a> <a id="5516" href="Agda.Builtin.Sigma.html#225" class="Field">proj₁</a> <a id="5522" href="Data.AVL.Indexed.html#5425" class="Bound">k</a> <a id="5524" href="Relation.Nullary.Construct.Add.Extrema.html#713" class="InductiveConstructor Operator">]</a> <a id="5526" href="Data.AVL.Indexed.html#5398" class="Bound">u</a> <a id="5528" href="Data.AVL.Indexed.html#5405" class="Bound">hʳ</a> <a id="5531" class="Symbol">→</a>
           <a id="5544" class="Symbol">(</a><a id="5545" href="Data.AVL.Indexed.html#5545" class="Bound">bal</a> <a id="5549" class="Symbol">:</a> <a id="5551" href="Data.AVL.Indexed.html#5401" class="Bound">hˡ</a> <a id="5554" href="Data.AVL.Height.html#947" class="Datatype Operator">∼</a> <a id="5556" href="Data.AVL.Indexed.html#5405" class="Bound">hʳ</a> <a id="5559" href="Data.AVL.Height.html#947" class="Datatype Operator">⊔</a> <a id="5561" href="Data.AVL.Indexed.html#5408" class="Bound">h</a><a id="5562" class="Symbol">)</a> <a id="5564" class="Symbol">→</a>
           <a id="5577" href="Data.Product.html#917" class="Function">∃</a> <a id="5579" class="Symbol">λ</a> <a id="5581" href="Data.AVL.Indexed.html#5581" class="Bound">i</a> <a id="5583" class="Symbol">→</a> <a id="5585" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="5590" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="5592" href="Data.AVL.Indexed.html#5396" class="Bound">l</a> <a id="5594" href="Data.AVL.Indexed.html#5398" class="Bound">u</a> <a id="5596" class="Symbol">(</a><a id="5597" href="Data.AVL.Indexed.html#5581" class="Bound">i</a> <a id="5599" href="Data.AVL.Height.html#512" class="Function Operator">⊕</a> <a id="5601" href="Data.AVL.Indexed.html#5408" class="Bound">h</a><a id="5602" class="Symbol">)</a>
  <a id="5606" href="Data.AVL.Indexed.html#5384" class="Function">joinˡ⁻</a> <a id="5613" href="Agda.Builtin.Nat.html#183" class="InductiveConstructor">zero</a>    <a id="5621" href="Data.AVL.Indexed.html#5621" class="Bound">k₂</a> <a id="5624" class="Symbol">(</a><a id="5625" href="Data.AVL.Height.html#425" class="InductiveConstructor">0#</a> <a id="5628" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5630" href="Data.AVL.Indexed.html#5630" class="Bound">t₁</a><a id="5632" class="Symbol">)</a> <a id="5634" href="Data.AVL.Indexed.html#5634" class="Bound">t₃</a> <a id="5637" href="Data.AVL.Indexed.html#5637" class="Bound">bal</a> <a id="5641" class="Symbol">=</a> <a id="5643" class="Symbol">(</a><a id="5644" href="Data.AVL.Height.html#443" class="InductiveConstructor">1#</a> <a id="5647" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5649" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="5654" href="Data.AVL.Indexed.html#5621" class="Bound">k₂</a> <a id="5657" href="Data.AVL.Indexed.html#5630" class="Bound">t₁</a> <a id="5660" href="Data.AVL.Indexed.html#5634" class="Bound">t₃</a> <a id="5663" href="Data.AVL.Indexed.html#5637" class="Bound">bal</a><a id="5666" class="Symbol">)</a>
  <a id="5670" href="Data.AVL.Indexed.html#5384" class="Function">joinˡ⁻</a> <a id="5677" href="Agda.Builtin.Nat.html#183" class="InductiveConstructor">zero</a>    <a id="5685" href="Data.AVL.Indexed.html#5685" class="Bound">k₂</a> <a id="5688" class="Symbol">(</a><a id="5689" href="Data.AVL.Height.html#443" class="InductiveConstructor">1#</a> <a id="5692" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5694" href="Data.AVL.Indexed.html#5694" class="Bound">t₁</a><a id="5696" class="Symbol">)</a> <a id="5698" href="Data.AVL.Indexed.html#5698" class="Bound">t₃</a> <a id="5701" href="Data.AVL.Indexed.html#5701" class="Bound">bal</a> <a id="5705" class="Symbol">=</a> <a id="5707" class="Symbol">(</a><a id="5708" href="Data.AVL.Height.html#443" class="InductiveConstructor">1#</a> <a id="5711" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5713" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="5718" href="Data.AVL.Indexed.html#5685" class="Bound">k₂</a> <a id="5721" href="Data.AVL.Indexed.html#5694" class="Bound">t₁</a> <a id="5724" href="Data.AVL.Indexed.html#5698" class="Bound">t₃</a> <a id="5727" href="Data.AVL.Indexed.html#5701" class="Bound">bal</a><a id="5730" class="Symbol">)</a>
  <a id="5734" href="Data.AVL.Indexed.html#5384" class="Function">joinˡ⁻</a> <a id="5741" class="Symbol">(</a><a id="5742" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="5746" class="Symbol">_)</a> <a id="5749" href="Data.AVL.Indexed.html#5749" class="Bound">k₂</a> <a id="5752" class="Symbol">(</a><a id="5753" href="Data.AVL.Height.html#425" class="InductiveConstructor">0#</a> <a id="5756" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5758" href="Data.AVL.Indexed.html#5758" class="Bound">t₁</a><a id="5760" class="Symbol">)</a> <a id="5762" href="Data.AVL.Indexed.html#5762" class="Bound">t₃</a> <a id="5765" href="Data.AVL.Height.html#979" class="InductiveConstructor">∼+</a>  <a id="5769" class="Symbol">=</a> <a id="5771" href="Data.AVL.Indexed.html#4385" class="Function">joinʳ⁺</a> <a id="5778" href="Data.AVL.Indexed.html#5749" class="Bound">k₂</a> <a id="5781" href="Data.AVL.Indexed.html#5758" class="Bound">t₁</a> <a id="5784" class="Symbol">(</a><a id="5785" href="Data.AVL.Height.html#443" class="InductiveConstructor">1#</a> <a id="5788" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5790" href="Data.AVL.Indexed.html#5762" class="Bound">t₃</a><a id="5792" class="Symbol">)</a> <a id="5794" href="Data.AVL.Height.html#979" class="InductiveConstructor">∼+</a>
  <a id="5799" href="Data.AVL.Indexed.html#5384" class="Function">joinˡ⁻</a> <a id="5806" class="Symbol">(</a><a id="5807" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="5811" class="Symbol">_)</a> <a id="5814" href="Data.AVL.Indexed.html#5814" class="Bound">k₂</a> <a id="5817" class="Symbol">(</a><a id="5818" href="Data.AVL.Height.html#425" class="InductiveConstructor">0#</a> <a id="5821" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5823" href="Data.AVL.Indexed.html#5823" class="Bound">t₁</a><a id="5825" class="Symbol">)</a> <a id="5827" href="Data.AVL.Indexed.html#5827" class="Bound">t₃</a> <a id="5830" href="Data.AVL.Height.html#1016" class="InductiveConstructor">∼0</a>  <a id="5834" class="Symbol">=</a> <a id="5836" class="Symbol">(</a><a id="5837" href="Data.AVL.Height.html#443" class="InductiveConstructor">1#</a> <a id="5840" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5842" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="5847" href="Data.AVL.Indexed.html#5814" class="Bound">k₂</a> <a id="5850" href="Data.AVL.Indexed.html#5823" class="Bound">t₁</a> <a id="5853" href="Data.AVL.Indexed.html#5827" class="Bound">t₃</a> <a id="5856" href="Data.AVL.Height.html#979" class="InductiveConstructor">∼+</a><a id="5858" class="Symbol">)</a>
  <a id="5862" href="Data.AVL.Indexed.html#5384" class="Function">joinˡ⁻</a> <a id="5869" class="Symbol">(</a><a id="5870" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="5874" class="Symbol">_)</a> <a id="5877" href="Data.AVL.Indexed.html#5877" class="Bound">k₂</a> <a id="5880" class="Symbol">(</a><a id="5881" href="Data.AVL.Height.html#425" class="InductiveConstructor">0#</a> <a id="5884" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5886" href="Data.AVL.Indexed.html#5886" class="Bound">t₁</a><a id="5888" class="Symbol">)</a> <a id="5890" href="Data.AVL.Indexed.html#5890" class="Bound">t₃</a> <a id="5893" href="Data.AVL.Height.html#1049" class="InductiveConstructor">∼-</a>  <a id="5897" class="Symbol">=</a> <a id="5899" class="Symbol">(</a><a id="5900" href="Data.AVL.Height.html#425" class="InductiveConstructor">0#</a> <a id="5903" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5905" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="5910" href="Data.AVL.Indexed.html#5877" class="Bound">k₂</a> <a id="5913" href="Data.AVL.Indexed.html#5886" class="Bound">t₁</a> <a id="5916" href="Data.AVL.Indexed.html#5890" class="Bound">t₃</a> <a id="5919" href="Data.AVL.Height.html#1016" class="InductiveConstructor">∼0</a><a id="5921" class="Symbol">)</a>
  <a id="5925" href="Data.AVL.Indexed.html#5384" class="Function">joinˡ⁻</a> <a id="5932" class="Symbol">(</a><a id="5933" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="5937" class="Symbol">_)</a> <a id="5940" href="Data.AVL.Indexed.html#5940" class="Bound">k₂</a> <a id="5943" class="Symbol">(</a><a id="5944" href="Data.AVL.Height.html#443" class="InductiveConstructor">1#</a> <a id="5947" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5949" href="Data.AVL.Indexed.html#5949" class="Bound">t₁</a><a id="5951" class="Symbol">)</a> <a id="5953" href="Data.AVL.Indexed.html#5953" class="Bound">t₃</a> <a id="5956" href="Data.AVL.Indexed.html#5956" class="Bound">bal</a> <a id="5960" class="Symbol">=</a> <a id="5962" class="Symbol">(</a><a id="5963" href="Data.AVL.Height.html#443" class="InductiveConstructor">1#</a> <a id="5966" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="5968" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="5973" href="Data.AVL.Indexed.html#5940" class="Bound">k₂</a> <a id="5976" href="Data.AVL.Indexed.html#5949" class="Bound">t₁</a> <a id="5979" href="Data.AVL.Indexed.html#5953" class="Bound">t₃</a> <a id="5982" href="Data.AVL.Indexed.html#5956" class="Bound">bal</a><a id="5985" class="Symbol">)</a>
  <a id="5989" href="Data.AVL.Indexed.html#5384" class="Function">joinˡ⁻</a> <a id="5996" href="Data.AVL.Indexed.html#5996" class="Bound">n</a>       <a id="6004" href="Data.AVL.Indexed.html#6004" class="Bound">k₂</a> <a id="6007" class="Symbol">(</a><a id="6008" href="Data.AVL.Height.html#465" class="InductiveConstructor">##</a> <a id="6011" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6013" href="Data.AVL.Indexed.html#6013" class="Bound">t₁</a><a id="6015" class="Symbol">)</a> <a id="6017" href="Data.AVL.Indexed.html#6017" class="Bound">t₃</a> <a id="6020" href="Data.AVL.Indexed.html#6020" class="Bound">bal</a>

  <a id="6027" href="Data.AVL.Indexed.html#6027" class="Function">joinʳ⁻</a> <a id="6034" class="Symbol">:</a> <a id="6036" class="Symbol">∀</a> <a id="6038" class="Symbol">{</a><a id="6039" href="Data.AVL.Indexed.html#6039" class="Bound">l</a> <a id="6041" href="Data.AVL.Indexed.html#6041" class="Bound">u</a> <a id="6043" href="Data.AVL.Indexed.html#6043" class="Bound">hˡ</a><a id="6045" class="Symbol">}</a> <a id="6047" href="Data.AVL.Indexed.html#6047" class="Bound">hʳ</a> <a id="6050" class="Symbol">{</a><a id="6051" href="Data.AVL.Indexed.html#6051" class="Bound">h</a><a id="6052" class="Symbol">}</a> <a id="6054" class="Symbol">→</a>
           <a id="6067" class="Symbol">(</a><a id="6068" href="Data.AVL.Indexed.html#6068" class="Bound">k</a> <a id="6070" class="Symbol">:</a> <a id="6072" href="Data.AVL.Indexed.html#1216" class="Function Operator">K&amp;</a> <a id="6075" href="Data.AVL.Indexed.html#1744" class="Bound">V</a><a id="6076" class="Symbol">)</a> <a id="6078" class="Symbol">→</a>
           <a id="6091" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="6096" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="6098" href="Data.AVL.Indexed.html#6039" class="Bound">l</a> <a id="6100" href="Relation.Nullary.Construct.Add.Extrema.html#713" class="InductiveConstructor Operator">[</a> <a id="6102" href="Agda.Builtin.Sigma.html#225" class="Field">proj₁</a> <a id="6108" href="Data.AVL.Indexed.html#6068" class="Bound">k</a> <a id="6110" href="Relation.Nullary.Construct.Add.Extrema.html#713" class="InductiveConstructor Operator">]</a> <a id="6112" href="Data.AVL.Indexed.html#6043" class="Bound">hˡ</a> <a id="6115" class="Symbol">→</a>
           <a id="6128" class="Symbol">(</a><a id="6129" href="Data.Product.html#917" class="Function">∃</a> <a id="6131" class="Symbol">λ</a> <a id="6133" href="Data.AVL.Indexed.html#6133" class="Bound">i</a> <a id="6135" class="Symbol">→</a> <a id="6137" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="6142" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="6144" href="Relation.Nullary.Construct.Add.Extrema.html#713" class="InductiveConstructor Operator">[</a> <a id="6146" href="Agda.Builtin.Sigma.html#225" class="Field">proj₁</a> <a id="6152" href="Data.AVL.Indexed.html#6068" class="Bound">k</a> <a id="6154" href="Relation.Nullary.Construct.Add.Extrema.html#713" class="InductiveConstructor Operator">]</a> <a id="6156" href="Data.AVL.Indexed.html#6041" class="Bound">u</a> <a id="6158" href="Data.AVL.Height.html#597" class="Function Operator">pred[</a> <a id="6164" href="Data.AVL.Indexed.html#6133" class="Bound">i</a> <a id="6166" href="Data.AVL.Height.html#597" class="Function Operator">⊕</a> <a id="6168" href="Data.AVL.Indexed.html#6047" class="Bound">hʳ</a> <a id="6171" href="Data.AVL.Height.html#597" class="Function Operator">]</a><a id="6172" class="Symbol">)</a> <a id="6174" class="Symbol">→</a>
           <a id="6187" class="Symbol">(</a><a id="6188" href="Data.AVL.Indexed.html#6188" class="Bound">bal</a> <a id="6192" class="Symbol">:</a> <a id="6194" href="Data.AVL.Indexed.html#6043" class="Bound">hˡ</a> <a id="6197" href="Data.AVL.Height.html#947" class="Datatype Operator">∼</a> <a id="6199" href="Data.AVL.Indexed.html#6047" class="Bound">hʳ</a> <a id="6202" href="Data.AVL.Height.html#947" class="Datatype Operator">⊔</a> <a id="6204" href="Data.AVL.Indexed.html#6051" class="Bound">h</a><a id="6205" class="Symbol">)</a> <a id="6207" class="Symbol">→</a>
           <a id="6220" href="Data.Product.html#917" class="Function">∃</a> <a id="6222" class="Symbol">λ</a> <a id="6224" href="Data.AVL.Indexed.html#6224" class="Bound">i</a> <a id="6226" class="Symbol">→</a> <a id="6228" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="6233" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="6235" href="Data.AVL.Indexed.html#6039" class="Bound">l</a> <a id="6237" href="Data.AVL.Indexed.html#6041" class="Bound">u</a> <a id="6239" class="Symbol">(</a><a id="6240" href="Data.AVL.Indexed.html#6224" class="Bound">i</a> <a id="6242" href="Data.AVL.Height.html#512" class="Function Operator">⊕</a> <a id="6244" href="Data.AVL.Indexed.html#6051" class="Bound">h</a><a id="6245" class="Symbol">)</a>
  <a id="6249" href="Data.AVL.Indexed.html#6027" class="Function">joinʳ⁻</a> <a id="6256" href="Agda.Builtin.Nat.html#183" class="InductiveConstructor">zero</a>    <a id="6264" href="Data.AVL.Indexed.html#6264" class="Bound">k₂</a> <a id="6267" href="Data.AVL.Indexed.html#6267" class="Bound">t₁</a> <a id="6270" class="Symbol">(</a><a id="6271" href="Data.AVL.Height.html#425" class="InductiveConstructor">0#</a> <a id="6274" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6276" href="Data.AVL.Indexed.html#6276" class="Bound">t₃</a><a id="6278" class="Symbol">)</a> <a id="6280" href="Data.AVL.Indexed.html#6280" class="Bound">bal</a> <a id="6284" class="Symbol">=</a> <a id="6286" class="Symbol">(</a><a id="6287" href="Data.AVL.Height.html#443" class="InductiveConstructor">1#</a> <a id="6290" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6292" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="6297" href="Data.AVL.Indexed.html#6264" class="Bound">k₂</a> <a id="6300" href="Data.AVL.Indexed.html#6267" class="Bound">t₁</a> <a id="6303" href="Data.AVL.Indexed.html#6276" class="Bound">t₃</a> <a id="6306" href="Data.AVL.Indexed.html#6280" class="Bound">bal</a><a id="6309" class="Symbol">)</a>
  <a id="6313" href="Data.AVL.Indexed.html#6027" class="Function">joinʳ⁻</a> <a id="6320" href="Agda.Builtin.Nat.html#183" class="InductiveConstructor">zero</a>    <a id="6328" href="Data.AVL.Indexed.html#6328" class="Bound">k₂</a> <a id="6331" href="Data.AVL.Indexed.html#6331" class="Bound">t₁</a> <a id="6334" class="Symbol">(</a><a id="6335" href="Data.AVL.Height.html#443" class="InductiveConstructor">1#</a> <a id="6338" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6340" href="Data.AVL.Indexed.html#6340" class="Bound">t₃</a><a id="6342" class="Symbol">)</a> <a id="6344" href="Data.AVL.Indexed.html#6344" class="Bound">bal</a> <a id="6348" class="Symbol">=</a> <a id="6350" class="Symbol">(</a><a id="6351" href="Data.AVL.Height.html#443" class="InductiveConstructor">1#</a> <a id="6354" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6356" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="6361" href="Data.AVL.Indexed.html#6328" class="Bound">k₂</a> <a id="6364" href="Data.AVL.Indexed.html#6331" class="Bound">t₁</a> <a id="6367" href="Data.AVL.Indexed.html#6340" class="Bound">t₃</a> <a id="6370" href="Data.AVL.Indexed.html#6344" class="Bound">bal</a><a id="6373" class="Symbol">)</a>
  <a id="6377" href="Data.AVL.Indexed.html#6027" class="Function">joinʳ⁻</a> <a id="6384" class="Symbol">(</a><a id="6385" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="6389" class="Symbol">_)</a> <a id="6392" href="Data.AVL.Indexed.html#6392" class="Bound">k₂</a> <a id="6395" href="Data.AVL.Indexed.html#6395" class="Bound">t₁</a> <a id="6398" class="Symbol">(</a><a id="6399" href="Data.AVL.Height.html#425" class="InductiveConstructor">0#</a> <a id="6402" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6404" href="Data.AVL.Indexed.html#6404" class="Bound">t₃</a><a id="6406" class="Symbol">)</a> <a id="6408" href="Data.AVL.Height.html#1049" class="InductiveConstructor">∼-</a>  <a id="6412" class="Symbol">=</a> <a id="6414" href="Data.AVL.Indexed.html#3389" class="Function">joinˡ⁺</a> <a id="6421" href="Data.AVL.Indexed.html#6392" class="Bound">k₂</a> <a id="6424" class="Symbol">(</a><a id="6425" href="Data.AVL.Height.html#443" class="InductiveConstructor">1#</a> <a id="6428" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6430" href="Data.AVL.Indexed.html#6395" class="Bound">t₁</a><a id="6432" class="Symbol">)</a> <a id="6434" href="Data.AVL.Indexed.html#6404" class="Bound">t₃</a> <a id="6437" href="Data.AVL.Height.html#1049" class="InductiveConstructor">∼-</a>
  <a id="6442" href="Data.AVL.Indexed.html#6027" class="Function">joinʳ⁻</a> <a id="6449" class="Symbol">(</a><a id="6450" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="6454" class="Symbol">_)</a> <a id="6457" href="Data.AVL.Indexed.html#6457" class="Bound">k₂</a> <a id="6460" href="Data.AVL.Indexed.html#6460" class="Bound">t₁</a> <a id="6463" class="Symbol">(</a><a id="6464" href="Data.AVL.Height.html#425" class="InductiveConstructor">0#</a> <a id="6467" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6469" href="Data.AVL.Indexed.html#6469" class="Bound">t₃</a><a id="6471" class="Symbol">)</a> <a id="6473" href="Data.AVL.Height.html#1016" class="InductiveConstructor">∼0</a>  <a id="6477" class="Symbol">=</a> <a id="6479" class="Symbol">(</a><a id="6480" href="Data.AVL.Height.html#443" class="InductiveConstructor">1#</a> <a id="6483" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6485" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="6490" href="Data.AVL.Indexed.html#6457" class="Bound">k₂</a> <a id="6493" href="Data.AVL.Indexed.html#6460" class="Bound">t₁</a> <a id="6496" href="Data.AVL.Indexed.html#6469" class="Bound">t₃</a> <a id="6499" href="Data.AVL.Height.html#1049" class="InductiveConstructor">∼-</a><a id="6501" class="Symbol">)</a>
  <a id="6505" href="Data.AVL.Indexed.html#6027" class="Function">joinʳ⁻</a> <a id="6512" class="Symbol">(</a><a id="6513" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="6517" class="Symbol">_)</a> <a id="6520" href="Data.AVL.Indexed.html#6520" class="Bound">k₂</a> <a id="6523" href="Data.AVL.Indexed.html#6523" class="Bound">t₁</a> <a id="6526" class="Symbol">(</a><a id="6527" href="Data.AVL.Height.html#425" class="InductiveConstructor">0#</a> <a id="6530" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6532" href="Data.AVL.Indexed.html#6532" class="Bound">t₃</a><a id="6534" class="Symbol">)</a> <a id="6536" href="Data.AVL.Height.html#979" class="InductiveConstructor">∼+</a>  <a id="6540" class="Symbol">=</a> <a id="6542" class="Symbol">(</a><a id="6543" href="Data.AVL.Height.html#425" class="InductiveConstructor">0#</a> <a id="6546" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6548" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="6553" href="Data.AVL.Indexed.html#6520" class="Bound">k₂</a> <a id="6556" href="Data.AVL.Indexed.html#6523" class="Bound">t₁</a> <a id="6559" href="Data.AVL.Indexed.html#6532" class="Bound">t₃</a> <a id="6562" href="Data.AVL.Height.html#1016" class="InductiveConstructor">∼0</a><a id="6564" class="Symbol">)</a>
  <a id="6568" href="Data.AVL.Indexed.html#6027" class="Function">joinʳ⁻</a> <a id="6575" class="Symbol">(</a><a id="6576" href="Agda.Builtin.Nat.html#196" class="InductiveConstructor">suc</a> <a id="6580" class="Symbol">_)</a> <a id="6583" href="Data.AVL.Indexed.html#6583" class="Bound">k₂</a> <a id="6586" href="Data.AVL.Indexed.html#6586" class="Bound">t₁</a> <a id="6589" class="Symbol">(</a><a id="6590" href="Data.AVL.Height.html#443" class="InductiveConstructor">1#</a> <a id="6593" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6595" href="Data.AVL.Indexed.html#6595" class="Bound">t₃</a><a id="6597" class="Symbol">)</a> <a id="6599" href="Data.AVL.Indexed.html#6599" class="Bound">bal</a> <a id="6603" class="Symbol">=</a> <a id="6605" class="Symbol">(</a><a id="6606" href="Data.AVL.Height.html#443" class="InductiveConstructor">1#</a> <a id="6609" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6611" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="6616" href="Data.AVL.Indexed.html#6583" class="Bound">k₂</a> <a id="6619" href="Data.AVL.Indexed.html#6586" class="Bound">t₁</a> <a id="6622" href="Data.AVL.Indexed.html#6595" class="Bound">t₃</a> <a id="6625" href="Data.AVL.Indexed.html#6599" class="Bound">bal</a><a id="6628" class="Symbol">)</a>
  <a id="6632" href="Data.AVL.Indexed.html#6027" class="Function">joinʳ⁻</a> <a id="6639" href="Data.AVL.Indexed.html#6639" class="Bound">n</a>       <a id="6647" href="Data.AVL.Indexed.html#6647" class="Bound">k₂</a> <a id="6650" href="Data.AVL.Indexed.html#6650" class="Bound">t₁</a> <a id="6653" class="Symbol">(</a><a id="6654" href="Data.AVL.Height.html#465" class="InductiveConstructor">##</a> <a id="6657" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6659" href="Data.AVL.Indexed.html#6659" class="Bound">t₃</a><a id="6661" class="Symbol">)</a> <a id="6663" href="Data.AVL.Indexed.html#6663" class="Bound">bal</a>

  <a id="6670" class="Comment">-- Extracts the smallest element from the tree, plus the rest.</a>
  <a id="6735" class="Comment">-- Logarithmic in the size of the tree.</a>

  <a id="6778" href="Data.AVL.Indexed.html#6778" class="Function">headTail</a> <a id="6787" class="Symbol">:</a> <a id="6789" class="Symbol">∀</a> <a id="6791" class="Symbol">{</a><a id="6792" href="Data.AVL.Indexed.html#6792" class="Bound">l</a> <a id="6794" href="Data.AVL.Indexed.html#6794" class="Bound">u</a> <a id="6796" href="Data.AVL.Indexed.html#6796" class="Bound">h</a><a id="6797" class="Symbol">}</a> <a id="6799" class="Symbol">→</a> <a id="6801" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="6806" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="6808" href="Data.AVL.Indexed.html#6792" class="Bound">l</a> <a id="6810" href="Data.AVL.Indexed.html#6794" class="Bound">u</a> <a id="6812" class="Symbol">(</a><a id="6813" class="Number">1</a> <a id="6815" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">+</a> <a id="6817" href="Data.AVL.Indexed.html#6796" class="Bound">h</a><a id="6818" class="Symbol">)</a> <a id="6820" class="Symbol">→</a>
             <a id="6835" href="Data.Product.html#917" class="Function">∃</a> <a id="6837" class="Symbol">λ</a> <a id="6839" class="Symbol">(</a><a id="6840" href="Data.AVL.Indexed.html#6840" class="Bound">k</a> <a id="6842" class="Symbol">:</a> <a id="6844" href="Data.AVL.Indexed.html#1216" class="Function Operator">K&amp;</a> <a id="6847" href="Data.AVL.Indexed.html#1744" class="Bound">V</a><a id="6848" class="Symbol">)</a> <a id="6850" class="Symbol">→</a> <a id="6852" href="Data.AVL.Indexed.html#6792" class="Bound">l</a> <a id="6854" href="Relation.Binary.Construct.Add.Supremum.Strict.html#983" class="Datatype Operator">&lt;⁺</a> <a id="6857" href="Relation.Nullary.Construct.Add.Extrema.html#713" class="InductiveConstructor Operator">[</a> <a id="6859" href="Agda.Builtin.Sigma.html#225" class="Field">proj₁</a> <a id="6865" href="Data.AVL.Indexed.html#6840" class="Bound">k</a> <a id="6867" href="Relation.Nullary.Construct.Add.Extrema.html#713" class="InductiveConstructor Operator">]</a> <a id="6869" href="Data.Product.html#1389" class="Function Operator">×</a>
                            <a id="6899" href="Data.Product.html#917" class="Function">∃</a> <a id="6901" class="Symbol">λ</a> <a id="6903" href="Data.AVL.Indexed.html#6903" class="Bound">i</a> <a id="6905" class="Symbol">→</a> <a id="6907" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="6912" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="6914" href="Relation.Nullary.Construct.Add.Extrema.html#713" class="InductiveConstructor Operator">[</a> <a id="6916" href="Agda.Builtin.Sigma.html#225" class="Field">proj₁</a> <a id="6922" href="Data.AVL.Indexed.html#6840" class="Bound">k</a> <a id="6924" href="Relation.Nullary.Construct.Add.Extrema.html#713" class="InductiveConstructor Operator">]</a> <a id="6926" href="Data.AVL.Indexed.html#6794" class="Bound">u</a> <a id="6928" class="Symbol">(</a><a id="6929" href="Data.AVL.Indexed.html#6903" class="Bound">i</a> <a id="6931" href="Data.AVL.Height.html#512" class="Function Operator">⊕</a> <a id="6933" href="Data.AVL.Indexed.html#6796" class="Bound">h</a><a id="6934" class="Symbol">)</a>
  <a id="6938" href="Data.AVL.Indexed.html#6778" class="Function">headTail</a> <a id="6947" class="Symbol">(</a><a id="6948" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="6953" href="Data.AVL.Indexed.html#6953" class="Bound">k₁</a> <a id="6956" class="Symbol">(</a><a id="6957" href="Data.AVL.Indexed.html#1512" class="InductiveConstructor">leaf</a> <a id="6962" href="Data.AVL.Indexed.html#6962" class="Bound">l&lt;k₁</a><a id="6966" class="Symbol">)</a> <a id="6968" href="Data.AVL.Indexed.html#6968" class="Bound">t₂</a> <a id="6971" href="Data.AVL.Height.html#979" class="InductiveConstructor">∼+</a><a id="6973" class="Symbol">)</a> <a id="6975" class="Symbol">=</a> <a id="6977" class="Symbol">(</a><a id="6978" href="Data.AVL.Indexed.html#6953" class="Bound">k₁</a> <a id="6981" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6983" href="Data.AVL.Indexed.html#6962" class="Bound">l&lt;k₁</a> <a id="6988" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6990" href="Data.AVL.Height.html#425" class="InductiveConstructor">0#</a> <a id="6993" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="6995" href="Data.AVL.Indexed.html#6968" class="Bound">t₂</a><a id="6997" class="Symbol">)</a>
  <a id="7001" href="Data.AVL.Indexed.html#6778" class="Function">headTail</a> <a id="7010" class="Symbol">(</a><a id="7011" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="7016" href="Data.AVL.Indexed.html#7016" class="Bound">k₁</a> <a id="7019" class="Symbol">(</a><a id="7020" href="Data.AVL.Indexed.html#1512" class="InductiveConstructor">leaf</a> <a id="7025" href="Data.AVL.Indexed.html#7025" class="Bound">l&lt;k₁</a><a id="7029" class="Symbol">)</a> <a id="7031" href="Data.AVL.Indexed.html#7031" class="Bound">t₂</a> <a id="7034" href="Data.AVL.Height.html#1016" class="InductiveConstructor">∼0</a><a id="7036" class="Symbol">)</a> <a id="7038" class="Symbol">=</a> <a id="7040" class="Symbol">(</a><a id="7041" href="Data.AVL.Indexed.html#7016" class="Bound">k₁</a> <a id="7044" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="7046" href="Data.AVL.Indexed.html#7025" class="Bound">l&lt;k₁</a> <a id="7051" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="7053" href="Data.AVL.Height.html#425" class="InductiveConstructor">0#</a> <a id="7056" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="7058" href="Data.AVL.Indexed.html#7031" class="Bound">t₂</a><a id="7060" class="Symbol">)</a>
  <a id="7064" href="Data.AVL.Indexed.html#6778" class="CatchallClause Function">headTail</a><a id="7072" class="CatchallClause"> </a><a id="7073" class="CatchallClause Symbol">(</a><a id="7074" href="Data.AVL.Indexed.html#1551" class="CatchallClause InductiveConstructor">node</a><a id="7078" class="CatchallClause"> </a><a id="7079" class="CatchallClause Symbol">{</a><a id="7080" class="CatchallClause Argument">hˡ</a><a id="7082" class="CatchallClause"> </a><a id="7083" class="CatchallClause Symbol">=</a><a id="7084" class="CatchallClause"> </a><a id="7085" href="Agda.Builtin.Nat.html#196" class="CatchallClause InductiveConstructor">suc</a><a id="7088" class="CatchallClause"> </a><a id="7089" class="CatchallClause Symbol">_}</a><a id="7091" class="CatchallClause"> </a><a id="7092" href="Data.AVL.Indexed.html#7092" class="CatchallClause Bound">k₃</a><a id="7094" class="CatchallClause"> </a><a id="7095" href="Data.AVL.Indexed.html#7095" class="CatchallClause Bound">t₁₂</a><a id="7098" class="CatchallClause"> </a><a id="7099" href="Data.AVL.Indexed.html#7099" class="CatchallClause Bound">t₄</a><a id="7101" class="CatchallClause"> </a><a id="7102" href="Data.AVL.Indexed.html#7102" class="CatchallClause Bound">bal</a><a id="7105" class="CatchallClause Symbol">)</a> <a id="7107" class="Keyword">with</a> <a id="7112" href="Data.AVL.Indexed.html#6778" class="Function">headTail</a> <a id="7121" href="Data.AVL.Indexed.html#7095" class="Bound">t₁₂</a>
  <a id="7127" class="Symbol">...</a> <a id="7131" class="Symbol">|</a> <a id="7133" class="Symbol">(</a><a id="7134" href="Data.AVL.Indexed.html#7134" class="Bound">k₁</a> <a id="7137" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="7139" href="Data.AVL.Indexed.html#7139" class="Bound">l&lt;k₁</a> <a id="7144" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="7146" href="Data.AVL.Indexed.html#7146" class="Bound">t₂</a><a id="7148" class="Symbol">)</a> <a id="7150" class="Symbol">=</a> <a id="7152" class="Symbol">(</a><a id="7153" href="Data.AVL.Indexed.html#7134" class="Bound">k₁</a> <a id="7156" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="7158" href="Data.AVL.Indexed.html#7139" class="Bound">l&lt;k₁</a> <a id="7163" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="7165" href="Data.AVL.Indexed.html#5384" class="Function">joinˡ⁻</a> <a id="7172" class="Symbol">_</a> <a id="7174" class="Bound">k₃</a> <a id="7177" href="Data.AVL.Indexed.html#7146" class="Bound">t₂</a> <a id="7180" class="Bound">t₄</a> <a id="7183" class="Bound">bal</a><a id="7186" class="Symbol">)</a>

  <a id="7191" class="Comment">-- Extracts the largest element from the tree, plus the rest.</a>
  <a id="7255" class="Comment">-- Logarithmic in the size of the tree.</a>

  <a id="7298" href="Data.AVL.Indexed.html#7298" class="Function">initLast</a> <a id="7307" class="Symbol">:</a> <a id="7309" class="Symbol">∀</a> <a id="7311" class="Symbol">{</a><a id="7312" href="Data.AVL.Indexed.html#7312" class="Bound">l</a> <a id="7314" href="Data.AVL.Indexed.html#7314" class="Bound">u</a> <a id="7316" href="Data.AVL.Indexed.html#7316" class="Bound">h</a><a id="7317" class="Symbol">}</a> <a id="7319" class="Symbol">→</a> <a id="7321" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="7326" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="7328" href="Data.AVL.Indexed.html#7312" class="Bound">l</a> <a id="7330" href="Data.AVL.Indexed.html#7314" class="Bound">u</a> <a id="7332" class="Symbol">(</a><a id="7333" class="Number">1</a> <a id="7335" href="Agda.Builtin.Nat.html#298" class="Primitive Operator">+</a> <a id="7337" href="Data.AVL.Indexed.html#7316" class="Bound">h</a><a id="7338" class="Symbol">)</a> <a id="7340" class="Symbol">→</a>
             <a id="7355" href="Data.Product.html#917" class="Function">∃</a> <a id="7357" class="Symbol">λ</a> <a id="7359" class="Symbol">(</a><a id="7360" href="Data.AVL.Indexed.html#7360" class="Bound">k</a> <a id="7362" class="Symbol">:</a> <a id="7364" href="Data.AVL.Indexed.html#1216" class="Function Operator">K&amp;</a> <a id="7367" href="Data.AVL.Indexed.html#1744" class="Bound">V</a><a id="7368" class="Symbol">)</a> <a id="7370" class="Symbol">→</a> <a id="7372" href="Relation.Nullary.Construct.Add.Extrema.html#713" class="InductiveConstructor Operator">[</a> <a id="7374" href="Agda.Builtin.Sigma.html#225" class="Field">proj₁</a> <a id="7380" href="Data.AVL.Indexed.html#7360" class="Bound">k</a> <a id="7382" href="Relation.Nullary.Construct.Add.Extrema.html#713" class="InductiveConstructor Operator">]</a> <a id="7384" href="Relation.Binary.Construct.Add.Supremum.Strict.html#983" class="Datatype Operator">&lt;⁺</a> <a id="7387" href="Data.AVL.Indexed.html#7314" class="Bound">u</a> <a id="7389" href="Data.Product.html#1389" class="Function Operator">×</a>
                            <a id="7419" href="Data.Product.html#917" class="Function">∃</a> <a id="7421" class="Symbol">λ</a> <a id="7423" href="Data.AVL.Indexed.html#7423" class="Bound">i</a> <a id="7425" class="Symbol">→</a> <a id="7427" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="7432" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="7434" href="Data.AVL.Indexed.html#7312" class="Bound">l</a> <a id="7436" href="Relation.Nullary.Construct.Add.Extrema.html#713" class="InductiveConstructor Operator">[</a> <a id="7438" href="Agda.Builtin.Sigma.html#225" class="Field">proj₁</a> <a id="7444" href="Data.AVL.Indexed.html#7360" class="Bound">k</a> <a id="7446" href="Relation.Nullary.Construct.Add.Extrema.html#713" class="InductiveConstructor Operator">]</a> <a id="7448" class="Symbol">(</a><a id="7449" href="Data.AVL.Indexed.html#7423" class="Bound">i</a> <a id="7451" href="Data.AVL.Height.html#512" class="Function Operator">⊕</a> <a id="7453" href="Data.AVL.Indexed.html#7316" class="Bound">h</a><a id="7454" class="Symbol">)</a>
  <a id="7458" href="Data.AVL.Indexed.html#7298" class="Function">initLast</a> <a id="7467" class="Symbol">(</a><a id="7468" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="7473" href="Data.AVL.Indexed.html#7473" class="Bound">k₂</a> <a id="7476" href="Data.AVL.Indexed.html#7476" class="Bound">t₁</a> <a id="7479" class="Symbol">(</a><a id="7480" href="Data.AVL.Indexed.html#1512" class="InductiveConstructor">leaf</a> <a id="7485" href="Data.AVL.Indexed.html#7485" class="Bound">k₂&lt;u</a><a id="7489" class="Symbol">)</a> <a id="7491" href="Data.AVL.Height.html#1049" class="InductiveConstructor">∼-</a><a id="7493" class="Symbol">)</a> <a id="7495" class="Symbol">=</a> <a id="7497" class="Symbol">(</a><a id="7498" href="Data.AVL.Indexed.html#7473" class="Bound">k₂</a> <a id="7501" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="7503" href="Data.AVL.Indexed.html#7485" class="Bound">k₂&lt;u</a> <a id="7508" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="7510" class="Symbol">(</a><a id="7511" href="Data.AVL.Height.html#425" class="InductiveConstructor">0#</a> <a id="7514" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="7516" href="Data.AVL.Indexed.html#7476" class="Bound">t₁</a><a id="7518" class="Symbol">))</a>
  <a id="7523" href="Data.AVL.Indexed.html#7298" class="Function">initLast</a> <a id="7532" class="Symbol">(</a><a id="7533" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="7538" href="Data.AVL.Indexed.html#7538" class="Bound">k₂</a> <a id="7541" href="Data.AVL.Indexed.html#7541" class="Bound">t₁</a> <a id="7544" class="Symbol">(</a><a id="7545" href="Data.AVL.Indexed.html#1512" class="InductiveConstructor">leaf</a> <a id="7550" href="Data.AVL.Indexed.html#7550" class="Bound">k₂&lt;u</a><a id="7554" class="Symbol">)</a> <a id="7556" href="Data.AVL.Height.html#1016" class="InductiveConstructor">∼0</a><a id="7558" class="Symbol">)</a> <a id="7560" class="Symbol">=</a> <a id="7562" class="Symbol">(</a><a id="7563" href="Data.AVL.Indexed.html#7538" class="Bound">k₂</a> <a id="7566" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="7568" href="Data.AVL.Indexed.html#7550" class="Bound">k₂&lt;u</a> <a id="7573" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="7575" class="Symbol">(</a><a id="7576" href="Data.AVL.Height.html#425" class="InductiveConstructor">0#</a> <a id="7579" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="7581" href="Data.AVL.Indexed.html#7541" class="Bound">t₁</a><a id="7583" class="Symbol">))</a>
  <a id="7588" href="Data.AVL.Indexed.html#7298" class="CatchallClause Function">initLast</a><a id="7596" class="CatchallClause"> </a><a id="7597" class="CatchallClause Symbol">(</a><a id="7598" href="Data.AVL.Indexed.html#1551" class="CatchallClause InductiveConstructor">node</a><a id="7602" class="CatchallClause"> </a><a id="7603" class="CatchallClause Symbol">{</a><a id="7604" class="CatchallClause Argument">hʳ</a><a id="7606" class="CatchallClause"> </a><a id="7607" class="CatchallClause Symbol">=</a><a id="7608" class="CatchallClause"> </a><a id="7609" href="Agda.Builtin.Nat.html#196" class="CatchallClause InductiveConstructor">suc</a><a id="7612" class="CatchallClause"> </a><a id="7613" class="CatchallClause Symbol">_}</a><a id="7615" class="CatchallClause"> </a><a id="7616" href="Data.AVL.Indexed.html#7616" class="CatchallClause Bound">k₂</a><a id="7618" class="CatchallClause"> </a><a id="7619" href="Data.AVL.Indexed.html#7619" class="CatchallClause Bound">t₁</a><a id="7621" class="CatchallClause"> </a><a id="7622" href="Data.AVL.Indexed.html#7622" class="CatchallClause Bound">t₃₄</a><a id="7625" class="CatchallClause"> </a><a id="7626" href="Data.AVL.Indexed.html#7626" class="CatchallClause Bound">bal</a><a id="7629" class="CatchallClause Symbol">)</a> <a id="7631" class="Keyword">with</a> <a id="7636" href="Data.AVL.Indexed.html#7298" class="Function">initLast</a> <a id="7645" href="Data.AVL.Indexed.html#7622" class="Bound">t₃₄</a>
  <a id="7651" class="Symbol">...</a> <a id="7655" class="Symbol">|</a> <a id="7657" class="Symbol">(</a><a id="7658" href="Data.AVL.Indexed.html#7658" class="Bound">k₄</a> <a id="7661" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="7663" href="Data.AVL.Indexed.html#7663" class="Bound">k₄&lt;u</a> <a id="7668" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="7670" href="Data.AVL.Indexed.html#7670" class="Bound">t₃</a><a id="7672" class="Symbol">)</a> <a id="7674" class="Symbol">=</a> <a id="7676" class="Symbol">(</a><a id="7677" href="Data.AVL.Indexed.html#7658" class="Bound">k₄</a> <a id="7680" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="7682" href="Data.AVL.Indexed.html#7663" class="Bound">k₄&lt;u</a> <a id="7687" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="7689" href="Data.AVL.Indexed.html#6027" class="Function">joinʳ⁻</a> <a id="7696" class="Symbol">_</a> <a id="7698" class="Bound">k₂</a> <a id="7701" class="Bound">t₁</a> <a id="7704" href="Data.AVL.Indexed.html#7670" class="Bound">t₃</a> <a id="7707" class="Bound">bal</a><a id="7710" class="Symbol">)</a>

  <a id="7715" class="Comment">-- Another joining function. Logarithmic in the size of either of</a>
  <a id="7783" class="Comment">-- the input trees (which need to have almost equal heights).</a>

  <a id="7848" href="Data.AVL.Indexed.html#7848" class="Function">join</a> <a id="7853" class="Symbol">:</a> <a id="7855" class="Symbol">∀</a> <a id="7857" class="Symbol">{</a><a id="7858" href="Data.AVL.Indexed.html#7858" class="Bound">l</a> <a id="7860" href="Data.AVL.Indexed.html#7860" class="Bound">m</a> <a id="7862" href="Data.AVL.Indexed.html#7862" class="Bound">u</a> <a id="7864" href="Data.AVL.Indexed.html#7864" class="Bound">hˡ</a> <a id="7867" href="Data.AVL.Indexed.html#7867" class="Bound">hʳ</a> <a id="7870" href="Data.AVL.Indexed.html#7870" class="Bound">h</a><a id="7871" class="Symbol">}</a> <a id="7873" class="Symbol">→</a>
         <a id="7884" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="7889" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="7891" href="Data.AVL.Indexed.html#7858" class="Bound">l</a> <a id="7893" href="Data.AVL.Indexed.html#7860" class="Bound">m</a> <a id="7895" href="Data.AVL.Indexed.html#7864" class="Bound">hˡ</a> <a id="7898" class="Symbol">→</a> <a id="7900" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="7905" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="7907" href="Data.AVL.Indexed.html#7860" class="Bound">m</a> <a id="7909" href="Data.AVL.Indexed.html#7862" class="Bound">u</a> <a id="7911" href="Data.AVL.Indexed.html#7867" class="Bound">hʳ</a> <a id="7914" class="Symbol">→</a> <a id="7916" class="Symbol">(</a><a id="7917" href="Data.AVL.Indexed.html#7917" class="Bound">bal</a> <a id="7921" class="Symbol">:</a> <a id="7923" href="Data.AVL.Indexed.html#7864" class="Bound">hˡ</a> <a id="7926" href="Data.AVL.Height.html#947" class="Datatype Operator">∼</a> <a id="7928" href="Data.AVL.Indexed.html#7867" class="Bound">hʳ</a> <a id="7931" href="Data.AVL.Height.html#947" class="Datatype Operator">⊔</a> <a id="7933" href="Data.AVL.Indexed.html#7870" class="Bound">h</a><a id="7934" class="Symbol">)</a> <a id="7936" class="Symbol">→</a>
         <a id="7947" href="Data.Product.html#917" class="Function">∃</a> <a id="7949" class="Symbol">λ</a> <a id="7951" href="Data.AVL.Indexed.html#7951" class="Bound">i</a> <a id="7953" class="Symbol">→</a> <a id="7955" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="7960" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="7962" href="Data.AVL.Indexed.html#7858" class="Bound">l</a> <a id="7964" href="Data.AVL.Indexed.html#7862" class="Bound">u</a> <a id="7966" class="Symbol">(</a><a id="7967" href="Data.AVL.Indexed.html#7951" class="Bound">i</a> <a id="7969" href="Data.AVL.Height.html#512" class="Function Operator">⊕</a> <a id="7971" href="Data.AVL.Indexed.html#7870" class="Bound">h</a><a id="7972" class="Symbol">)</a>
  <a id="7976" href="Data.AVL.Indexed.html#7848" class="Function">join</a> <a id="7981" href="Data.AVL.Indexed.html#7981" class="Bound">t₁</a> <a id="7984" class="Symbol">(</a><a id="7985" href="Data.AVL.Indexed.html#1512" class="InductiveConstructor">leaf</a> <a id="7990" href="Data.AVL.Indexed.html#7990" class="Bound">m&lt;u</a><a id="7993" class="Symbol">)</a> <a id="7995" href="Data.AVL.Height.html#1016" class="InductiveConstructor">∼0</a> <a id="7998" class="Symbol">=</a> <a id="8000" class="Symbol">(</a><a id="8001" href="Data.AVL.Height.html#425" class="InductiveConstructor">0#</a> <a id="8004" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="8006" href="Data.AVL.Indexed.html#3086" class="Function">castʳ</a> <a id="8012" href="Data.AVL.Indexed.html#7981" class="Bound">t₁</a> <a id="8015" href="Data.AVL.Indexed.html#7990" class="Bound">m&lt;u</a><a id="8018" class="Symbol">)</a>
  <a id="8022" href="Data.AVL.Indexed.html#7848" class="Function">join</a> <a id="8027" href="Data.AVL.Indexed.html#8027" class="Bound">t₁</a> <a id="8030" class="Symbol">(</a><a id="8031" href="Data.AVL.Indexed.html#1512" class="InductiveConstructor">leaf</a> <a id="8036" href="Data.AVL.Indexed.html#8036" class="Bound">m&lt;u</a><a id="8039" class="Symbol">)</a> <a id="8041" href="Data.AVL.Height.html#1049" class="InductiveConstructor">∼-</a> <a id="8044" class="Symbol">=</a> <a id="8046" class="Symbol">(</a><a id="8047" href="Data.AVL.Height.html#425" class="InductiveConstructor">0#</a> <a id="8050" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="8052" href="Data.AVL.Indexed.html#3086" class="Function">castʳ</a> <a id="8058" href="Data.AVL.Indexed.html#8027" class="Bound">t₁</a> <a id="8061" href="Data.AVL.Indexed.html#8036" class="Bound">m&lt;u</a><a id="8064" class="Symbol">)</a>
  <a id="8068" href="Data.AVL.Indexed.html#7848" class="CatchallClause Function">join</a><a id="8072" class="CatchallClause"> </a><a id="8073" class="CatchallClause Symbol">{</a><a id="8074" class="CatchallClause Argument">hʳ</a><a id="8076" class="CatchallClause"> </a><a id="8077" class="CatchallClause Symbol">=</a><a id="8078" class="CatchallClause"> </a><a id="8079" href="Agda.Builtin.Nat.html#196" class="CatchallClause InductiveConstructor">suc</a><a id="8082" class="CatchallClause"> </a><a id="8083" class="CatchallClause Symbol">_}</a><a id="8085" class="CatchallClause"> </a><a id="8086" href="Data.AVL.Indexed.html#8086" class="CatchallClause Bound">t₁</a><a id="8088" class="CatchallClause"> </a><a id="8089" href="Data.AVL.Indexed.html#8089" class="CatchallClause Bound">t₂₃</a><a id="8092" class="CatchallClause"> </a><a id="8093" href="Data.AVL.Indexed.html#8093" class="CatchallClause Bound">bal</a> <a id="8097" class="Keyword">with</a> <a id="8102" href="Data.AVL.Indexed.html#6778" class="Function">headTail</a> <a id="8111" href="Data.AVL.Indexed.html#8089" class="Bound">t₂₃</a>
  <a id="8117" class="Symbol">...</a> <a id="8121" class="Symbol">|</a> <a id="8123" class="Symbol">(</a><a id="8124" href="Data.AVL.Indexed.html#8124" class="Bound">k₂</a> <a id="8127" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="8129" href="Data.AVL.Indexed.html#8129" class="Bound">m&lt;k₂</a> <a id="8134" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="8136" href="Data.AVL.Indexed.html#8136" class="Bound">t₃</a><a id="8138" class="Symbol">)</a> <a id="8140" class="Symbol">=</a> <a id="8142" href="Data.AVL.Indexed.html#6027" class="Function">joinʳ⁻</a> <a id="8149" class="Symbol">_</a> <a id="8151" href="Data.AVL.Indexed.html#8124" class="Bound">k₂</a> <a id="8154" class="Symbol">(</a><a id="8155" href="Data.AVL.Indexed.html#3086" class="Function">castʳ</a> <a id="8161" class="Bound">t₁</a> <a id="8164" href="Data.AVL.Indexed.html#8129" class="Bound">m&lt;k₂</a><a id="8168" class="Symbol">)</a> <a id="8170" href="Data.AVL.Indexed.html#8136" class="Bound">t₃</a> <a id="8173" class="Bound">bal</a>

  <a id="8180" class="Comment">-- An empty tree.</a>

  <a id="8201" href="Data.AVL.Indexed.html#8201" class="Function">empty</a> <a id="8207" class="Symbol">:</a> <a id="8209" class="Symbol">∀</a> <a id="8211" class="Symbol">{</a><a id="8212" href="Data.AVL.Indexed.html#8212" class="Bound">l</a> <a id="8214" href="Data.AVL.Indexed.html#8214" class="Bound">u</a><a id="8215" class="Symbol">}</a> <a id="8217" class="Symbol">→</a> <a id="8219" href="Data.AVL.Indexed.html#8212" class="Bound">l</a> <a id="8221" href="Relation.Binary.Construct.Add.Supremum.Strict.html#983" class="Datatype Operator">&lt;⁺</a> <a id="8224" href="Data.AVL.Indexed.html#8214" class="Bound">u</a> <a id="8226" class="Symbol">→</a> <a id="8228" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="8233" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="8235" href="Data.AVL.Indexed.html#8212" class="Bound">l</a> <a id="8237" href="Data.AVL.Indexed.html#8214" class="Bound">u</a> <a id="8239" class="Number">0</a>
  <a id="8243" href="Data.AVL.Indexed.html#8201" class="Function">empty</a> <a id="8249" class="Symbol">=</a> <a id="8251" href="Data.AVL.Indexed.html#1512" class="InductiveConstructor">leaf</a>

  <a id="8259" class="Comment">-- A singleton tree.</a>

  <a id="8283" href="Data.AVL.Indexed.html#8283" class="Function">singleton</a> <a id="8293" class="Symbol">:</a> <a id="8295" class="Symbol">∀</a> <a id="8297" class="Symbol">{</a><a id="8298" href="Data.AVL.Indexed.html#8298" class="Bound">l</a> <a id="8300" href="Data.AVL.Indexed.html#8300" class="Bound">u</a><a id="8301" class="Symbol">}</a> <a id="8303" class="Symbol">(</a><a id="8304" href="Data.AVL.Indexed.html#8304" class="Bound">k</a> <a id="8306" class="Symbol">:</a> <a id="8308" href="Relation.Binary.html#11497" class="Field">Key</a><a id="8311" class="Symbol">)</a> <a id="8313" class="Symbol">→</a> <a id="8315" href="Data.AVL.Indexed.html#1778" class="Function">Val</a> <a id="8319" href="Data.AVL.Indexed.html#8304" class="Bound">k</a> <a id="8321" class="Symbol">→</a> <a id="8323" href="Data.AVL.Indexed.html#8298" class="Bound">l</a> <a id="8325" href="Data.AVL.Key.html#1434" class="Function Operator">&lt;</a> <a id="8327" href="Data.AVL.Indexed.html#8304" class="Bound">k</a> <a id="8329" href="Data.AVL.Key.html#1434" class="Function Operator">&lt;</a> <a id="8331" href="Data.AVL.Indexed.html#8300" class="Bound">u</a> <a id="8333" class="Symbol">→</a> <a id="8335" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="8340" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="8342" href="Data.AVL.Indexed.html#8298" class="Bound">l</a> <a id="8344" href="Data.AVL.Indexed.html#8300" class="Bound">u</a> <a id="8346" class="Number">1</a>
  <a id="8350" href="Data.AVL.Indexed.html#8283" class="Function">singleton</a> <a id="8360" href="Data.AVL.Indexed.html#8360" class="Bound">k</a> <a id="8362" href="Data.AVL.Indexed.html#8362" class="Bound">v</a> <a id="8364" class="Symbol">(</a><a id="8365" href="Data.AVL.Indexed.html#8365" class="Bound">l&lt;k</a> <a id="8369" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="8371" href="Data.AVL.Indexed.html#8371" class="Bound">k&lt;u</a><a id="8374" class="Symbol">)</a> <a id="8376" class="Symbol">=</a> <a id="8378" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="8383" class="Symbol">(</a><a id="8384" href="Data.AVL.Indexed.html#8360" class="Bound">k</a> <a id="8386" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="8388" href="Data.AVL.Indexed.html#8362" class="Bound">v</a><a id="8389" class="Symbol">)</a> <a id="8391" class="Symbol">(</a><a id="8392" href="Data.AVL.Indexed.html#1512" class="InductiveConstructor">leaf</a> <a id="8397" href="Data.AVL.Indexed.html#8365" class="Bound">l&lt;k</a><a id="8400" class="Symbol">)</a> <a id="8402" class="Symbol">(</a><a id="8403" href="Data.AVL.Indexed.html#1512" class="InductiveConstructor">leaf</a> <a id="8408" href="Data.AVL.Indexed.html#8371" class="Bound">k&lt;u</a><a id="8411" class="Symbol">)</a> <a id="8413" href="Data.AVL.Height.html#1016" class="InductiveConstructor">∼0</a>

  <a id="8419" class="Comment">-- Inserts a key into the tree, using a function to combine any</a>
  <a id="8485" class="Comment">-- existing value with the new value. Logarithmic in the size of the</a>
  <a id="8556" class="Comment">-- tree (assuming constant-time comparisons and a constant-time</a>
  <a id="8622" class="Comment">-- combining function).</a>

  <a id="8649" href="Data.AVL.Indexed.html#8649" class="Function">insertWith</a> <a id="8660" class="Symbol">:</a> <a id="8662" class="Symbol">∀</a> <a id="8664" class="Symbol">{</a><a id="8665" href="Data.AVL.Indexed.html#8665" class="Bound">l</a> <a id="8667" href="Data.AVL.Indexed.html#8667" class="Bound">u</a> <a id="8669" href="Data.AVL.Indexed.html#8669" class="Bound">h</a><a id="8670" class="Symbol">}</a> <a id="8672" class="Symbol">(</a><a id="8673" href="Data.AVL.Indexed.html#8673" class="Bound">k</a> <a id="8675" class="Symbol">:</a> <a id="8677" href="Relation.Binary.html#11497" class="Field">Key</a><a id="8680" class="Symbol">)</a> <a id="8682" class="Symbol">→</a> <a id="8684" class="Symbol">(</a><a id="8685" href="Data.Maybe.Base.html#710" class="Datatype">Maybe</a> <a id="8691" class="Symbol">(</a><a id="8692" href="Data.AVL.Indexed.html#1778" class="Function">Val</a> <a id="8696" href="Data.AVL.Indexed.html#8673" class="Bound">k</a><a id="8697" class="Symbol">)</a> <a id="8699" class="Symbol">→</a> <a id="8701" href="Data.AVL.Indexed.html#1778" class="Function">Val</a> <a id="8705" href="Data.AVL.Indexed.html#8673" class="Bound">k</a><a id="8706" class="Symbol">)</a> <a id="8708" class="Symbol">→</a>  <a id="8711" class="Comment">-- Maybe old → result.</a>
               <a id="8749" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="8754" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="8756" href="Data.AVL.Indexed.html#8665" class="Bound">l</a> <a id="8758" href="Data.AVL.Indexed.html#8667" class="Bound">u</a> <a id="8760" href="Data.AVL.Indexed.html#8669" class="Bound">h</a> <a id="8762" class="Symbol">→</a> <a id="8764" href="Data.AVL.Indexed.html#8665" class="Bound">l</a> <a id="8766" href="Data.AVL.Key.html#1434" class="Function Operator">&lt;</a> <a id="8768" href="Data.AVL.Indexed.html#8673" class="Bound">k</a> <a id="8770" href="Data.AVL.Key.html#1434" class="Function Operator">&lt;</a> <a id="8772" href="Data.AVL.Indexed.html#8667" class="Bound">u</a> <a id="8774" class="Symbol">→</a>
               <a id="8791" href="Data.Product.html#917" class="Function">∃</a> <a id="8793" class="Symbol">λ</a> <a id="8795" href="Data.AVL.Indexed.html#8795" class="Bound">i</a> <a id="8797" class="Symbol">→</a> <a id="8799" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="8804" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="8806" href="Data.AVL.Indexed.html#8665" class="Bound">l</a> <a id="8808" href="Data.AVL.Indexed.html#8667" class="Bound">u</a> <a id="8810" class="Symbol">(</a><a id="8811" href="Data.AVL.Indexed.html#8795" class="Bound">i</a> <a id="8813" href="Data.AVL.Height.html#512" class="Function Operator">⊕</a> <a id="8815" href="Data.AVL.Indexed.html#8669" class="Bound">h</a><a id="8816" class="Symbol">)</a>
  <a id="8820" href="Data.AVL.Indexed.html#8649" class="Function">insertWith</a> <a id="8831" href="Data.AVL.Indexed.html#8831" class="Bound">k</a> <a id="8833" href="Data.AVL.Indexed.html#8833" class="Bound">f</a> <a id="8835" class="Symbol">(</a><a id="8836" href="Data.AVL.Indexed.html#1512" class="InductiveConstructor">leaf</a> <a id="8841" href="Data.AVL.Indexed.html#8841" class="Bound">l&lt;u</a><a id="8844" class="Symbol">)</a> <a id="8846" href="Data.AVL.Indexed.html#8846" class="Bound">l&lt;k&lt;u</a> <a id="8852" class="Symbol">=</a> <a id="8854" class="Symbol">(</a><a id="8855" href="Data.AVL.Height.html#443" class="InductiveConstructor">1#</a> <a id="8858" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="8860" href="Data.AVL.Indexed.html#8283" class="Function">singleton</a> <a id="8870" href="Data.AVL.Indexed.html#8831" class="Bound">k</a> <a id="8872" class="Symbol">(</a><a id="8873" href="Data.AVL.Indexed.html#8833" class="Bound">f</a> <a id="8875" href="Data.Maybe.Base.html#778" class="InductiveConstructor">nothing</a><a id="8882" class="Symbol">)</a> <a id="8884" href="Data.AVL.Indexed.html#8846" class="Bound">l&lt;k&lt;u</a><a id="8889" class="Symbol">)</a>
  <a id="8893" href="Data.AVL.Indexed.html#8649" class="Function">insertWith</a> <a id="8904" href="Data.AVL.Indexed.html#8904" class="Bound">k</a> <a id="8906" href="Data.AVL.Indexed.html#8906" class="Bound">f</a> <a id="8908" class="Symbol">(</a><a id="8909" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="8914" class="Symbol">(</a><a id="8915" href="Data.AVL.Indexed.html#8915" class="Bound">k′</a> <a id="8918" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="8920" href="Data.AVL.Indexed.html#8920" class="Bound">v′</a><a id="8922" class="Symbol">)</a> <a id="8924" href="Data.AVL.Indexed.html#8924" class="Bound">lp</a> <a id="8927" href="Data.AVL.Indexed.html#8927" class="Bound">pu</a> <a id="8930" href="Data.AVL.Indexed.html#8930" class="Bound">bal</a><a id="8933" class="Symbol">)</a> <a id="8935" class="Symbol">(</a><a id="8936" href="Data.AVL.Indexed.html#8936" class="Bound">l&lt;k</a> <a id="8940" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="8942" href="Data.AVL.Indexed.html#8942" class="Bound">k&lt;u</a><a id="8945" class="Symbol">)</a> <a id="8947" class="Keyword">with</a> <a id="8952" href="Relation.Binary.html#10503" class="Function">compare</a> <a id="8960" href="Data.AVL.Indexed.html#8904" class="Bound">k</a> <a id="8962" href="Data.AVL.Indexed.html#8915" class="Bound">k′</a>
  <a id="8967" class="Symbol">...</a> <a id="8971" class="Symbol">|</a> <a id="8973" href="Relation.Binary.Core.html#3783" class="InductiveConstructor">tri&lt;</a> <a id="8978" href="Data.AVL.Indexed.html#8978" class="Bound">k&lt;k′</a> <a id="8983" class="Symbol">_</a> <a id="8985" class="Symbol">_</a> <a id="8987" class="Symbol">=</a> <a id="8989" href="Data.AVL.Indexed.html#3389" class="Function">joinˡ⁺</a> <a id="8996" class="Symbol">(</a><a id="8997" class="Bound">k′</a> <a id="9000" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="9002" class="Bound">v′</a><a id="9004" class="Symbol">)</a> <a id="9006" class="Symbol">(</a><a id="9007" href="Data.AVL.Indexed.html#8649" class="Function">insertWith</a> <a id="9018" class="Bound">k</a> <a id="9020" class="Bound">f</a> <a id="9022" class="Bound">lp</a> <a id="9025" class="Symbol">(</a><a id="9026" class="Bound">l&lt;k</a> <a id="9030" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="9032" href="Relation.Binary.Construct.Add.Extrema.Strict.html#1288" class="InductiveConstructor Operator">[</a> <a id="9034" href="Data.AVL.Indexed.html#8978" class="Bound">k&lt;k′</a> <a id="9039" href="Relation.Binary.Construct.Add.Extrema.Strict.html#1288" class="InductiveConstructor Operator">]ᴿ</a><a id="9041" class="Symbol">))</a> <a id="9044" class="Bound">pu</a> <a id="9047" class="Bound">bal</a>
  <a id="9053" class="Symbol">...</a> <a id="9057" class="Symbol">|</a> <a id="9059" href="Relation.Binary.Core.html#3891" class="InductiveConstructor">tri&gt;</a> <a id="9064" class="Symbol">_</a> <a id="9066" class="Symbol">_</a> <a id="9068" href="Data.AVL.Indexed.html#9068" class="Bound">k′&lt;k</a> <a id="9073" class="Symbol">=</a> <a id="9075" href="Data.AVL.Indexed.html#4385" class="Function">joinʳ⁺</a> <a id="9082" class="Symbol">(</a><a id="9083" class="Bound">k′</a> <a id="9086" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="9088" class="Bound">v′</a><a id="9090" class="Symbol">)</a> <a id="9092" class="Bound">lp</a> <a id="9095" class="Symbol">(</a><a id="9096" href="Data.AVL.Indexed.html#8649" class="Function">insertWith</a> <a id="9107" class="Bound">k</a> <a id="9109" class="Bound">f</a> <a id="9111" class="Bound">pu</a> <a id="9114" class="Symbol">(</a><a id="9115" href="Relation.Binary.Construct.Add.Extrema.Strict.html#1288" class="InductiveConstructor Operator">[</a> <a id="9117" href="Data.AVL.Indexed.html#9068" class="Bound">k′&lt;k</a> <a id="9122" href="Relation.Binary.Construct.Add.Extrema.Strict.html#1288" class="InductiveConstructor Operator">]ᴿ</a> <a id="9125" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="9127" class="Bound">k&lt;u</a><a id="9130" class="Symbol">))</a> <a id="9133" class="Bound">bal</a>
  <a id="9139" class="Symbol">...</a> <a id="9143" class="Symbol">|</a> <a id="9145" href="Relation.Binary.Core.html#3837" class="InductiveConstructor">tri≈</a> <a id="9150" class="Symbol">_</a> <a id="9152" href="Data.AVL.Indexed.html#9152" class="Bound">k≈k′</a> <a id="9157" class="Symbol">_</a> <a id="9159" class="Symbol">=</a> <a id="9161" class="Symbol">(</a><a id="9162" href="Data.AVL.Height.html#425" class="InductiveConstructor">0#</a> <a id="9165" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="9167" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="9172" class="Symbol">(</a><a id="9173" class="Bound">k′</a> <a id="9176" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="9178" href="Data.AVL.Indexed.html#1803" class="Function">V≈</a> <a id="9181" href="Data.AVL.Indexed.html#9152" class="Bound">k≈k′</a> <a id="9186" class="Symbol">(</a><a id="9187" class="Bound">f</a> <a id="9189" class="Symbol">(</a><a id="9190" href="Data.Maybe.Base.html#748" class="InductiveConstructor">just</a> <a id="9195" class="Symbol">(</a><a id="9196" href="Data.AVL.Indexed.html#1803" class="Function">V≈</a> <a id="9199" class="Symbol">(</a><a id="9200" href="Relation.Binary.Core.html#6134" class="Function">Eq.sym</a> <a id="9207" href="Data.AVL.Indexed.html#9152" class="Bound">k≈k′</a><a id="9211" class="Symbol">)</a> <a id="9213" class="Bound">v′</a><a id="9215" class="Symbol">))))</a> <a id="9220" class="Bound">lp</a> <a id="9223" class="Bound">pu</a> <a id="9226" class="Bound">bal</a><a id="9229" class="Symbol">)</a>

  <a id="9234" class="Comment">-- Inserts a key into the tree. If the key already exists, then it</a>
  <a id="9303" class="Comment">-- is replaced. Logarithmic in the size of the tree (assuming</a>
  <a id="9367" class="Comment">-- constant-time comparisons).</a>

  <a id="9401" href="Data.AVL.Indexed.html#9401" class="Function">insert</a> <a id="9408" class="Symbol">:</a> <a id="9410" class="Symbol">∀</a> <a id="9412" class="Symbol">{</a><a id="9413" href="Data.AVL.Indexed.html#9413" class="Bound">l</a> <a id="9415" href="Data.AVL.Indexed.html#9415" class="Bound">u</a> <a id="9417" href="Data.AVL.Indexed.html#9417" class="Bound">h</a><a id="9418" class="Symbol">}</a> <a id="9420" class="Symbol">→</a> <a id="9422" class="Symbol">(</a><a id="9423" href="Data.AVL.Indexed.html#9423" class="Bound">k</a> <a id="9425" class="Symbol">:</a> <a id="9427" href="Relation.Binary.html#11497" class="Field">Key</a><a id="9430" class="Symbol">)</a> <a id="9432" class="Symbol">→</a> <a id="9434" href="Data.AVL.Indexed.html#1778" class="Function">Val</a> <a id="9438" href="Data.AVL.Indexed.html#9423" class="Bound">k</a> <a id="9440" class="Symbol">→</a> <a id="9442" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="9447" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="9449" href="Data.AVL.Indexed.html#9413" class="Bound">l</a> <a id="9451" href="Data.AVL.Indexed.html#9415" class="Bound">u</a> <a id="9453" href="Data.AVL.Indexed.html#9417" class="Bound">h</a> <a id="9455" class="Symbol">→</a> <a id="9457" href="Data.AVL.Indexed.html#9413" class="Bound">l</a> <a id="9459" href="Data.AVL.Key.html#1434" class="Function Operator">&lt;</a> <a id="9461" href="Data.AVL.Indexed.html#9423" class="Bound">k</a> <a id="9463" href="Data.AVL.Key.html#1434" class="Function Operator">&lt;</a> <a id="9465" href="Data.AVL.Indexed.html#9415" class="Bound">u</a> <a id="9467" class="Symbol">→</a>
           <a id="9480" href="Data.Product.html#917" class="Function">∃</a> <a id="9482" class="Symbol">λ</a> <a id="9484" href="Data.AVL.Indexed.html#9484" class="Bound">i</a> <a id="9486" class="Symbol">→</a> <a id="9488" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="9493" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="9495" href="Data.AVL.Indexed.html#9413" class="Bound">l</a> <a id="9497" href="Data.AVL.Indexed.html#9415" class="Bound">u</a> <a id="9499" class="Symbol">(</a><a id="9500" href="Data.AVL.Indexed.html#9484" class="Bound">i</a> <a id="9502" href="Data.AVL.Height.html#512" class="Function Operator">⊕</a> <a id="9504" href="Data.AVL.Indexed.html#9417" class="Bound">h</a><a id="9505" class="Symbol">)</a>
  <a id="9509" href="Data.AVL.Indexed.html#9401" class="Function">insert</a> <a id="9516" href="Data.AVL.Indexed.html#9516" class="Bound">k</a> <a id="9518" href="Data.AVL.Indexed.html#9518" class="Bound">v</a> <a id="9520" class="Symbol">=</a> <a id="9522" href="Data.AVL.Indexed.html#8649" class="Function">insertWith</a> <a id="9533" href="Data.AVL.Indexed.html#9516" class="Bound">k</a> <a id="9535" class="Symbol">(</a><a id="9536" href="Function.html#1145" class="Function">F.const</a> <a id="9544" href="Data.AVL.Indexed.html#9518" class="Bound">v</a><a id="9545" class="Symbol">)</a>

  <a id="9550" class="Comment">-- Deletes the key/value pair containing the given key, if any.</a>
  <a id="9616" class="Comment">-- Logarithmic in the size of the tree (assuming constant-time</a>
  <a id="9681" class="Comment">-- comparisons).</a>

  <a id="9701" href="Data.AVL.Indexed.html#9701" class="Function">delete</a> <a id="9708" class="Symbol">:</a> <a id="9710" class="Symbol">∀</a> <a id="9712" class="Symbol">{</a><a id="9713" href="Data.AVL.Indexed.html#9713" class="Bound">l</a> <a id="9715" href="Data.AVL.Indexed.html#9715" class="Bound">u</a> <a id="9717" href="Data.AVL.Indexed.html#9717" class="Bound">h</a><a id="9718" class="Symbol">}</a> <a id="9720" class="Symbol">(</a><a id="9721" href="Data.AVL.Indexed.html#9721" class="Bound">k</a> <a id="9723" class="Symbol">:</a> <a id="9725" href="Relation.Binary.html#11497" class="Field">Key</a><a id="9728" class="Symbol">)</a> <a id="9730" class="Symbol">→</a> <a id="9732" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="9737" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="9739" href="Data.AVL.Indexed.html#9713" class="Bound">l</a> <a id="9741" href="Data.AVL.Indexed.html#9715" class="Bound">u</a> <a id="9743" href="Data.AVL.Indexed.html#9717" class="Bound">h</a> <a id="9745" class="Symbol">→</a> <a id="9747" href="Data.AVL.Indexed.html#9713" class="Bound">l</a> <a id="9749" href="Data.AVL.Key.html#1434" class="Function Operator">&lt;</a> <a id="9751" href="Data.AVL.Indexed.html#9721" class="Bound">k</a> <a id="9753" href="Data.AVL.Key.html#1434" class="Function Operator">&lt;</a> <a id="9755" href="Data.AVL.Indexed.html#9715" class="Bound">u</a> <a id="9757" class="Symbol">→</a>
           <a id="9770" href="Data.Product.html#917" class="Function">∃</a> <a id="9772" class="Symbol">λ</a> <a id="9774" href="Data.AVL.Indexed.html#9774" class="Bound">i</a> <a id="9776" class="Symbol">→</a> <a id="9778" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="9783" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="9785" href="Data.AVL.Indexed.html#9713" class="Bound">l</a> <a id="9787" href="Data.AVL.Indexed.html#9715" class="Bound">u</a> <a id="9789" href="Data.AVL.Height.html#597" class="Function Operator">pred[</a> <a id="9795" href="Data.AVL.Indexed.html#9774" class="Bound">i</a> <a id="9797" href="Data.AVL.Height.html#597" class="Function Operator">⊕</a> <a id="9799" href="Data.AVL.Indexed.html#9717" class="Bound">h</a> <a id="9801" href="Data.AVL.Height.html#597" class="Function Operator">]</a>
  <a id="9805" href="Data.AVL.Indexed.html#9701" class="Function">delete</a> <a id="9812" href="Data.AVL.Indexed.html#9812" class="Bound">k</a> <a id="9814" class="Symbol">(</a><a id="9815" href="Data.AVL.Indexed.html#1512" class="InductiveConstructor">leaf</a> <a id="9820" href="Data.AVL.Indexed.html#9820" class="Bound">l&lt;u</a><a id="9823" class="Symbol">)</a> <a id="9825" href="Data.AVL.Indexed.html#9825" class="Bound">l&lt;k&lt;u</a> <a id="9831" class="Symbol">=</a> <a id="9833" class="Symbol">(</a><a id="9834" href="Data.AVL.Height.html#425" class="InductiveConstructor">0#</a> <a id="9837" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="9839" href="Data.AVL.Indexed.html#1512" class="InductiveConstructor">leaf</a> <a id="9844" href="Data.AVL.Indexed.html#9820" class="Bound">l&lt;u</a><a id="9847" class="Symbol">)</a>
  <a id="9851" href="Data.AVL.Indexed.html#9701" class="Function">delete</a> <a id="9858" href="Data.AVL.Indexed.html#9858" class="Bound">k</a> <a id="9860" class="Symbol">(</a><a id="9861" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="9866" href="Data.AVL.Indexed.html#9866" class="Bound">p</a><a id="9867" class="Symbol">@(</a><a id="9869" href="Data.AVL.Indexed.html#9869" class="Bound">k′</a> <a id="9872" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="9874" href="Data.AVL.Indexed.html#9874" class="Bound">v</a><a id="9875" class="Symbol">)</a> <a id="9877" href="Data.AVL.Indexed.html#9877" class="Bound">lp</a> <a id="9880" href="Data.AVL.Indexed.html#9880" class="Bound">pu</a> <a id="9883" href="Data.AVL.Indexed.html#9883" class="Bound">bal</a><a id="9886" class="Symbol">)</a> <a id="9888" class="Symbol">(</a><a id="9889" href="Data.AVL.Indexed.html#9889" class="Bound">l&lt;k</a> <a id="9893" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="9895" href="Data.AVL.Indexed.html#9895" class="Bound">k&lt;u</a><a id="9898" class="Symbol">)</a> <a id="9900" class="Keyword">with</a> <a id="9905" href="Relation.Binary.html#10503" class="Function">compare</a> <a id="9913" href="Data.AVL.Indexed.html#9869" class="Bound">k′</a> <a id="9916" href="Data.AVL.Indexed.html#9858" class="Bound">k</a>
  <a id="9920" class="Symbol">...</a> <a id="9924" class="Symbol">|</a> <a id="9926" href="Relation.Binary.Core.html#3783" class="InductiveConstructor">tri&lt;</a> <a id="9931" href="Data.AVL.Indexed.html#9931" class="Bound">k′&lt;k</a> <a id="9936" class="Symbol">_</a> <a id="9938" class="Symbol">_</a> <a id="9940" class="Symbol">=</a> <a id="9942" href="Data.AVL.Indexed.html#6027" class="Function">joinʳ⁻</a> <a id="9949" class="Symbol">_</a> <a id="9951" class="Bound">p</a> <a id="9953" class="Bound">lp</a> <a id="9956" class="Symbol">(</a><a id="9957" href="Data.AVL.Indexed.html#9701" class="Function">delete</a> <a id="9964" class="Bound">k</a> <a id="9966" class="Bound">pu</a> <a id="9969" class="Symbol">(</a><a id="9970" href="Relation.Binary.Construct.Add.Extrema.Strict.html#1288" class="InductiveConstructor Operator">[</a> <a id="9972" href="Data.AVL.Indexed.html#9931" class="Bound">k′&lt;k</a> <a id="9977" href="Relation.Binary.Construct.Add.Extrema.Strict.html#1288" class="InductiveConstructor Operator">]ᴿ</a> <a id="9980" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="9982" class="Bound">k&lt;u</a><a id="9985" class="Symbol">))</a> <a id="9988" class="Bound">bal</a>
  <a id="9994" class="Symbol">...</a> <a id="9998" class="Symbol">|</a> <a id="10000" href="Relation.Binary.Core.html#3891" class="InductiveConstructor">tri&gt;</a> <a id="10005" class="Symbol">_</a> <a id="10007" class="Symbol">_</a> <a id="10009" href="Data.AVL.Indexed.html#10009" class="Bound">k′&gt;k</a> <a id="10014" class="Symbol">=</a> <a id="10016" href="Data.AVL.Indexed.html#5384" class="Function">joinˡ⁻</a> <a id="10023" class="Symbol">_</a> <a id="10025" class="Bound">p</a> <a id="10027" class="Symbol">(</a><a id="10028" href="Data.AVL.Indexed.html#9701" class="Function">delete</a> <a id="10035" class="Bound">k</a> <a id="10037" class="Bound">lp</a> <a id="10040" class="Symbol">(</a><a id="10041" class="Bound">l&lt;k</a> <a id="10045" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="10047" href="Relation.Binary.Construct.Add.Extrema.Strict.html#1288" class="InductiveConstructor Operator">[</a> <a id="10049" href="Data.AVL.Indexed.html#10009" class="Bound">k′&gt;k</a> <a id="10054" href="Relation.Binary.Construct.Add.Extrema.Strict.html#1288" class="InductiveConstructor Operator">]ᴿ</a><a id="10056" class="Symbol">))</a> <a id="10059" class="Bound">pu</a> <a id="10062" class="Bound">bal</a>
  <a id="10068" class="Symbol">...</a> <a id="10072" class="Symbol">|</a> <a id="10074" href="Relation.Binary.Core.html#3837" class="InductiveConstructor">tri≈</a> <a id="10079" class="Symbol">_</a> <a id="10081" href="Data.AVL.Indexed.html#10081" class="Bound">k′≡k</a> <a id="10086" class="Symbol">_</a> <a id="10088" class="Symbol">=</a> <a id="10090" href="Data.AVL.Indexed.html#7848" class="Function">join</a> <a id="10095" class="Bound">lp</a> <a id="10098" class="Bound">pu</a> <a id="10101" class="Bound">bal</a>

  <a id="10108" class="Comment">-- Looks up a key. Logarithmic in the size of the tree (assuming</a>
  <a id="10175" class="Comment">-- constant-time comparisons).</a>

  <a id="10209" href="Data.AVL.Indexed.html#10209" class="Function">lookup</a> <a id="10216" class="Symbol">:</a> <a id="10218" class="Symbol">∀</a> <a id="10220" class="Symbol">{</a><a id="10221" href="Data.AVL.Indexed.html#10221" class="Bound">l</a> <a id="10223" href="Data.AVL.Indexed.html#10223" class="Bound">u</a> <a id="10225" href="Data.AVL.Indexed.html#10225" class="Bound">h</a><a id="10226" class="Symbol">}</a> <a id="10228" class="Symbol">(</a><a id="10229" href="Data.AVL.Indexed.html#10229" class="Bound">k</a> <a id="10231" class="Symbol">:</a> <a id="10233" href="Relation.Binary.html#11497" class="Field">Key</a><a id="10236" class="Symbol">)</a> <a id="10238" class="Symbol">→</a> <a id="10240" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="10245" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="10247" href="Data.AVL.Indexed.html#10221" class="Bound">l</a> <a id="10249" href="Data.AVL.Indexed.html#10223" class="Bound">u</a> <a id="10251" href="Data.AVL.Indexed.html#10225" class="Bound">h</a> <a id="10253" class="Symbol">→</a> <a id="10255" href="Data.AVL.Indexed.html#10221" class="Bound">l</a> <a id="10257" href="Data.AVL.Key.html#1434" class="Function Operator">&lt;</a> <a id="10259" href="Data.AVL.Indexed.html#10229" class="Bound">k</a> <a id="10261" href="Data.AVL.Key.html#1434" class="Function Operator">&lt;</a> <a id="10263" href="Data.AVL.Indexed.html#10223" class="Bound">u</a> <a id="10265" class="Symbol">→</a> <a id="10267" href="Data.Maybe.Base.html#710" class="Datatype">Maybe</a> <a id="10273" class="Symbol">(</a><a id="10274" href="Data.AVL.Indexed.html#1778" class="Function">Val</a> <a id="10278" href="Data.AVL.Indexed.html#10229" class="Bound">k</a><a id="10279" class="Symbol">)</a>
  <a id="10283" href="Data.AVL.Indexed.html#10209" class="Function">lookup</a> <a id="10290" href="Data.AVL.Indexed.html#10290" class="Bound">k</a> <a id="10292" class="Symbol">(</a><a id="10293" href="Data.AVL.Indexed.html#1512" class="InductiveConstructor">leaf</a> <a id="10298" class="Symbol">_)</a> <a id="10301" href="Data.AVL.Indexed.html#10301" class="Bound">l&lt;k&lt;u</a> <a id="10307" class="Symbol">=</a> <a id="10309" href="Data.Maybe.Base.html#778" class="InductiveConstructor">nothing</a>
  <a id="10319" href="Data.AVL.Indexed.html#10209" class="Function">lookup</a> <a id="10326" href="Data.AVL.Indexed.html#10326" class="Bound">k</a> <a id="10328" class="Symbol">(</a><a id="10329" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="10334" class="Symbol">(</a><a id="10335" href="Data.AVL.Indexed.html#10335" class="Bound">k′</a> <a id="10338" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="10340" href="Data.AVL.Indexed.html#10340" class="Bound">v</a><a id="10341" class="Symbol">)</a> <a id="10343" href="Data.AVL.Indexed.html#10343" class="Bound">lk′</a> <a id="10347" href="Data.AVL.Indexed.html#10347" class="Bound">k′u</a> <a id="10351" class="Symbol">_)</a> <a id="10354" class="Symbol">(</a><a id="10355" href="Data.AVL.Indexed.html#10355" class="Bound">l&lt;k</a> <a id="10359" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="10361" href="Data.AVL.Indexed.html#10361" class="Bound">k&lt;u</a><a id="10364" class="Symbol">)</a> <a id="10366" class="Keyword">with</a> <a id="10371" href="Relation.Binary.html#10503" class="Function">compare</a> <a id="10379" href="Data.AVL.Indexed.html#10335" class="Bound">k′</a> <a id="10382" href="Data.AVL.Indexed.html#10326" class="Bound">k</a>
  <a id="10386" class="Symbol">...</a> <a id="10390" class="Symbol">|</a> <a id="10392" href="Relation.Binary.Core.html#3783" class="InductiveConstructor">tri&lt;</a> <a id="10397" href="Data.AVL.Indexed.html#10397" class="Bound">k′&lt;k</a> <a id="10402" class="Symbol">_</a> <a id="10404" class="Symbol">_</a> <a id="10406" class="Symbol">=</a> <a id="10408" href="Data.AVL.Indexed.html#10209" class="Function">lookup</a> <a id="10415" class="Bound">k</a> <a id="10417" class="Bound">k′u</a> <a id="10421" class="Symbol">(</a><a id="10422" href="Relation.Binary.Construct.Add.Extrema.Strict.html#1288" class="InductiveConstructor Operator">[</a> <a id="10424" href="Data.AVL.Indexed.html#10397" class="Bound">k′&lt;k</a> <a id="10429" href="Relation.Binary.Construct.Add.Extrema.Strict.html#1288" class="InductiveConstructor Operator">]ᴿ</a> <a id="10432" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="10434" class="Bound">k&lt;u</a><a id="10437" class="Symbol">)</a>
  <a id="10441" class="Symbol">...</a> <a id="10445" class="Symbol">|</a> <a id="10447" href="Relation.Binary.Core.html#3891" class="InductiveConstructor">tri&gt;</a> <a id="10452" class="Symbol">_</a> <a id="10454" class="Symbol">_</a> <a id="10456" href="Data.AVL.Indexed.html#10456" class="Bound">k′&gt;k</a> <a id="10461" class="Symbol">=</a> <a id="10463" href="Data.AVL.Indexed.html#10209" class="Function">lookup</a> <a id="10470" class="Bound">k</a> <a id="10472" class="Bound">lk′</a> <a id="10476" class="Symbol">(</a><a id="10477" class="Bound">l&lt;k</a> <a id="10481" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="10483" href="Relation.Binary.Construct.Add.Extrema.Strict.html#1288" class="InductiveConstructor Operator">[</a> <a id="10485" href="Data.AVL.Indexed.html#10456" class="Bound">k′&gt;k</a> <a id="10490" href="Relation.Binary.Construct.Add.Extrema.Strict.html#1288" class="InductiveConstructor Operator">]ᴿ</a><a id="10492" class="Symbol">)</a>
  <a id="10496" class="Symbol">...</a> <a id="10500" class="Symbol">|</a> <a id="10502" href="Relation.Binary.Core.html#3837" class="InductiveConstructor">tri≈</a> <a id="10507" class="Symbol">_</a> <a id="10509" href="Data.AVL.Indexed.html#10509" class="Bound">k′≡k</a> <a id="10514" class="Symbol">_</a> <a id="10516" class="Symbol">=</a> <a id="10518" href="Data.Maybe.Base.html#748" class="InductiveConstructor">just</a> <a id="10523" class="Symbol">(</a><a id="10524" href="Data.AVL.Indexed.html#1803" class="Function">V≈</a> <a id="10527" href="Data.AVL.Indexed.html#10509" class="Bound">k′≡k</a> <a id="10532" class="Bound">v</a><a id="10533" class="Symbol">)</a>

  <a id="10538" class="Comment">-- Converts the tree to an ordered list. Linear in the size of the</a>
  <a id="10607" class="Comment">-- tree.</a>

  <a id="10619" href="Data.AVL.Indexed.html#10619" class="Function">toDiffList</a> <a id="10630" class="Symbol">:</a> <a id="10632" class="Symbol">∀</a> <a id="10634" class="Symbol">{</a><a id="10635" href="Data.AVL.Indexed.html#10635" class="Bound">l</a> <a id="10637" href="Data.AVL.Indexed.html#10637" class="Bound">u</a> <a id="10639" href="Data.AVL.Indexed.html#10639" class="Bound">h</a><a id="10640" class="Symbol">}</a> <a id="10642" class="Symbol">→</a> <a id="10644" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="10649" href="Data.AVL.Indexed.html#1744" class="Bound">V</a> <a id="10651" href="Data.AVL.Indexed.html#10635" class="Bound">l</a> <a id="10653" href="Data.AVL.Indexed.html#10637" class="Bound">u</a> <a id="10655" href="Data.AVL.Indexed.html#10639" class="Bound">h</a> <a id="10657" class="Symbol">→</a> <a id="10659" href="Data.DifferenceList.html#388" class="Function">DiffList</a> <a id="10668" class="Symbol">(</a><a id="10669" href="Data.AVL.Indexed.html#1216" class="Function Operator">K&amp;</a> <a id="10672" href="Data.AVL.Indexed.html#1744" class="Bound">V</a><a id="10673" class="Symbol">)</a>
  <a id="10677" href="Data.AVL.Indexed.html#10619" class="Function">toDiffList</a> <a id="10688" class="Symbol">(</a><a id="10689" href="Data.AVL.Indexed.html#1512" class="InductiveConstructor">leaf</a> <a id="10694" class="Symbol">_)</a>       <a id="10703" class="Symbol">=</a> <a id="10705" href="Data.DifferenceList.html#559" class="Function">[]</a>
  <a id="10710" href="Data.AVL.Indexed.html#10619" class="Function">toDiffList</a> <a id="10721" class="Symbol">(</a><a id="10722" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="10727" href="Data.AVL.Indexed.html#10727" class="Bound">k</a> <a id="10729" href="Data.AVL.Indexed.html#10729" class="Bound">l</a> <a id="10731" href="Data.AVL.Indexed.html#10731" class="Bound">r</a> <a id="10733" class="Symbol">_)</a> <a id="10736" class="Symbol">=</a> <a id="10738" href="Data.AVL.Indexed.html#10619" class="Function">toDiffList</a> <a id="10749" href="Data.AVL.Indexed.html#10729" class="Bound">l</a> <a id="10751" href="Data.DifferenceList.html#744" class="Function Operator">++</a> <a id="10754" href="Data.AVL.Indexed.html#10727" class="Bound">k</a> <a id="10756" href="Data.DifferenceList.html#609" class="Function Operator">∷</a> <a id="10758" href="Data.AVL.Indexed.html#10619" class="Function">toDiffList</a> <a id="10769" href="Data.AVL.Indexed.html#10731" class="Bound">r</a>

<a id="10772" class="Keyword">module</a> <a id="10779" href="Data.AVL.Indexed.html#10779" class="Module">_</a> <a id="10781" class="Symbol">{</a><a id="10782" href="Data.AVL.Indexed.html#10782" class="Bound">v</a> <a id="10784" href="Data.AVL.Indexed.html#10784" class="Bound">w</a><a id="10785" class="Symbol">}</a> <a id="10787" class="Symbol">{</a><a id="10788" href="Data.AVL.Indexed.html#10788" class="Bound">V</a> <a id="10790" class="Symbol">:</a> <a id="10792" href="Data.AVL.Value.html#509" class="Record">Value</a> <a id="10798" href="Data.AVL.Indexed.html#10782" class="Bound">v</a><a id="10799" class="Symbol">}</a> <a id="10801" class="Symbol">{</a><a id="10802" href="Data.AVL.Indexed.html#10802" class="Bound">W</a> <a id="10804" class="Symbol">:</a> <a id="10806" href="Data.AVL.Value.html#509" class="Record">Value</a> <a id="10812" href="Data.AVL.Indexed.html#10784" class="Bound">w</a><a id="10813" class="Symbol">}</a> <a id="10815" class="Keyword">where</a>

  <a id="10824" class="Keyword">private</a>
    <a id="10836" href="Data.AVL.Indexed.html#10836" class="Function">Val</a> <a id="10840" class="Symbol">=</a> <a id="10842" href="Data.AVL.Value.html#579" class="Field">Value.family</a> <a id="10855" href="Data.AVL.Indexed.html#10788" class="Bound">V</a>
    <a id="10861" href="Data.AVL.Indexed.html#10861" class="Function">Wal</a> <a id="10865" class="Symbol">=</a> <a id="10867" href="Data.AVL.Value.html#579" class="Field">Value.family</a> <a id="10880" href="Data.AVL.Indexed.html#10802" class="Bound">W</a>

  <a id="10885" class="Comment">-- Maps a function over all values in the tree.</a>

  <a id="10936" href="Data.AVL.Indexed.html#10936" class="Function">map</a> <a id="10940" class="Symbol">:</a> <a id="10942" href="Relation.Unary.html#3195" class="Function">∀[</a> <a id="10945" href="Data.AVL.Indexed.html#10836" class="Function">Val</a> <a id="10949" href="Relation.Unary.html#4143" class="Function Operator">⇒</a> <a id="10951" href="Data.AVL.Indexed.html#10861" class="Function">Wal</a> <a id="10955" href="Relation.Unary.html#3195" class="Function">]</a> <a id="10957" class="Symbol">→</a> <a id="10959" class="Symbol">∀</a> <a id="10961" class="Symbol">{</a><a id="10962" href="Data.AVL.Indexed.html#10962" class="Bound">l</a> <a id="10964" href="Data.AVL.Indexed.html#10964" class="Bound">u</a> <a id="10966" href="Data.AVL.Indexed.html#10966" class="Bound">h</a><a id="10967" class="Symbol">}</a> <a id="10969" class="Symbol">→</a> <a id="10971" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="10976" href="Data.AVL.Indexed.html#10788" class="Bound">V</a> <a id="10978" href="Data.AVL.Indexed.html#10962" class="Bound">l</a> <a id="10980" href="Data.AVL.Indexed.html#10964" class="Bound">u</a> <a id="10982" href="Data.AVL.Indexed.html#10966" class="Bound">h</a> <a id="10984" class="Symbol">→</a> <a id="10986" href="Data.AVL.Indexed.html#1445" class="Datatype">Tree</a> <a id="10991" href="Data.AVL.Indexed.html#10802" class="Bound">W</a> <a id="10993" href="Data.AVL.Indexed.html#10962" class="Bound">l</a> <a id="10995" href="Data.AVL.Indexed.html#10964" class="Bound">u</a> <a id="10997" href="Data.AVL.Indexed.html#10966" class="Bound">h</a>
  <a id="11001" href="Data.AVL.Indexed.html#10936" class="Function">map</a> <a id="11005" href="Data.AVL.Indexed.html#11005" class="Bound">f</a> <a id="11007" class="Symbol">(</a><a id="11008" href="Data.AVL.Indexed.html#1512" class="InductiveConstructor">leaf</a> <a id="11013" href="Data.AVL.Indexed.html#11013" class="Bound">l&lt;u</a><a id="11016" class="Symbol">)</a>             <a id="11030" class="Symbol">=</a> <a id="11032" href="Data.AVL.Indexed.html#1512" class="InductiveConstructor">leaf</a> <a id="11037" href="Data.AVL.Indexed.html#11013" class="Bound">l&lt;u</a>
  <a id="11043" href="Data.AVL.Indexed.html#10936" class="Function">map</a> <a id="11047" href="Data.AVL.Indexed.html#11047" class="Bound">f</a> <a id="11049" class="Symbol">(</a><a id="11050" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="11055" class="Symbol">(</a><a id="11056" href="Data.AVL.Indexed.html#11056" class="Bound">k</a> <a id="11058" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11060" href="Data.AVL.Indexed.html#11060" class="Bound">v</a><a id="11061" class="Symbol">)</a> <a id="11063" href="Data.AVL.Indexed.html#11063" class="Bound">l</a> <a id="11065" href="Data.AVL.Indexed.html#11065" class="Bound">r</a> <a id="11067" href="Data.AVL.Indexed.html#11067" class="Bound">bal</a><a id="11070" class="Symbol">)</a> <a id="11072" class="Symbol">=</a> <a id="11074" href="Data.AVL.Indexed.html#1551" class="InductiveConstructor">node</a> <a id="11079" class="Symbol">(</a><a id="11080" href="Data.AVL.Indexed.html#11056" class="Bound">k</a> <a id="11082" href="Agda.Builtin.Sigma.html#209" class="InductiveConstructor Operator">,</a> <a id="11084" href="Data.AVL.Indexed.html#11047" class="Bound">f</a> <a id="11086" href="Data.AVL.Indexed.html#11060" class="Bound">v</a><a id="11087" class="Symbol">)</a> <a id="11089" class="Symbol">(</a><a id="11090" href="Data.AVL.Indexed.html#10936" class="Function">map</a> <a id="11094" href="Data.AVL.Indexed.html#11047" class="Bound">f</a> <a id="11096" href="Data.AVL.Indexed.html#11063" class="Bound">l</a><a id="11097" class="Symbol">)</a> <a id="11099" class="Symbol">(</a><a id="11100" href="Data.AVL.Indexed.html#10936" class="Function">map</a> <a id="11104" href="Data.AVL.Indexed.html#11047" class="Bound">f</a> <a id="11106" href="Data.AVL.Indexed.html#11065" class="Bound">r</a><a id="11107" class="Symbol">)</a> <a id="11109" href="Data.AVL.Indexed.html#11067" class="Bound">bal</a>
</pre></body></html>