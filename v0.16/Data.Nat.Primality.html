<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Nat.Primality</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Primality</a>
<a id="119" class="Comment">------------------------------------------------------------------------</a>

<a id="193" class="Keyword">module</a> <a id="200" href="Data.Nat.Primality.html" class="Module">Data.Nat.Primality</a> <a id="219" class="Keyword">where</a>

<a id="226" class="Keyword">open</a> <a id="231" class="Keyword">import</a> <a id="238" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="249" class="Keyword">open</a> <a id="254" class="Keyword">import</a> <a id="261" href="Data.Fin.html" class="Module">Data.Fin</a> <a id="270" class="Symbol">as</a> <a id="273" class="Module">Fin</a> <a id="277" class="Keyword">hiding</a> <a id="284" class="Symbol">(</a><a id="285" href="Data.Fin.html#3875" class="Function Operator">_+_</a><a id="288" class="Symbol">)</a>
<a id="290" class="Keyword">open</a> <a id="295" class="Keyword">import</a> <a id="302" href="Data.Fin.Dec.html" class="Module">Data.Fin.Dec</a>
<a id="315" class="Keyword">open</a> <a id="320" class="Keyword">import</a> <a id="327" href="Data.Nat.html" class="Module">Data.Nat</a>
<a id="336" class="Keyword">open</a> <a id="341" class="Keyword">import</a> <a id="348" href="Data.Nat.Divisibility.html" class="Module">Data.Nat.Divisibility</a>
<a id="370" class="Keyword">open</a> <a id="375" class="Keyword">import</a> <a id="382" href="Relation.Nullary.html" class="Module">Relation.Nullary</a>
<a id="399" class="Keyword">open</a> <a id="404" class="Keyword">import</a> <a id="411" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a>
<a id="438" class="Keyword">open</a> <a id="443" class="Keyword">import</a> <a id="450" href="Relation.Nullary.Negation.html" class="Module">Relation.Nullary.Negation</a>
<a id="476" class="Keyword">open</a> <a id="481" class="Keyword">import</a> <a id="488" href="Relation.Unary.html" class="Module">Relation.Unary</a>

<a id="504" class="Comment">-- Definition of primality.</a>

<a id="Prime"></a><a id="533" href="Data.Nat.Primality.html#533" class="Function">Prime</a> <a id="539" class="Symbol">:</a> <a id="541" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a> <a id="543" class="Symbol">→</a> <a id="545" class="PrimitiveType">Set</a>
<a id="549" href="Data.Nat.Primality.html#533" class="Function">Prime</a> <a id="555" class="Number">0</a>             <a id="569" class="Symbol">=</a> <a id="571" href="Data.Empty.html#243" class="Datatype">⊥</a>
<a id="573" href="Data.Nat.Primality.html#533" class="Function">Prime</a> <a id="579" class="Number">1</a>             <a id="593" class="Symbol">=</a> <a id="595" href="Data.Empty.html#243" class="Datatype">⊥</a>
<a id="597" href="Data.Nat.Primality.html#533" class="Function">Prime</a> <a id="603" class="Symbol">(</a><a id="604" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="608" class="Symbol">(</a><a id="609" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="613" href="Data.Nat.Primality.html#613" class="Bound">n</a><a id="614" class="Symbol">))</a> <a id="617" class="Symbol">=</a> <a id="619" class="Symbol">(</a><a id="620" href="Data.Nat.Primality.html#620" class="Bound">i</a> <a id="622" class="Symbol">:</a> <a id="624" href="Data.Fin.html#910" class="Datatype">Fin</a> <a id="628" href="Data.Nat.Primality.html#613" class="Bound">n</a><a id="629" class="Symbol">)</a> <a id="631" class="Symbol">→</a> <a id="633" href="Relation.Nullary.html#464" class="Function Operator">¬</a> <a id="635" class="Symbol">(</a><a id="636" class="Number">2</a> <a id="638" href="Agda.Builtin.Nat.html#230" class="Primitive Operator">+</a> <a id="640" href="Data.Fin.html#1036" class="Function">Fin.toℕ</a> <a id="648" href="Data.Nat.Primality.html#620" class="Bound">i</a> <a id="650" href="Data.Nat.Divisibility.html#1141" class="Record Operator">∣</a> <a id="652" class="Number">2</a> <a id="654" href="Agda.Builtin.Nat.html#230" class="Primitive Operator">+</a> <a id="656" href="Data.Nat.Primality.html#613" class="Bound">n</a><a id="657" class="Symbol">)</a>

<a id="660" class="Comment">-- Decision procedure for primality.</a>

<a id="prime?"></a><a id="698" href="Data.Nat.Primality.html#698" class="Function">prime?</a> <a id="705" class="Symbol">:</a> <a id="707" href="Relation.Unary.html#6057" class="Function">Decidable</a> <a id="717" href="Data.Nat.Primality.html#533" class="Function">Prime</a>
<a id="723" href="Data.Nat.Primality.html#698" class="Function">prime?</a> <a id="730" class="Number">0</a>             <a id="744" class="Symbol">=</a> <a id="746" href="Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="749" class="Symbol">λ()</a>
<a id="753" href="Data.Nat.Primality.html#698" class="Function">prime?</a> <a id="760" class="Number">1</a>             <a id="774" class="Symbol">=</a> <a id="776" href="Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="779" class="Symbol">λ()</a>
<a id="783" href="Data.Nat.Primality.html#698" class="Function">prime?</a> <a id="790" class="Symbol">(</a><a id="791" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="795" class="Symbol">(</a><a id="796" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="800" href="Data.Nat.Primality.html#800" class="Bound">n</a><a id="801" class="Symbol">))</a> <a id="804" class="Symbol">=</a> <a id="806" href="Data.Fin.Dec.html#3117" class="Function">all?</a> <a id="811" class="Symbol">λ</a> <a id="813" href="Data.Nat.Primality.html#813" class="Bound">_</a> <a id="815" class="Symbol">→</a> <a id="817" href="Relation.Nullary.Negation.html#1017" class="Function">¬?</a> <a id="820" class="Symbol">(_</a> <a id="823" href="Data.Nat.Divisibility.html#6340" class="Function Operator">∣?</a> <a id="826" class="Symbol">_)</a>

<a id="830" class="Keyword">private</a>

  <a id="841" class="Comment">-- Example: 2 is prime.</a>

  <a id="2-is-prime"></a><a id="868" href="Data.Nat.Primality.html#868" class="Function">2-is-prime</a> <a id="879" class="Symbol">:</a> <a id="881" href="Data.Nat.Primality.html#533" class="Function">Prime</a> <a id="887" class="Number">2</a>
  <a id="891" href="Data.Nat.Primality.html#868" class="Function">2-is-prime</a> <a id="902" class="Symbol">=</a> <a id="904" href="Relation.Nullary.Decidable.html#2754" class="Function">from-yes</a> <a id="913" class="Symbol">(</a><a id="914" href="Data.Nat.Primality.html#698" class="Function">prime?</a> <a id="921" class="Number">2</a><a id="922" class="Symbol">)</a>
</pre></body></html>