<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Star.BoundedVec</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Bounded vectors (inefficient implementation)</a>
<a id="154" class="Comment">------------------------------------------------------------------------</a>

<a id="228" class="Comment">-- Vectors of a specified maximum length.</a>

<a id="271" class="Keyword">module</a> <a id="278" href="Data.Star.BoundedVec.html" class="Module">Data.Star.BoundedVec</a> <a id="299" class="Keyword">where</a>

<a id="306" class="Keyword">import</a> <a id="313" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="329" class="Symbol">as</a> <a id="332" class="Module">Maybe</a>
<a id="338" class="Keyword">open</a> <a id="343" class="Keyword">import</a> <a id="350" href="Data.Star.Nat.html" class="Module">Data.Star.Nat</a>
<a id="364" class="Keyword">open</a> <a id="369" class="Keyword">import</a> <a id="376" href="Data.Star.Decoration.html" class="Module">Data.Star.Decoration</a>
<a id="397" class="Keyword">open</a> <a id="402" class="Keyword">import</a> <a id="409" href="Data.Star.Pointer.html" class="Module">Data.Star.Pointer</a>
<a id="427" class="Keyword">open</a> <a id="432" class="Keyword">import</a> <a id="439" href="Data.Star.List.html" class="Module">Data.Star.List</a> <a id="454" class="Keyword">using</a> <a id="460" class="Symbol">(</a><a id="461" href="Data.Star.List.html#428" class="Function">List</a><a id="465" class="Symbol">)</a>
<a id="467" class="Keyword">open</a> <a id="472" class="Keyword">import</a> <a id="479" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="489" class="Keyword">open</a> <a id="494" class="Keyword">import</a> <a id="501" href="Function.html" class="Module">Function</a>
<a id="510" class="Keyword">open</a> <a id="515" class="Keyword">import</a> <a id="522" href="Relation.Binary.html" class="Module">Relation.Binary</a>
<a id="538" class="Keyword">open</a> <a id="543" class="Keyword">import</a> <a id="550" href="Relation.Binary.Consequences.html" class="Module">Relation.Binary.Consequences</a>
<a id="579" class="Keyword">open</a> <a id="584" class="Keyword">import</a> <a id="591" href="Relation.Binary.Closure.ReflexiveTransitive.html" class="Module">Relation.Binary.Closure.ReflexiveTransitive</a>

<a id="636" class="Comment">------------------------------------------------------------------------</a>
<a id="709" class="Comment">-- The type</a>

<a id="722" class="Comment">-- Finite sets decorated with elements (note the use of suc).</a>

<a id="BoundedVec"></a><a id="785" href="Data.Star.BoundedVec.html#785" class="Function">BoundedVec</a> <a id="796" class="Symbol">:</a> <a id="798" class="PrimitiveType">Set</a> <a id="802" class="Symbol">→</a> <a id="804" href="Data.Star.Nat.html#464" class="Function">ℕ</a> <a id="806" class="Symbol">→</a> <a id="808" class="PrimitiveType">Set</a>
<a id="812" href="Data.Star.BoundedVec.html#785" class="Function">BoundedVec</a> <a id="823" href="Data.Star.BoundedVec.html#823" class="Bound">a</a> <a id="825" href="Data.Star.BoundedVec.html#825" class="Bound">n</a> <a id="827" class="Symbol">=</a> <a id="829" href="Data.Star.Pointer.html#1227" class="Function">Any</a> <a id="833" class="Symbol">(λ</a> <a id="836" href="Data.Star.BoundedVec.html#836" class="Bound">_</a> <a id="838" class="Symbol">→</a> <a id="840" href="Data.Star.BoundedVec.html#823" class="Bound">a</a><a id="841" class="Symbol">)</a> <a id="843" class="Symbol">(λ</a> <a id="846" href="Data.Star.BoundedVec.html#846" class="Bound">_</a> <a id="848" class="Symbol">→</a> <a id="850" href="Agda.Builtin.Unit.html#69" class="Record">⊤</a><a id="851" class="Symbol">)</a> <a id="853" class="Symbol">(</a><a id="854" href="Data.Star.Nat.html#538" class="Function">suc</a> <a id="858" href="Data.Star.BoundedVec.html#825" class="Bound">n</a><a id="859" class="Symbol">)</a>

<a id="[]"></a><a id="862" href="Data.Star.BoundedVec.html#862" class="Function">[]</a> <a id="865" class="Symbol">:</a> <a id="867" class="Symbol">∀</a> <a id="869" class="Symbol">{</a><a id="870" href="Data.Star.BoundedVec.html#870" class="Bound">a</a> <a id="872" href="Data.Star.BoundedVec.html#872" class="Bound">n</a><a id="873" class="Symbol">}</a> <a id="875" class="Symbol">→</a> <a id="877" href="Data.Star.BoundedVec.html#785" class="Function">BoundedVec</a> <a id="888" href="Data.Star.BoundedVec.html#870" class="Bound">a</a> <a id="890" href="Data.Star.BoundedVec.html#872" class="Bound">n</a>
<a id="892" href="Data.Star.BoundedVec.html#862" class="Function">[]</a> <a id="895" class="Symbol">=</a> <a id="897" href="Data.Star.Pointer.html#1354" class="Function">this</a> <a id="902" href="Agda.Builtin.Unit.html#106" class="InductiveConstructor">tt</a>

<a id="906" class="Keyword">infixr</a> <a id="913" class="Number">5</a> <a id="915" href="Data.Star.BoundedVec.html#920" class="Function Operator">_∷_</a>

<a id="_∷_"></a><a id="920" href="Data.Star.BoundedVec.html#920" class="Function Operator">_∷_</a> <a id="924" class="Symbol">:</a> <a id="926" class="Symbol">∀</a> <a id="928" class="Symbol">{</a><a id="929" href="Data.Star.BoundedVec.html#929" class="Bound">a</a> <a id="931" href="Data.Star.BoundedVec.html#931" class="Bound">n</a><a id="932" class="Symbol">}</a> <a id="934" class="Symbol">→</a> <a id="936" href="Data.Star.BoundedVec.html#929" class="Bound">a</a> <a id="938" class="Symbol">→</a> <a id="940" href="Data.Star.BoundedVec.html#785" class="Function">BoundedVec</a> <a id="951" href="Data.Star.BoundedVec.html#929" class="Bound">a</a> <a id="953" href="Data.Star.BoundedVec.html#931" class="Bound">n</a> <a id="955" class="Symbol">→</a> <a id="957" href="Data.Star.BoundedVec.html#785" class="Function">BoundedVec</a> <a id="968" href="Data.Star.BoundedVec.html#929" class="Bound">a</a> <a id="970" class="Symbol">(</a><a id="971" href="Data.Star.Nat.html#538" class="Function">suc</a> <a id="975" href="Data.Star.BoundedVec.html#931" class="Bound">n</a><a id="976" class="Symbol">)</a>
<a id="978" href="Data.Star.BoundedVec.html#920" class="Function Operator">_∷_</a> <a id="982" class="Symbol">=</a> <a id="984" href="Data.Star.Pointer.html#1498" class="Function">that</a>

<a id="990" class="Comment">------------------------------------------------------------------------</a>
<a id="1063" class="Comment">-- Increasing the bound</a>

<a id="1088" class="Comment">-- Note that this operation is linear in the length of the list.</a>

<a id="↑"></a><a id="1154" href="Data.Star.BoundedVec.html#1154" class="Function">↑</a> <a id="1156" class="Symbol">:</a> <a id="1158" class="Symbol">∀</a> <a id="1160" class="Symbol">{</a><a id="1161" href="Data.Star.BoundedVec.html#1161" class="Bound">a</a> <a id="1163" href="Data.Star.BoundedVec.html#1163" class="Bound">n</a><a id="1164" class="Symbol">}</a> <a id="1166" class="Symbol">→</a> <a id="1168" href="Data.Star.BoundedVec.html#785" class="Function">BoundedVec</a> <a id="1179" href="Data.Star.BoundedVec.html#1161" class="Bound">a</a> <a id="1181" href="Data.Star.BoundedVec.html#1163" class="Bound">n</a> <a id="1183" class="Symbol">→</a> <a id="1185" href="Data.Star.BoundedVec.html#785" class="Function">BoundedVec</a> <a id="1196" href="Data.Star.BoundedVec.html#1161" class="Bound">a</a> <a id="1198" class="Symbol">(</a><a id="1199" href="Data.Star.Nat.html#538" class="Function">suc</a> <a id="1203" href="Data.Star.BoundedVec.html#1163" class="Bound">n</a><a id="1204" class="Symbol">)</a>
<a id="1206" href="Data.Star.BoundedVec.html#1154" class="Function">↑</a> <a id="1208" class="Symbol">{</a><a id="1209" href="Data.Star.BoundedVec.html#1209" class="Bound">a</a><a id="1210" class="Symbol">}</a> <a id="1212" class="Symbol">=</a> <a id="1214" href="Relation.Binary.Closure.ReflexiveTransitive.html#1479" class="Function">gmap</a> <a id="1219" href="Data.Star.BoundedVec.html#1238" class="Function">inc</a> <a id="1223" href="Data.Star.BoundedVec.html#1276" class="Function">lift</a>
  <a id="1230" class="Keyword">where</a>
  <a id="1238" href="Data.Star.BoundedVec.html#1238" class="Function">inc</a> <a id="1242" class="Symbol">=</a> <a id="1244" href="Data.Maybe.Base.html#1971" class="Function">Maybe.map</a> <a id="1254" class="Symbol">(</a><a id="1255" href="Relation.Binary.Consequences.html#4824" class="Function">map-NonEmpty</a> <a id="1268" href="Data.Star.Nat.html#538" class="Function">suc</a><a id="1271" class="Symbol">)</a>

  <a id="1276" href="Data.Star.BoundedVec.html#1276" class="Function">lift</a> <a id="1281" class="Symbol">:</a> <a id="1283" href="Data.Star.Pointer.html#611" class="Datatype">Pointer</a> <a id="1291" class="Symbol">(λ</a> <a id="1294" href="Data.Star.BoundedVec.html#1294" class="Bound">_</a> <a id="1296" class="Symbol">→</a> <a id="1298" href="Data.Star.BoundedVec.html#1209" class="Bound">a</a><a id="1299" class="Symbol">)</a> <a id="1301" class="Symbol">(λ</a> <a id="1304" href="Data.Star.BoundedVec.html#1304" class="Bound">_</a> <a id="1306" class="Symbol">→</a> <a id="1308" href="Agda.Builtin.Unit.html#69" class="Record">⊤</a><a id="1309" class="Symbol">)</a> <a id="1311" href="Relation.Binary.Core.html#1282" class="Function Operator">=[</a> <a id="1314" href="Data.Star.BoundedVec.html#1238" class="Function">inc</a> <a id="1318" href="Relation.Binary.Core.html#1282" class="Function Operator">]⇒</a>
         <a id="1330" href="Data.Star.Pointer.html#611" class="Datatype">Pointer</a> <a id="1338" class="Symbol">(λ</a> <a id="1341" href="Data.Star.BoundedVec.html#1341" class="Bound">_</a> <a id="1343" class="Symbol">→</a> <a id="1345" href="Data.Star.BoundedVec.html#1209" class="Bound">a</a><a id="1346" class="Symbol">)</a> <a id="1348" class="Symbol">(λ</a> <a id="1351" href="Data.Star.BoundedVec.html#1351" class="Bound">_</a> <a id="1353" class="Symbol">→</a> <a id="1355" href="Agda.Builtin.Unit.html#69" class="Record">⊤</a><a id="1356" class="Symbol">)</a>
  <a id="1360" href="Data.Star.BoundedVec.html#1276" class="Function">lift</a> <a id="1365" class="Symbol">(</a><a id="1366" href="Data.Star.Pointer.html#713" class="InductiveConstructor">step</a> <a id="1371" href="Data.Star.BoundedVec.html#1371" class="Bound">x</a><a id="1372" class="Symbol">)</a> <a id="1374" class="Symbol">=</a> <a id="1376" href="Data.Star.Pointer.html#713" class="InductiveConstructor">step</a> <a id="1381" href="Data.Star.BoundedVec.html#1371" class="Bound">x</a>
  <a id="1385" href="Data.Star.BoundedVec.html#1276" class="Function">lift</a> <a id="1390" class="Symbol">(</a><a id="1391" href="Data.Star.Pointer.html#876" class="InductiveConstructor">done</a> <a id="1396" class="Symbol">_)</a> <a id="1399" class="Symbol">=</a> <a id="1401" href="Data.Star.Pointer.html#876" class="InductiveConstructor">done</a> <a id="1406" class="Symbol">_</a>

<a id="1409" class="Comment">------------------------------------------------------------------------</a>
<a id="1482" class="Comment">-- Conversions</a>

<a id="fromList"></a><a id="1498" href="Data.Star.BoundedVec.html#1498" class="Function">fromList</a> <a id="1507" class="Symbol">:</a> <a id="1509" class="Symbol">∀</a> <a id="1511" class="Symbol">{</a><a id="1512" href="Data.Star.BoundedVec.html#1512" class="Bound">a</a><a id="1513" class="Symbol">}</a> <a id="1515" class="Symbol">→</a> <a id="1517" class="Symbol">(</a><a id="1518" href="Data.Star.BoundedVec.html#1518" class="Bound">xs</a> <a id="1521" class="Symbol">:</a> <a id="1523" href="Data.Star.List.html#428" class="Function">List</a> <a id="1528" href="Data.Star.BoundedVec.html#1512" class="Bound">a</a><a id="1529" class="Symbol">)</a> <a id="1531" class="Symbol">→</a> <a id="1533" href="Data.Star.BoundedVec.html#785" class="Function">BoundedVec</a> <a id="1544" href="Data.Star.BoundedVec.html#1512" class="Bound">a</a> <a id="1546" class="Symbol">(</a><a id="1547" href="Data.Star.Nat.html#594" class="Function">length</a> <a id="1554" href="Data.Star.BoundedVec.html#1518" class="Bound">xs</a><a id="1556" class="Symbol">)</a>
<a id="1558" href="Data.Star.BoundedVec.html#1498" class="Function">fromList</a> <a id="1567" href="Relation.Binary.Closure.ReflexiveTransitive.html#500" class="InductiveConstructor">ε</a>        <a id="1576" class="Symbol">=</a> <a id="1578" href="Data.Star.BoundedVec.html#862" class="Function">[]</a>
<a id="1581" href="Data.Star.BoundedVec.html#1498" class="Function">fromList</a> <a id="1590" class="Symbol">(</a><a id="1591" href="Data.Star.BoundedVec.html#1591" class="Bound">x</a> <a id="1593" href="Relation.Binary.Closure.ReflexiveTransitive.html#527" class="InductiveConstructor Operator">◅</a> <a id="1595" href="Data.Star.BoundedVec.html#1595" class="Bound">xs</a><a id="1597" class="Symbol">)</a> <a id="1599" class="Symbol">=</a> <a id="1601" href="Data.Star.BoundedVec.html#1591" class="Bound">x</a> <a id="1603" href="Data.Star.BoundedVec.html#920" class="Function Operator">∷</a> <a id="1605" href="Data.Star.BoundedVec.html#1498" class="Function">fromList</a> <a id="1614" href="Data.Star.BoundedVec.html#1595" class="Bound">xs</a>

<a id="toList"></a><a id="1618" href="Data.Star.BoundedVec.html#1618" class="Function">toList</a> <a id="1625" class="Symbol">:</a> <a id="1627" class="Symbol">∀</a> <a id="1629" class="Symbol">{</a><a id="1630" href="Data.Star.BoundedVec.html#1630" class="Bound">a</a> <a id="1632" href="Data.Star.BoundedVec.html#1632" class="Bound">n</a><a id="1633" class="Symbol">}</a> <a id="1635" class="Symbol">→</a> <a id="1637" href="Data.Star.BoundedVec.html#785" class="Function">BoundedVec</a> <a id="1648" href="Data.Star.BoundedVec.html#1630" class="Bound">a</a> <a id="1650" href="Data.Star.BoundedVec.html#1632" class="Bound">n</a> <a id="1652" class="Symbol">→</a> <a id="1654" href="Data.Star.List.html#428" class="Function">List</a> <a id="1659" href="Data.Star.BoundedVec.html#1630" class="Bound">a</a>
<a id="1661" href="Data.Star.BoundedVec.html#1618" class="Function">toList</a> <a id="1668" href="Data.Star.BoundedVec.html#1668" class="Bound">xs</a> <a id="1671" class="Symbol">=</a> <a id="1673" href="Relation.Binary.Closure.ReflexiveTransitive.html#1479" class="Function">gmap</a> <a id="1678" class="Symbol">(</a><a id="1679" href="Function.html#1099" class="Function">const</a> <a id="1685" href="Agda.Builtin.Unit.html#106" class="InductiveConstructor">tt</a><a id="1687" class="Symbol">)</a> <a id="1689" href="Data.Star.Decoration.html#1210" class="Function">decoration</a> <a id="1700" class="Symbol">(</a><a id="1701" href="Data.Star.Pointer.html#2768" class="Function">init</a> <a id="1706" href="Data.Star.BoundedVec.html#1668" class="Bound">xs</a><a id="1708" class="Symbol">)</a>
</pre></body></html>