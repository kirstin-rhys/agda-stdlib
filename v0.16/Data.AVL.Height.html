<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.AVL.Height</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Types and functions which are used to keep track of height</a>
<a id="168" class="Comment">-- invariants in AVL Trees</a>
<a id="195" class="Comment">------------------------------------------------------------------------</a>

<a id="269" class="Keyword">module</a> <a id="276" href="Data.AVL.Height.html" class="Module">Data.AVL.Height</a> <a id="292" class="Keyword">where</a>

<a id="299" class="Keyword">open</a> <a id="304" class="Keyword">import</a> <a id="311" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="325" class="Keyword">import</a> <a id="332" href="Data.Fin.html" class="Module">Data.Fin</a> <a id="341" class="Symbol">as</a> <a id="344" class="Module">Fin</a>

<a id="ℕ₂"></a><a id="349" href="Data.AVL.Height.html#349" class="Function">ℕ₂</a> <a id="352" class="Symbol">=</a> <a id="354" href="Data.Fin.html#910" class="Datatype">Fin.Fin</a> <a id="362" class="Number">2</a>
<a id="364" class="Keyword">pattern</a> <a id="0#"></a><a id="372" href="Data.AVL.Height.html#372" class="InductiveConstructor">0#</a> <a id="375" class="Symbol">=</a> <a id="377" href="Data.Fin.html#932" class="InductiveConstructor">Fin.zero</a>
<a id="386" class="Keyword">pattern</a> <a id="1#"></a><a id="394" href="Data.AVL.Height.html#394" class="InductiveConstructor">1#</a> <a id="397" class="Symbol">=</a> <a id="399" href="Data.Fin.html#963" class="InductiveConstructor">Fin.suc</a> <a id="407" href="Data.Fin.html#932" class="InductiveConstructor">Fin.zero</a>
<a id="416" class="Keyword">pattern</a> <a id="##"></a><a id="424" href="Data.AVL.Height.html#424" class="InductiveConstructor">##</a> <a id="427" class="Symbol">=</a> <a id="429" href="Data.Fin.html#963" class="InductiveConstructor">Fin.suc</a> <a id="437" class="Symbol">(</a><a id="438" href="Data.Fin.html#963" class="InductiveConstructor">Fin.suc</a> <a id="446" class="Symbol">())</a>

<a id="451" class="Comment">-- Addition.</a>

<a id="465" class="Keyword">infixl</a> <a id="472" class="Number">6</a> <a id="474" href="Data.AVL.Height.html#479" class="Function Operator">_⊕_</a>

<a id="_⊕_"></a><a id="479" href="Data.AVL.Height.html#479" class="Function Operator">_⊕_</a> <a id="483" class="Symbol">:</a> <a id="485" href="Data.AVL.Height.html#349" class="Function">ℕ₂</a> <a id="488" class="Symbol">→</a> <a id="490" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a> <a id="492" class="Symbol">→</a> <a id="494" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a>
<a id="496" href="Data.AVL.Height.html#372" class="InductiveConstructor">0#</a> <a id="499" href="Data.AVL.Height.html#479" class="Function Operator">⊕</a> <a id="501" href="Data.AVL.Height.html#501" class="Bound">n</a> <a id="503" class="Symbol">=</a> <a id="505" href="Data.AVL.Height.html#501" class="Bound">n</a>
<a id="507" href="Data.AVL.Height.html#394" class="InductiveConstructor">1#</a> <a id="510" href="Data.AVL.Height.html#479" class="Function Operator">⊕</a> <a id="512" href="Data.AVL.Height.html#512" class="Bound">n</a> <a id="514" class="Symbol">=</a> <a id="516" class="Number">1</a> <a id="518" href="Agda.Builtin.Nat.html#230" class="Primitive Operator">+</a> <a id="520" href="Data.AVL.Height.html#512" class="Bound">n</a>
<a id="522" href="Data.AVL.Height.html#424" class="InductiveConstructor">##</a> <a id="525" href="Data.AVL.Height.html#479" class="Function Operator">⊕</a> <a id="527" href="Data.AVL.Height.html#527" class="Bound">n</a>

<a id="530" class="Comment">-- pred[ i ⊕ n ] = pred (i ⊕ n).</a>

<a id="pred[_⊕_]"></a><a id="564" href="Data.AVL.Height.html#564" class="Function Operator">pred[_⊕_]</a> <a id="574" class="Symbol">:</a> <a id="576" href="Data.AVL.Height.html#349" class="Function">ℕ₂</a> <a id="579" class="Symbol">→</a> <a id="581" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a> <a id="583" class="Symbol">→</a> <a id="585" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a>
<a id="587" href="Data.AVL.Height.html#564" class="Function Operator">pred[</a> <a id="593" href="Data.AVL.Height.html#593" class="Bound">i</a> <a id="595" href="Data.AVL.Height.html#564" class="Function Operator">⊕</a> <a id="597" href="Agda.Builtin.Nat.html#115" class="InductiveConstructor">zero</a>  <a id="603" href="Data.AVL.Height.html#564" class="Function Operator">]</a> <a id="605" class="Symbol">=</a> <a id="607" class="Number">0</a>
<a id="609" href="Data.AVL.Height.html#564" class="Function Operator">pred[</a> <a id="615" href="Data.AVL.Height.html#615" class="Bound">i</a> <a id="617" href="Data.AVL.Height.html#564" class="Function Operator">⊕</a> <a id="619" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="623" href="Data.AVL.Height.html#623" class="Bound">n</a> <a id="625" href="Data.AVL.Height.html#564" class="Function Operator">]</a> <a id="627" class="Symbol">=</a> <a id="629" href="Data.AVL.Height.html#615" class="Bound">i</a> <a id="631" href="Data.AVL.Height.html#479" class="Function Operator">⊕</a> <a id="633" href="Data.AVL.Height.html#623" class="Bound">n</a>

<a id="636" class="Keyword">infix</a> <a id="642" class="Number">4</a> <a id="644" href="Data.AVL.Height.html#914" class="Datatype Operator">_∼_⊔_</a>

<a id="651" class="Comment">-- If i ∼ j ⊔ m, then the difference between i and j is at most 1,</a>
<a id="718" class="Comment">-- and the maximum of i and j is m. _∼_⊔_ is used to record the</a>
<a id="782" class="Comment">-- balance factor of the AVL trees, and also to ensure that the</a>
<a id="846" class="Comment">-- absolute value of the balance factor is never more than 1.</a>

<a id="909" class="Keyword">data</a> <a id="_∼_⊔_"></a><a id="914" href="Data.AVL.Height.html#914" class="Datatype Operator">_∼_⊔_</a> <a id="920" class="Symbol">:</a> <a id="922" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a> <a id="924" class="Symbol">→</a> <a id="926" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a> <a id="928" class="Symbol">→</a> <a id="930" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a> <a id="932" class="Symbol">→</a> <a id="934" class="PrimitiveType">Set</a> <a id="938" class="Keyword">where</a>
  <a id="_∼_⊔_.∼+"></a><a id="946" href="Data.AVL.Height.html#946" class="InductiveConstructor">∼+</a> <a id="949" class="Symbol">:</a> <a id="951" class="Symbol">∀</a> <a id="953" class="Symbol">{</a><a id="954" href="Data.AVL.Height.html#954" class="Bound">n</a><a id="955" class="Symbol">}</a> <a id="957" class="Symbol">→</a>     <a id="963" href="Data.AVL.Height.html#954" class="Bound">n</a> <a id="965" href="Data.AVL.Height.html#914" class="Datatype Operator">∼</a> <a id="967" class="Number">1</a> <a id="969" href="Agda.Builtin.Nat.html#230" class="Primitive Operator">+</a> <a id="971" href="Data.AVL.Height.html#954" class="Bound">n</a> <a id="973" href="Data.AVL.Height.html#914" class="Datatype Operator">⊔</a> <a id="975" class="Number">1</a> <a id="977" href="Agda.Builtin.Nat.html#230" class="Primitive Operator">+</a> <a id="979" href="Data.AVL.Height.html#954" class="Bound">n</a>
  <a id="_∼_⊔_.∼0"></a><a id="983" href="Data.AVL.Height.html#983" class="InductiveConstructor">∼0</a> <a id="986" class="Symbol">:</a> <a id="988" class="Symbol">∀</a> <a id="990" class="Symbol">{</a><a id="991" href="Data.AVL.Height.html#991" class="Bound">n</a><a id="992" class="Symbol">}</a> <a id="994" class="Symbol">→</a>     <a id="1000" href="Data.AVL.Height.html#991" class="Bound">n</a> <a id="1002" href="Data.AVL.Height.html#914" class="Datatype Operator">∼</a> <a id="1004" href="Data.AVL.Height.html#991" class="Bound">n</a>     <a id="1010" href="Data.AVL.Height.html#914" class="Datatype Operator">⊔</a> <a id="1012" href="Data.AVL.Height.html#991" class="Bound">n</a>
  <a id="_∼_⊔_.∼-"></a><a id="1016" href="Data.AVL.Height.html#1016" class="InductiveConstructor">∼-</a> <a id="1019" class="Symbol">:</a> <a id="1021" class="Symbol">∀</a> <a id="1023" class="Symbol">{</a><a id="1024" href="Data.AVL.Height.html#1024" class="Bound">n</a><a id="1025" class="Symbol">}</a> <a id="1027" class="Symbol">→</a> <a id="1029" class="Number">1</a> <a id="1031" href="Agda.Builtin.Nat.html#230" class="Primitive Operator">+</a> <a id="1033" href="Data.AVL.Height.html#1024" class="Bound">n</a> <a id="1035" href="Data.AVL.Height.html#914" class="Datatype Operator">∼</a> <a id="1037" href="Data.AVL.Height.html#1024" class="Bound">n</a>     <a id="1043" href="Data.AVL.Height.html#914" class="Datatype Operator">⊔</a> <a id="1045" class="Number">1</a> <a id="1047" href="Agda.Builtin.Nat.html#230" class="Primitive Operator">+</a> <a id="1049" href="Data.AVL.Height.html#1024" class="Bound">n</a>

<a id="1052" class="Comment">-- Some lemmas.</a>

<a id="max∼"></a><a id="1069" href="Data.AVL.Height.html#1069" class="Function">max∼</a> <a id="1074" class="Symbol">:</a> <a id="1076" class="Symbol">∀</a> <a id="1078" class="Symbol">{</a><a id="1079" href="Data.AVL.Height.html#1079" class="Bound">i</a> <a id="1081" href="Data.AVL.Height.html#1081" class="Bound">j</a> <a id="1083" href="Data.AVL.Height.html#1083" class="Bound">m</a><a id="1084" class="Symbol">}</a> <a id="1086" class="Symbol">→</a> <a id="1088" href="Data.AVL.Height.html#1079" class="Bound">i</a> <a id="1090" href="Data.AVL.Height.html#914" class="Datatype Operator">∼</a> <a id="1092" href="Data.AVL.Height.html#1081" class="Bound">j</a> <a id="1094" href="Data.AVL.Height.html#914" class="Datatype Operator">⊔</a> <a id="1096" href="Data.AVL.Height.html#1083" class="Bound">m</a> <a id="1098" class="Symbol">→</a> <a id="1100" href="Data.AVL.Height.html#1083" class="Bound">m</a> <a id="1102" href="Data.AVL.Height.html#914" class="Datatype Operator">∼</a> <a id="1104" href="Data.AVL.Height.html#1079" class="Bound">i</a> <a id="1106" href="Data.AVL.Height.html#914" class="Datatype Operator">⊔</a> <a id="1108" href="Data.AVL.Height.html#1083" class="Bound">m</a>
<a id="1110" href="Data.AVL.Height.html#1069" class="Function">max∼</a> <a id="1115" href="Data.AVL.Height.html#946" class="InductiveConstructor">∼+</a> <a id="1118" class="Symbol">=</a> <a id="1120" href="Data.AVL.Height.html#1016" class="InductiveConstructor">∼-</a>
<a id="1123" href="Data.AVL.Height.html#1069" class="Function">max∼</a> <a id="1128" href="Data.AVL.Height.html#983" class="InductiveConstructor">∼0</a> <a id="1131" class="Symbol">=</a> <a id="1133" href="Data.AVL.Height.html#983" class="InductiveConstructor">∼0</a>
<a id="1136" href="Data.AVL.Height.html#1069" class="Function">max∼</a> <a id="1141" href="Data.AVL.Height.html#1016" class="InductiveConstructor">∼-</a> <a id="1144" class="Symbol">=</a> <a id="1146" href="Data.AVL.Height.html#983" class="InductiveConstructor">∼0</a>

<a id="∼max"></a><a id="1150" href="Data.AVL.Height.html#1150" class="Function">∼max</a> <a id="1155" class="Symbol">:</a> <a id="1157" class="Symbol">∀</a> <a id="1159" class="Symbol">{</a><a id="1160" href="Data.AVL.Height.html#1160" class="Bound">i</a> <a id="1162" href="Data.AVL.Height.html#1162" class="Bound">j</a> <a id="1164" href="Data.AVL.Height.html#1164" class="Bound">m</a><a id="1165" class="Symbol">}</a> <a id="1167" class="Symbol">→</a> <a id="1169" href="Data.AVL.Height.html#1160" class="Bound">i</a> <a id="1171" href="Data.AVL.Height.html#914" class="Datatype Operator">∼</a> <a id="1173" href="Data.AVL.Height.html#1162" class="Bound">j</a> <a id="1175" href="Data.AVL.Height.html#914" class="Datatype Operator">⊔</a> <a id="1177" href="Data.AVL.Height.html#1164" class="Bound">m</a> <a id="1179" class="Symbol">→</a> <a id="1181" href="Data.AVL.Height.html#1162" class="Bound">j</a> <a id="1183" href="Data.AVL.Height.html#914" class="Datatype Operator">∼</a> <a id="1185" href="Data.AVL.Height.html#1164" class="Bound">m</a> <a id="1187" href="Data.AVL.Height.html#914" class="Datatype Operator">⊔</a> <a id="1189" href="Data.AVL.Height.html#1164" class="Bound">m</a>
<a id="1191" href="Data.AVL.Height.html#1150" class="Function">∼max</a> <a id="1196" href="Data.AVL.Height.html#946" class="InductiveConstructor">∼+</a> <a id="1199" class="Symbol">=</a> <a id="1201" href="Data.AVL.Height.html#983" class="InductiveConstructor">∼0</a>
<a id="1204" href="Data.AVL.Height.html#1150" class="Function">∼max</a> <a id="1209" href="Data.AVL.Height.html#983" class="InductiveConstructor">∼0</a> <a id="1212" class="Symbol">=</a> <a id="1214" href="Data.AVL.Height.html#983" class="InductiveConstructor">∼0</a>
<a id="1217" href="Data.AVL.Height.html#1150" class="Function">∼max</a> <a id="1222" href="Data.AVL.Height.html#1016" class="InductiveConstructor">∼-</a> <a id="1225" class="Symbol">=</a> <a id="1227" href="Data.AVL.Height.html#946" class="InductiveConstructor">∼+</a>

</pre></body></html>