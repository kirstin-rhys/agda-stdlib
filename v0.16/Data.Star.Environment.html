<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Star.Environment</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Environments (heterogeneous collections)</a>
<a id="150" class="Comment">------------------------------------------------------------------------</a>

<a id="224" class="Keyword">module</a> <a id="231" href="Data.Star.Environment.html" class="Module">Data.Star.Environment</a> <a id="253" class="Symbol">(</a><a id="254" href="Data.Star.Environment.html#254" class="Bound">Ty</a> <a id="257" class="Symbol">:</a> <a id="259" class="PrimitiveType">Set</a><a id="262" class="Symbol">)</a> <a id="264" class="Keyword">where</a>

<a id="271" class="Keyword">open</a> <a id="276" class="Keyword">import</a> <a id="283" href="Data.Star.List.html" class="Module">Data.Star.List</a>
<a id="298" class="Keyword">open</a> <a id="303" class="Keyword">import</a> <a id="310" href="Data.Star.Decoration.html" class="Module">Data.Star.Decoration</a>
<a id="331" class="Keyword">open</a> <a id="336" class="Keyword">import</a> <a id="343" href="Data.Star.Pointer.html" class="Module">Data.Star.Pointer</a> <a id="361" class="Symbol">as</a> <a id="364" class="Module">Pointer</a> <a id="372" class="Keyword">hiding</a> <a id="379" class="Symbol">(</a><a id="380" href="Data.Star.Pointer.html#1948" class="Function">lookup</a><a id="386" class="Symbol">)</a>
<a id="388" class="Keyword">open</a> <a id="393" class="Keyword">import</a> <a id="400" href="Data.Unit.html" class="Module">Data.Unit</a>
<a id="410" class="Keyword">open</a> <a id="415" class="Keyword">import</a> <a id="422" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
<a id="460" class="Keyword">open</a> <a id="465" class="Keyword">import</a> <a id="472" href="Relation.Binary.Closure.ReflexiveTransitive.html" class="Module">Relation.Binary.Closure.ReflexiveTransitive</a>

<a id="517" class="Comment">-- Contexts, listing the types of all the elements in an environment.</a>

<a id="Ctxt"></a><a id="588" href="Data.Star.Environment.html#588" class="Function">Ctxt</a> <a id="593" class="Symbol">:</a> <a id="595" class="PrimitiveType">Set</a>
<a id="599" href="Data.Star.Environment.html#588" class="Function">Ctxt</a> <a id="604" class="Symbol">=</a> <a id="606" href="Data.Star.List.html#428" class="Function">List</a> <a id="611" href="Data.Star.Environment.html#254" class="Bound">Ty</a>

<a id="615" class="Comment">-- Variables (de Bruijn indices); pointers into environments.</a>

<a id="678" class="Keyword">infix</a> <a id="684" class="Number">4</a> <a id="686" href="Data.Star.Environment.html#691" class="Function Operator">_∋_</a>

<a id="_∋_"></a><a id="691" href="Data.Star.Environment.html#691" class="Function Operator">_∋_</a> <a id="695" class="Symbol">:</a> <a id="697" href="Data.Star.Environment.html#588" class="Function">Ctxt</a> <a id="702" class="Symbol">→</a> <a id="704" href="Data.Star.Environment.html#254" class="Bound">Ty</a> <a id="707" class="Symbol">→</a> <a id="709" class="PrimitiveType">Set</a>
<a id="713" href="Data.Star.Environment.html#713" class="Bound">Γ</a> <a id="715" href="Data.Star.Environment.html#691" class="Function Operator">∋</a> <a id="717" href="Data.Star.Environment.html#717" class="Bound">σ</a> <a id="719" class="Symbol">=</a> <a id="721" href="Data.Star.Pointer.html#1227" class="Function">Any</a> <a id="725" class="Symbol">(λ</a> <a id="728" href="Data.Star.Environment.html#728" class="Bound">_</a> <a id="730" class="Symbol">→</a> <a id="732" href="Agda.Builtin.Unit.html#69" class="Record">⊤</a><a id="733" class="Symbol">)</a> <a id="735" class="Symbol">(</a><a id="736" href="Data.Star.Environment.html#717" class="Bound">σ</a> <a id="738" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡_</a><a id="740" class="Symbol">)</a> <a id="742" href="Data.Star.Environment.html#713" class="Bound">Γ</a>

<a id="vz"></a><a id="745" href="Data.Star.Environment.html#745" class="Function">vz</a> <a id="748" class="Symbol">:</a> <a id="750" class="Symbol">∀</a> <a id="752" class="Symbol">{</a><a id="753" href="Data.Star.Environment.html#753" class="Bound">Γ</a> <a id="755" href="Data.Star.Environment.html#755" class="Bound">σ</a><a id="756" class="Symbol">}</a> <a id="758" class="Symbol">→</a> <a id="760" href="Data.Star.Environment.html#753" class="Bound">Γ</a> <a id="762" href="Relation.Binary.Closure.ReflexiveTransitive.html#1136" class="Function Operator">▻</a> <a id="764" href="Data.Star.Environment.html#755" class="Bound">σ</a> <a id="766" href="Data.Star.Environment.html#691" class="Function Operator">∋</a> <a id="768" href="Data.Star.Environment.html#755" class="Bound">σ</a>
<a id="770" href="Data.Star.Environment.html#745" class="Function">vz</a> <a id="773" class="Symbol">=</a> <a id="775" href="Data.Star.Pointer.html#1354" class="Function">this</a> <a id="780" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>

<a id="vs"></a><a id="786" href="Data.Star.Environment.html#786" class="Function">vs</a> <a id="789" class="Symbol">:</a> <a id="791" class="Symbol">∀</a> <a id="793" class="Symbol">{</a><a id="794" href="Data.Star.Environment.html#794" class="Bound">Γ</a> <a id="796" href="Data.Star.Environment.html#796" class="Bound">σ</a> <a id="798" href="Data.Star.Environment.html#798" class="Bound">τ</a><a id="799" class="Symbol">}</a> <a id="801" class="Symbol">→</a> <a id="803" href="Data.Star.Environment.html#794" class="Bound">Γ</a> <a id="805" href="Data.Star.Environment.html#691" class="Function Operator">∋</a> <a id="807" href="Data.Star.Environment.html#798" class="Bound">τ</a> <a id="809" class="Symbol">→</a> <a id="811" href="Data.Star.Environment.html#794" class="Bound">Γ</a> <a id="813" href="Relation.Binary.Closure.ReflexiveTransitive.html#1136" class="Function Operator">▻</a> <a id="815" href="Data.Star.Environment.html#796" class="Bound">σ</a> <a id="817" href="Data.Star.Environment.html#691" class="Function Operator">∋</a> <a id="819" href="Data.Star.Environment.html#798" class="Bound">τ</a>
<a id="821" href="Data.Star.Environment.html#786" class="Function">vs</a> <a id="824" class="Symbol">=</a> <a id="826" href="Data.Star.Pointer.html#1498" class="Function">that</a> <a id="831" href="Agda.Builtin.Unit.html#106" class="InductiveConstructor">tt</a>

<a id="835" class="Comment">-- Environments. The T function maps types to element types.</a>

<a id="Env"></a><a id="897" href="Data.Star.Environment.html#897" class="Function">Env</a> <a id="901" class="Symbol">:</a> <a id="903" class="Symbol">(</a><a id="904" href="Data.Star.Environment.html#254" class="Bound">Ty</a> <a id="907" class="Symbol">→</a> <a id="909" class="PrimitiveType">Set</a><a id="912" class="Symbol">)</a> <a id="914" class="Symbol">→</a> <a id="916" href="Data.Star.Environment.html#588" class="Function">Ctxt</a> <a id="921" class="Symbol">→</a> <a id="923" class="PrimitiveType">Set</a>
<a id="927" href="Data.Star.Environment.html#897" class="Function">Env</a> <a id="931" href="Data.Star.Environment.html#931" class="Bound">T</a> <a id="933" href="Data.Star.Environment.html#933" class="Bound">Γ</a> <a id="935" class="Symbol">=</a> <a id="937" href="Data.Star.Decoration.html#1493" class="Function">All</a> <a id="941" href="Data.Star.Environment.html#931" class="Bound">T</a> <a id="943" href="Data.Star.Environment.html#933" class="Bound">Γ</a>

<a id="946" class="Comment">-- A safe lookup function for environments.</a>

<a id="lookup"></a><a id="991" href="Data.Star.Environment.html#991" class="Function">lookup</a> <a id="998" class="Symbol">:</a> <a id="1000" class="Symbol">∀</a> <a id="1002" class="Symbol">{</a><a id="1003" href="Data.Star.Environment.html#1003" class="Bound">Γ</a> <a id="1005" href="Data.Star.Environment.html#1005" class="Bound">σ</a><a id="1006" class="Symbol">}</a> <a id="1008" class="Symbol">{</a><a id="1009" href="Data.Star.Environment.html#1009" class="Bound">T</a> <a id="1011" class="Symbol">:</a> <a id="1013" href="Data.Star.Environment.html#254" class="Bound">Ty</a> <a id="1016" class="Symbol">→</a> <a id="1018" class="PrimitiveType">Set</a><a id="1021" class="Symbol">}</a> <a id="1023" class="Symbol">→</a> <a id="1025" href="Data.Star.Environment.html#1003" class="Bound">Γ</a> <a id="1027" href="Data.Star.Environment.html#691" class="Function Operator">∋</a> <a id="1029" href="Data.Star.Environment.html#1005" class="Bound">σ</a> <a id="1031" class="Symbol">→</a> <a id="1033" href="Data.Star.Environment.html#897" class="Function">Env</a> <a id="1037" href="Data.Star.Environment.html#1009" class="Bound">T</a> <a id="1039" href="Data.Star.Environment.html#1003" class="Bound">Γ</a> <a id="1041" class="Symbol">→</a> <a id="1043" href="Data.Star.Environment.html#1009" class="Bound">T</a> <a id="1045" href="Data.Star.Environment.html#1005" class="Bound">σ</a>
<a id="1047" href="Data.Star.Environment.html#991" class="Function">lookup</a> <a id="1054" href="Data.Star.Environment.html#1054" class="Bound">i</a> <a id="1056" href="Data.Star.Environment.html#1056" class="Bound">ρ</a> <a id="1058" class="Keyword">with</a> <a id="1063" href="Data.Star.Pointer.html#1948" class="Function">Pointer.lookup</a> <a id="1078" href="Data.Star.Environment.html#1054" class="Bound">i</a> <a id="1080" href="Data.Star.Environment.html#1056" class="Bound">ρ</a>
<a id="1082" class="Symbol">...</a> <a id="1086" class="Symbol">|</a> <a id="1088" href="Data.Star.Pointer.html#1753" class="InductiveConstructor">result</a> <a id="1095" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="1100" href="Data.Star.Environment.html#1100" class="Bound">x</a> <a id="1102" class="Symbol">=</a> <a id="1104" href="Data.Star.Environment.html#1100" class="Bound">x</a>
</pre></body></html>