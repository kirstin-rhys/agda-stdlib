<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>README.Function.Reasoning</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Some examples showing how the Function.Reasoning module</a>
<a id="165" class="Comment">-- can be used to perform &quot;functional reasoning&quot; similar to what is being</a>
<a id="239" class="Comment">-- described in: https://stackoverflow.com/q/22676703/3168666</a>
<a id="301" class="Comment">------------------------------------------------------------------------</a>

<a id="375" class="Keyword">module</a> <a id="382" href="README.Function.Reasoning.html" class="Module">README.Function.Reasoning</a> <a id="408" class="Keyword">where</a>

<a id="415" class="Comment">-- Function.Reasoning exports a flipped application (_|&gt;_) combinator</a>
<a id="485" class="Comment">-- as well as a type annotation (_∶_) combinator.</a>

<a id="536" class="Keyword">open</a> <a id="541" class="Keyword">import</a> <a id="548" href="Function.Reasoning.html" class="Module">Function.Reasoning</a>

<a id="568" class="Comment">------------------------------------------------------------------------</a>
<a id="641" class="Comment">-- A simple example</a>

<a id="662" class="Keyword">module</a> <a id="669" href="README.Function.Reasoning.html#669" class="Module">_</a> <a id="671" class="Symbol">{</a><a id="672" href="README.Function.Reasoning.html#672" class="Bound">A</a> <a id="674" href="README.Function.Reasoning.html#674" class="Bound">B</a> <a id="676" href="README.Function.Reasoning.html#676" class="Bound">C</a> <a id="678" class="Symbol">:</a> <a id="680" class="PrimitiveType">Set</a><a id="683" class="Symbol">}</a> <a id="685" class="Symbol">{</a><a id="686" href="README.Function.Reasoning.html#686" class="Bound">A→B</a> <a id="690" class="Symbol">:</a> <a id="692" href="README.Function.Reasoning.html#672" class="Bound">A</a> <a id="694" class="Symbol">→</a> <a id="696" href="README.Function.Reasoning.html#674" class="Bound">B</a><a id="697" class="Symbol">}</a> <a id="699" class="Symbol">{</a><a id="700" href="README.Function.Reasoning.html#700" class="Bound">B→C</a> <a id="704" class="Symbol">:</a> <a id="706" href="README.Function.Reasoning.html#674" class="Bound">B</a> <a id="708" class="Symbol">→</a> <a id="710" href="README.Function.Reasoning.html#676" class="Bound">C</a><a id="711" class="Symbol">}</a> <a id="713" class="Keyword">where</a>

<a id="720" class="Comment">-- Using the combinators we can, starting from a value, chain various</a>
<a id="790" class="Comment">-- functions whilst tracking the types of the intermediate results.</a>

  <a id="861" href="README.Function.Reasoning.html#861" class="Function">A→C</a> <a id="865" class="Symbol">:</a> <a id="867" href="README.Function.Reasoning.html#672" class="Bound">A</a> <a id="869" class="Symbol">→</a> <a id="871" href="README.Function.Reasoning.html#676" class="Bound">C</a>
  <a id="875" href="README.Function.Reasoning.html#861" class="Function">A→C</a> <a id="879" href="README.Function.Reasoning.html#879" class="Bound">a</a> <a id="881" class="Symbol">=</a>
       <a id="890" href="README.Function.Reasoning.html#879" class="Bound">a</a>    <a id="895" href="Function.Reasoning.html#429" class="Function">∶</a> <a id="897" href="README.Function.Reasoning.html#672" class="Bound">A</a>
    <a id="903" href="Function.html#2323" class="Function Operator">|&gt;</a> <a id="906" href="README.Function.Reasoning.html#686" class="Bound">A→B</a>  <a id="911" href="Function.Reasoning.html#429" class="Function">∶</a> <a id="913" href="README.Function.Reasoning.html#674" class="Bound">B</a>
    <a id="919" href="Function.html#2323" class="Function Operator">|&gt;</a> <a id="922" href="README.Function.Reasoning.html#700" class="Bound">B→C</a>  <a id="927" href="Function.Reasoning.html#429" class="Function">∶</a> <a id="929" href="README.Function.Reasoning.html#676" class="Bound">C</a>

<a id="932" class="Comment">------------------------------------------------------------------------</a>
<a id="1005" class="Comment">-- A more concrete example</a>

<a id="1033" class="Keyword">open</a> <a id="1038" class="Keyword">import</a> <a id="1045" href="Data.Nat.html" class="Module">Data.Nat</a>
<a id="1054" class="Keyword">open</a> <a id="1059" class="Keyword">import</a> <a id="1066" href="Data.List.Base.html" class="Module">Data.List.Base</a>
<a id="1081" class="Keyword">open</a> <a id="1086" class="Keyword">import</a> <a id="1093" href="Data.Char.Base.html" class="Module">Data.Char.Base</a>
<a id="1108" class="Keyword">open</a> <a id="1113" class="Keyword">import</a> <a id="1120" href="Data.String.html" class="Module">Data.String</a> <a id="1132" class="Keyword">using</a> <a id="1138" class="Symbol">(</a><a id="1139" href="Agda.Builtin.String.html#165" class="Postulate">String</a> <a id="1146" class="Symbol">;</a> <a id="1148" href="Data.String.Base.html#947" class="Function">toList</a> <a id="1155" class="Symbol">;</a> <a id="1157" href="Data.String.Base.html#1002" class="Function">fromList</a> <a id="1166" class="Symbol">;</a> <a id="1168" href="Data.String.html#1639" class="Function Operator">_==_</a><a id="1172" class="Symbol">)</a>
<a id="1174" class="Keyword">open</a> <a id="1179" class="Keyword">import</a> <a id="1186" href="Function.html" class="Module">Function</a>
<a id="1195" class="Keyword">open</a> <a id="1200" class="Keyword">import</a> <a id="1207" href="Data.Bool.html" class="Module">Data.Bool</a>
<a id="1217" class="Keyword">open</a> <a id="1222" class="Keyword">import</a> <a id="1229" href="Data.Product.html" class="Module">Data.Product</a> <a id="1242" class="Symbol">as</a> <a id="1245" class="Module">P</a> <a id="1247" class="Keyword">using</a> <a id="1253" class="Symbol">(</a><a id="1254" href="Data.Product.html#1352" class="Function Operator">_×_</a> <a id="1258" class="Symbol">;</a> <a id="1260" href="Data.Product.html#1970" class="Function Operator">&lt;_,_&gt;</a> <a id="1266" class="Symbol">;</a> <a id="1268" href="Data.Product.html#3461" class="Function">uncurry</a> <a id="1276" class="Symbol">;</a> <a id="1278" href="Agda.Builtin.Sigma.html#155" class="Field">proj₁</a><a id="1283" class="Symbol">)</a>
<a id="1285" class="Keyword">open</a> <a id="1290" class="Keyword">import</a> <a id="1297" href="Agda.Builtin.Equality.html" class="Module">Agda.Builtin.Equality</a>

<a id="1320" class="Comment">-- This can give us for instance this decomposition of a function</a>
<a id="1386" class="Comment">-- collecting all of the substrings of the input which happen to be</a>
<a id="1454" class="Comment">-- palindromes:</a>

<a id="subpalindromes"></a><a id="1471" href="README.Function.Reasoning.html#1471" class="Function">subpalindromes</a> <a id="1486" class="Symbol">:</a> <a id="1488" href="Agda.Builtin.String.html#165" class="Postulate">String</a> <a id="1495" class="Symbol">→</a> <a id="1497" href="Agda.Builtin.List.html#80" class="Datatype">List</a> <a id="1502" href="Agda.Builtin.String.html#165" class="Postulate">String</a>
<a id="1509" href="README.Function.Reasoning.html#1471" class="Function">subpalindromes</a> <a id="1524" href="README.Function.Reasoning.html#1524" class="Bound">str</a> <a id="1528" class="Symbol">=</a> <a id="1530" class="Keyword">let</a> <a id="1534" href="README.Function.Reasoning.html#1534" class="Bound">Chars</a> <a id="1540" class="Symbol">=</a> <a id="1542" href="Agda.Builtin.List.html#80" class="Datatype">List</a> <a id="1547" href="Agda.Builtin.Char.html#132" class="Postulate">Char</a> <a id="1552" class="Keyword">in</a>
     <a id="1560" href="README.Function.Reasoning.html#1524" class="Bound">str</a>                                   <a id="1598" href="Function.Reasoning.html#429" class="Function">∶</a> <a id="1600" href="Agda.Builtin.String.html#165" class="Postulate">String</a>
  <a id="1609" class="Comment">-- first generate the substrings</a>
  <a id="1644" href="Function.html#2323" class="Function Operator">|&gt;</a> <a id="1647" href="Data.String.Base.html#947" class="Function">toList</a>                                <a id="1685" href="Function.Reasoning.html#429" class="Function">∶</a> <a id="1687" href="README.Function.Reasoning.html#1534" class="Bound">Chars</a>
  <a id="1695" href="Function.html#2323" class="Function Operator">|&gt;</a> <a id="1698" href="Data.List.Base.html#3696" class="Function">inits</a>                                 <a id="1736" href="Function.Reasoning.html#429" class="Function">∶</a> <a id="1738" href="Agda.Builtin.List.html#80" class="Datatype">List</a> <a id="1743" href="README.Function.Reasoning.html#1534" class="Bound">Chars</a>
  <a id="1751" href="Function.html#2323" class="Function Operator">|&gt;</a> <a id="1754" href="Data.List.Base.html#2722" class="Function">concatMap</a> <a id="1764" href="Data.List.Base.html#3817" class="Function">tails</a>                       <a id="1792" href="Function.Reasoning.html#429" class="Function">∶</a> <a id="1794" href="Agda.Builtin.List.html#80" class="Datatype">List</a> <a id="1799" href="README.Function.Reasoning.html#1534" class="Bound">Chars</a>
  <a id="1807" class="Comment">-- then only keeps the ones which are not singletons</a>
  <a id="1862" href="Function.html#2323" class="Function Operator">|&gt;</a> <a id="1865" href="Data.List.Base.html#6317" class="Function">filter</a> <a id="1872" class="Symbol">(λ</a> <a id="1875" href="README.Function.Reasoning.html#1875" class="Bound">cs</a> <a id="1878" class="Symbol">→</a> <a id="1880" class="Number">2</a> <a id="1882" href="Data.Nat.Base.html#3179" class="Function Operator">≤?</a> <a id="1885" href="Data.List.Base.html#3242" class="Function">length</a> <a id="1892" href="README.Function.Reasoning.html#1875" class="Bound">cs</a><a id="1894" class="Symbol">)</a>        <a id="1903" href="Function.Reasoning.html#429" class="Function">∶</a> <a id="1905" href="Agda.Builtin.List.html#80" class="Datatype">List</a> <a id="1910" href="README.Function.Reasoning.html#1534" class="Bound">Chars</a>
  <a id="1918" class="Comment">-- only keep the ones that are palindromes</a>
  <a id="1963" href="Function.html#2323" class="Function Operator">|&gt;</a> <a id="1966" href="Data.List.Base.html#1057" class="Function">map</a> <a id="1970" href="Data.Product.html#1970" class="Function Operator">&lt;</a> <a id="1972" href="Data.String.Base.html#1002" class="Function">fromList</a> <a id="1981" href="Data.Product.html#1970" class="Function Operator">,</a> <a id="1983" href="Data.String.Base.html#1002" class="Function">fromList</a> <a id="1992" href="Function.html#759" class="Function Operator">∘</a> <a id="1994" href="Data.List.Base.html#7225" class="Function">reverse</a> <a id="2002" href="Data.Product.html#1970" class="Function Operator">&gt;</a> <a id="2004" href="Function.Reasoning.html#429" class="Function">∶</a> <a id="2006" href="Agda.Builtin.List.html#80" class="Datatype">List</a> <a id="2011" class="Symbol">(</a><a id="2012" href="Agda.Builtin.String.html#165" class="Postulate">String</a> <a id="2019" href="Data.Product.html#1352" class="Function Operator">×</a> <a id="2021" href="Agda.Builtin.String.html#165" class="Postulate">String</a><a id="2027" class="Symbol">)</a>
  <a id="2031" href="Function.html#2323" class="Function Operator">|&gt;</a> <a id="2034" href="Data.List.Base.html#8154" class="Function">boolFilter</a> <a id="2045" class="Symbol">(</a><a id="2046" href="Data.Product.html#3461" class="Function">uncurry</a> <a id="2054" href="Data.String.html#1639" class="Function Operator">_==_</a><a id="2058" class="Symbol">)</a>             <a id="2072" href="Function.Reasoning.html#429" class="Function">∶</a> <a id="2074" href="Agda.Builtin.List.html#80" class="Datatype">List</a> <a id="2079" class="Symbol">(</a><a id="2080" href="Agda.Builtin.String.html#165" class="Postulate">String</a> <a id="2087" href="Data.Product.html#1352" class="Function Operator">×</a> <a id="2089" href="Agda.Builtin.String.html#165" class="Postulate">String</a><a id="2095" class="Symbol">)</a>
  <a id="2099" href="Function.html#2323" class="Function Operator">|&gt;</a> <a id="2102" href="Data.List.Base.html#1057" class="Function">map</a> <a id="2106" href="Agda.Builtin.Sigma.html#155" class="Field">proj₁</a>                             <a id="2140" href="Function.Reasoning.html#429" class="Function">∶</a> <a id="2142" href="Agda.Builtin.List.html#80" class="Datatype">List</a> <a id="2147" href="Agda.Builtin.String.html#165" class="Postulate">String</a>

<a id="2155" class="Comment">-- Test cases</a>

<a id="2170" href="README.Function.Reasoning.html#2170" class="Function">_</a> <a id="2172" class="Symbol">:</a> <a id="2174" href="README.Function.Reasoning.html#1471" class="Function">subpalindromes</a> <a id="2189" class="String">&quot;doctoresreverse&quot;</a> <a id="2207" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="2209" class="String">&quot;eve&quot;</a> <a id="2215" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="2217" class="String">&quot;rever&quot;</a> <a id="2225" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="2227" class="String">&quot;srevers&quot;</a> <a id="2237" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="2239" class="String">&quot;esreverse&quot;</a> <a id="2251" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="2253" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a>
<a id="2256" class="Symbol">_</a> <a id="2258" class="Symbol">=</a> <a id="2260" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>

<a id="2266" href="README.Function.Reasoning.html#2266" class="Function">_</a> <a id="2268" class="Symbol">:</a> <a id="2270" href="README.Function.Reasoning.html#1471" class="Function">subpalindromes</a> <a id="2285" class="String">&quot;elle-meme&quot;</a> <a id="2297" href="Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="2299" class="String">&quot;ll&quot;</a> <a id="2304" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="2306" class="String">&quot;elle&quot;</a> <a id="2313" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="2315" class="String">&quot;mem&quot;</a> <a id="2321" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="2323" class="String">&quot;eme&quot;</a> <a id="2329" href="Agda.Builtin.List.html#132" class="InductiveConstructor Operator">∷</a> <a id="2331" href="Agda.Builtin.List.html#117" class="InductiveConstructor">[]</a>
<a id="2334" class="Symbol">_</a> <a id="2336" class="Symbol">=</a> <a id="2338" href="Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>
</pre></body></html>