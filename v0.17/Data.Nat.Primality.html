<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Nat.Primality</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Primality</a>
<a id="119" class="Comment">------------------------------------------------------------------------</a>

<a id="193" class="Keyword">module</a> <a id="200" href="Data.Nat.Primality.html" class="Module">Data.Nat.Primality</a> <a id="219" class="Keyword">where</a>

<a id="226" class="Keyword">open</a> <a id="231" class="Keyword">import</a> <a id="238" href="Data.Empty.html" class="Module">Data.Empty</a> <a id="249" class="Keyword">using</a> <a id="255" class="Symbol">(</a><a id="256" href="Data.Empty.html#243" class="Datatype">⊥</a><a id="257" class="Symbol">)</a>
<a id="259" class="Keyword">open</a> <a id="264" class="Keyword">import</a> <a id="271" href="Data.Fin.html" class="Module">Data.Fin</a> <a id="280" class="Keyword">using</a> <a id="286" class="Symbol">(</a><a id="287" href="Data.Fin.Base.html#915" class="Datatype">Fin</a><a id="290" class="Symbol">;</a> <a id="292" href="Data.Fin.Base.html#1041" class="Function">toℕ</a><a id="295" class="Symbol">)</a>
<a id="297" class="Keyword">open</a> <a id="302" class="Keyword">import</a> <a id="309" href="Data.Fin.Properties.html" class="Module">Data.Fin.Properties</a> <a id="329" class="Keyword">using</a> <a id="335" class="Symbol">(</a><a id="336" href="Data.Fin.Properties.html#16637" class="Function">all?</a><a id="340" class="Symbol">)</a>
<a id="342" class="Keyword">open</a> <a id="347" class="Keyword">import</a> <a id="354" href="Data.Nat.html" class="Module">Data.Nat</a> <a id="363" class="Keyword">using</a> <a id="369" class="Symbol">(</a><a id="370" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a><a id="371" class="Symbol">;</a> <a id="373" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a><a id="376" class="Symbol">;</a> <a id="378" href="Agda.Builtin.Nat.html#230" class="Primitive Operator">_+_</a><a id="381" class="Symbol">)</a>
<a id="383" class="Keyword">open</a> <a id="388" class="Keyword">import</a> <a id="395" href="Data.Nat.Divisibility.html" class="Module">Data.Nat.Divisibility</a> <a id="417" class="Keyword">using</a> <a id="423" class="Symbol">(</a><a id="424" href="Data.Nat.Divisibility.html#1371" class="Function Operator">_∤_</a><a id="427" class="Symbol">;</a> <a id="429" href="Data.Nat.Divisibility.html#6127" class="Function Operator">_∣?_</a><a id="433" class="Symbol">)</a>
<a id="435" class="Keyword">open</a> <a id="440" class="Keyword">import</a> <a id="447" href="Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="464" class="Keyword">using</a> <a id="470" class="Symbol">(</a><a id="471" href="Relation.Nullary.html#570" class="InductiveConstructor">yes</a><a id="474" class="Symbol">;</a> <a id="476" href="Relation.Nullary.html#597" class="InductiveConstructor">no</a><a id="478" class="Symbol">)</a>
<a id="480" class="Keyword">open</a> <a id="485" class="Keyword">import</a> <a id="492" href="Relation.Nullary.Decidable.html" class="Module">Relation.Nullary.Decidable</a> <a id="519" class="Keyword">using</a> <a id="525" class="Symbol">(</a><a id="526" href="Relation.Nullary.Decidable.html#2760" class="Function">from-yes</a><a id="534" class="Symbol">)</a>
<a id="536" class="Keyword">open</a> <a id="541" class="Keyword">import</a> <a id="548" href="Relation.Nullary.Negation.html" class="Module">Relation.Nullary.Negation</a> <a id="574" class="Keyword">using</a> <a id="580" class="Symbol">(</a><a id="581" href="Relation.Nullary.Negation.html#1017" class="Function">¬?</a><a id="583" class="Symbol">)</a>
<a id="585" class="Keyword">open</a> <a id="590" class="Keyword">import</a> <a id="597" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="612" class="Keyword">using</a> <a id="618" class="Symbol">(</a><a id="619" href="Relation.Unary.html#3313" class="Function">Decidable</a><a id="628" class="Symbol">)</a>

<a id="631" class="Comment">-- Definition of primality.</a>

<a id="Prime"></a><a id="660" href="Data.Nat.Primality.html#660" class="Function">Prime</a> <a id="666" class="Symbol">:</a> <a id="668" href="Agda.Builtin.Nat.html#97" class="Datatype">ℕ</a> <a id="670" class="Symbol">→</a> <a id="672" class="PrimitiveType">Set</a>
<a id="676" href="Data.Nat.Primality.html#660" class="Function">Prime</a> <a id="682" class="Number">0</a>             <a id="696" class="Symbol">=</a> <a id="698" href="Data.Empty.html#243" class="Datatype">⊥</a>
<a id="700" href="Data.Nat.Primality.html#660" class="Function">Prime</a> <a id="706" class="Number">1</a>             <a id="720" class="Symbol">=</a> <a id="722" href="Data.Empty.html#243" class="Datatype">⊥</a>
<a id="724" href="Data.Nat.Primality.html#660" class="Function">Prime</a> <a id="730" class="Symbol">(</a><a id="731" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="735" class="Symbol">(</a><a id="736" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="740" href="Data.Nat.Primality.html#740" class="Bound">n</a><a id="741" class="Symbol">))</a> <a id="744" class="Symbol">=</a> <a id="746" class="Symbol">(</a><a id="747" href="Data.Nat.Primality.html#747" class="Bound">i</a> <a id="749" class="Symbol">:</a> <a id="751" href="Data.Fin.Base.html#915" class="Datatype">Fin</a> <a id="755" href="Data.Nat.Primality.html#740" class="Bound">n</a><a id="756" class="Symbol">)</a> <a id="758" class="Symbol">→</a> <a id="760" class="Number">2</a> <a id="762" href="Agda.Builtin.Nat.html#230" class="Primitive Operator">+</a> <a id="764" href="Data.Fin.Base.html#1041" class="Function">toℕ</a> <a id="768" href="Data.Nat.Primality.html#747" class="Bound">i</a> <a id="770" href="Data.Nat.Divisibility.html#1371" class="Function Operator">∤</a> <a id="772" class="Number">2</a> <a id="774" href="Agda.Builtin.Nat.html#230" class="Primitive Operator">+</a> <a id="776" href="Data.Nat.Primality.html#740" class="Bound">n</a>

<a id="779" class="Comment">-- Decision procedure for primality.</a>

<a id="prime?"></a><a id="817" href="Data.Nat.Primality.html#817" class="Function">prime?</a> <a id="824" class="Symbol">:</a> <a id="826" href="Relation.Unary.html#3313" class="Function">Decidable</a> <a id="836" href="Data.Nat.Primality.html#660" class="Function">Prime</a>
<a id="842" href="Data.Nat.Primality.html#817" class="Function">prime?</a> <a id="849" class="Number">0</a>             <a id="863" class="Symbol">=</a> <a id="865" href="Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="868" class="Symbol">λ()</a>
<a id="872" href="Data.Nat.Primality.html#817" class="Function">prime?</a> <a id="879" class="Number">1</a>             <a id="893" class="Symbol">=</a> <a id="895" href="Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="898" class="Symbol">λ()</a>
<a id="902" href="Data.Nat.Primality.html#817" class="Function">prime?</a> <a id="909" class="Symbol">(</a><a id="910" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="914" class="Symbol">(</a><a id="915" href="Agda.Builtin.Nat.html#128" class="InductiveConstructor">suc</a> <a id="919" href="Data.Nat.Primality.html#919" class="Bound">n</a><a id="920" class="Symbol">))</a> <a id="923" class="Symbol">=</a> <a id="925" href="Data.Fin.Properties.html#16637" class="Function">all?</a> <a id="930" class="Symbol">(λ</a> <a id="933" href="Data.Nat.Primality.html#933" class="Bound">_</a> <a id="935" class="Symbol">→</a> <a id="937" href="Relation.Nullary.Negation.html#1017" class="Function">¬?</a> <a id="940" class="Symbol">(_</a> <a id="943" href="Data.Nat.Divisibility.html#6127" class="Function Operator">∣?</a> <a id="946" class="Symbol">_))</a>

<a id="951" class="Keyword">private</a>

  <a id="962" class="Comment">-- Example: 2 is prime.</a>

  <a id="2-is-prime"></a><a id="989" href="Data.Nat.Primality.html#989" class="Function">2-is-prime</a> <a id="1000" class="Symbol">:</a> <a id="1002" href="Data.Nat.Primality.html#660" class="Function">Prime</a> <a id="1008" class="Number">2</a>
  <a id="1012" href="Data.Nat.Primality.html#989" class="Function">2-is-prime</a> <a id="1023" class="Symbol">=</a> <a id="1025" href="Relation.Nullary.Decidable.html#2760" class="Function">from-yes</a> <a id="1034" class="Symbol">(</a><a id="1035" href="Data.Nat.Primality.html#817" class="Function">prime?</a> <a id="1042" class="Number">2</a><a id="1043" class="Symbol">)</a>
</pre></body></html>