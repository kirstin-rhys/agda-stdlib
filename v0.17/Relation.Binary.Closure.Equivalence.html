<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Relation.Binary.Closure.Equivalence</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Equivalence closures of binary relations</a>
<a id="150" class="Comment">------------------------------------------------------------------------</a>

<a id="224" class="Keyword">module</a> <a id="231" href="Relation.Binary.Closure.Equivalence.html" class="Module">Relation.Binary.Closure.Equivalence</a> <a id="267" class="Keyword">where</a>

<a id="274" class="Keyword">open</a> <a id="279" class="Keyword">import</a> <a id="286" href="Function.html" class="Module">Function</a> <a id="295" class="Keyword">using</a> <a id="301" class="Symbol">(</a><a id="302" href="Function.html#1536" class="Function">flip</a><a id="306" class="Symbol">;</a> <a id="308" href="Function.html#1068" class="Function">id</a><a id="310" class="Symbol">;</a> <a id="312" href="Function.html#769" class="Function Operator">_∘_</a><a id="315" class="Symbol">)</a>
<a id="317" class="Keyword">open</a> <a id="322" class="Keyword">import</a> <a id="329" href="Level.html" class="Module">Level</a> <a id="335" class="Keyword">using</a> <a id="341" class="Symbol">(</a><a id="342" href="Agda.Primitive.html#657" class="Primitive Operator">_⊔_</a><a id="345" class="Symbol">)</a>
<a id="347" class="Keyword">open</a> <a id="352" class="Keyword">import</a> <a id="359" href="Relation.Binary.html" class="Module">Relation.Binary</a>
<a id="375" class="Keyword">open</a> <a id="380" class="Keyword">import</a> <a id="387" href="Relation.Binary.Closure.ReflexiveTransitive.html" class="Module">Relation.Binary.Closure.ReflexiveTransitive</a> <a id="431" class="Symbol">as</a> <a id="434" class="Module">Star</a> <a id="439" class="Keyword">using</a> <a id="445" class="Symbol">(</a><a id="446" href="Relation.Binary.Closure.ReflexiveTransitive.html#439" class="Datatype">Star</a><a id="450" class="Symbol">;</a> <a id="452" href="Relation.Binary.Closure.ReflexiveTransitive.html#500" class="InductiveConstructor">ε</a><a id="453" class="Symbol">;</a> <a id="455" href="Relation.Binary.Closure.ReflexiveTransitive.html#787" class="Function Operator">_◅◅_</a><a id="459" class="Symbol">;</a> <a id="461" href="Relation.Binary.Closure.ReflexiveTransitive.html#3043" class="Function">reverse</a><a id="468" class="Symbol">)</a>
<a id="470" class="Keyword">open</a> <a id="475" class="Keyword">import</a> <a id="482" href="Relation.Binary.Closure.Symmetric.html" class="Module">Relation.Binary.Closure.Symmetric</a> <a id="516" class="Symbol">as</a> <a id="519" class="Module">SC</a> <a id="522" class="Keyword">using</a> <a id="528" class="Symbol">(</a><a id="529" href="Relation.Binary.Closure.Symmetric.html#474" class="Function">SymClosure</a><a id="539" class="Symbol">)</a>

<a id="542" class="Comment">-- The reflexive, transitive and symmetric closure of a binary</a>
<a id="605" class="Comment">-- relation (aka the equivalence closure).</a>

<a id="EqClosure"></a><a id="649" href="Relation.Binary.Closure.Equivalence.html#649" class="Function">EqClosure</a> <a id="659" class="Symbol">:</a> <a id="661" class="Symbol">∀</a> <a id="663" class="Symbol">{</a><a id="664" href="Relation.Binary.Closure.Equivalence.html#664" class="Bound">a</a> <a id="666" href="Relation.Binary.Closure.Equivalence.html#666" class="Bound">ℓ</a><a id="667" class="Symbol">}</a> <a id="669" class="Symbol">{</a><a id="670" href="Relation.Binary.Closure.Equivalence.html#670" class="Bound">A</a> <a id="672" class="Symbol">:</a> <a id="674" class="PrimitiveType">Set</a> <a id="678" href="Relation.Binary.Closure.Equivalence.html#664" class="Bound">a</a><a id="679" class="Symbol">}</a> <a id="681" class="Symbol">→</a> <a id="683" href="Relation.Binary.Core.html#898" class="Function">Rel</a> <a id="687" href="Relation.Binary.Closure.Equivalence.html#670" class="Bound">A</a> <a id="689" href="Relation.Binary.Closure.Equivalence.html#666" class="Bound">ℓ</a> <a id="691" class="Symbol">→</a> <a id="693" href="Relation.Binary.Core.html#898" class="Function">Rel</a> <a id="697" href="Relation.Binary.Closure.Equivalence.html#670" class="Bound">A</a> <a id="699" class="Symbol">(</a><a id="700" href="Relation.Binary.Closure.Equivalence.html#664" class="Bound">a</a> <a id="702" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="704" href="Relation.Binary.Closure.Equivalence.html#666" class="Bound">ℓ</a><a id="705" class="Symbol">)</a>
<a id="707" href="Relation.Binary.Closure.Equivalence.html#649" class="Function">EqClosure</a> <a id="717" href="Relation.Binary.Closure.Equivalence.html#717" class="Bound Operator">_∼_</a> <a id="721" class="Symbol">=</a> <a id="723" href="Relation.Binary.Closure.ReflexiveTransitive.html#439" class="Datatype">Star</a> <a id="728" class="Symbol">(</a><a id="729" href="Relation.Binary.Closure.Symmetric.html#474" class="Function">SymClosure</a> <a id="740" href="Relation.Binary.Closure.Equivalence.html#717" class="Bound Operator">_∼_</a><a id="743" class="Symbol">)</a>

<a id="746" class="Keyword">module</a> <a id="753" href="Relation.Binary.Closure.Equivalence.html#753" class="Module">_</a> <a id="755" class="Symbol">{</a><a id="756" href="Relation.Binary.Closure.Equivalence.html#756" class="Bound">a</a> <a id="758" href="Relation.Binary.Closure.Equivalence.html#758" class="Bound">ℓ</a><a id="759" class="Symbol">}</a> <a id="761" class="Symbol">{</a><a id="762" href="Relation.Binary.Closure.Equivalence.html#762" class="Bound">A</a> <a id="764" class="Symbol">:</a> <a id="766" class="PrimitiveType">Set</a> <a id="770" href="Relation.Binary.Closure.Equivalence.html#756" class="Bound">a</a><a id="771" class="Symbol">}</a> <a id="773" class="Keyword">where</a>

  <a id="782" class="Comment">-- Equivalence closures are equivalences.</a>

  <a id="827" href="Relation.Binary.Closure.Equivalence.html#827" class="Function">reflexive</a> <a id="837" class="Symbol">:</a> <a id="839" class="Symbol">(</a><a id="840" href="Relation.Binary.Closure.Equivalence.html#840" class="Bound Operator">_∼_</a> <a id="844" class="Symbol">:</a> <a id="846" href="Relation.Binary.Core.html#898" class="Function">Rel</a> <a id="850" href="Relation.Binary.Closure.Equivalence.html#762" class="Bound">A</a> <a id="852" href="Relation.Binary.Closure.Equivalence.html#758" class="Bound">ℓ</a><a id="853" class="Symbol">)</a> <a id="855" class="Symbol">→</a> <a id="857" href="Relation.Binary.Core.html#2025" class="Function">Reflexive</a> <a id="867" class="Symbol">(</a><a id="868" href="Relation.Binary.Closure.Equivalence.html#649" class="Function">EqClosure</a> <a id="878" href="Relation.Binary.Closure.Equivalence.html#840" class="Bound Operator">_∼_</a><a id="881" class="Symbol">)</a>
  <a id="885" href="Relation.Binary.Closure.Equivalence.html#827" class="Function">reflexive</a> <a id="895" href="Relation.Binary.Closure.Equivalence.html#895" class="Bound Operator">_∼_</a> <a id="899" class="Symbol">=</a> <a id="901" href="Relation.Binary.Closure.ReflexiveTransitive.html#500" class="InductiveConstructor">ε</a>

  <a id="906" href="Relation.Binary.Closure.Equivalence.html#906" class="Function">transitive</a> <a id="917" class="Symbol">:</a> <a id="919" class="Symbol">(</a><a id="920" href="Relation.Binary.Closure.Equivalence.html#920" class="Bound Operator">_∼_</a> <a id="924" class="Symbol">:</a> <a id="926" href="Relation.Binary.Core.html#898" class="Function">Rel</a> <a id="930" href="Relation.Binary.Closure.Equivalence.html#762" class="Bound">A</a> <a id="932" href="Relation.Binary.Closure.Equivalence.html#758" class="Bound">ℓ</a><a id="933" class="Symbol">)</a> <a id="935" class="Symbol">→</a> <a id="937" href="Relation.Binary.Core.html#2927" class="Function">Transitive</a> <a id="948" class="Symbol">(</a><a id="949" href="Relation.Binary.Closure.Equivalence.html#649" class="Function">EqClosure</a> <a id="959" href="Relation.Binary.Closure.Equivalence.html#920" class="Bound Operator">_∼_</a><a id="962" class="Symbol">)</a>
  <a id="966" href="Relation.Binary.Closure.Equivalence.html#906" class="Function">transitive</a> <a id="977" href="Relation.Binary.Closure.Equivalence.html#977" class="Bound Operator">_∼_</a> <a id="981" class="Symbol">=</a> <a id="983" href="Relation.Binary.Closure.ReflexiveTransitive.html#787" class="Function Operator">_◅◅_</a>

  <a id="991" href="Relation.Binary.Closure.Equivalence.html#991" class="Function">symmetric</a> <a id="1001" class="Symbol">:</a> <a id="1003" class="Symbol">(</a><a id="1004" href="Relation.Binary.Closure.Equivalence.html#1004" class="Bound Operator">_∼_</a> <a id="1008" class="Symbol">:</a> <a id="1010" href="Relation.Binary.Core.html#898" class="Function">Rel</a> <a id="1014" href="Relation.Binary.Closure.Equivalence.html#762" class="Bound">A</a> <a id="1016" href="Relation.Binary.Closure.Equivalence.html#758" class="Bound">ℓ</a><a id="1017" class="Symbol">)</a> <a id="1019" class="Symbol">→</a> <a id="1021" href="Relation.Binary.Core.html#2448" class="Function">Symmetric</a> <a id="1031" class="Symbol">(</a><a id="1032" href="Relation.Binary.Closure.Equivalence.html#649" class="Function">EqClosure</a> <a id="1042" href="Relation.Binary.Closure.Equivalence.html#1004" class="Bound Operator">_∼_</a><a id="1045" class="Symbol">)</a>
  <a id="1049" href="Relation.Binary.Closure.Equivalence.html#991" class="Function">symmetric</a> <a id="1059" href="Relation.Binary.Closure.Equivalence.html#1059" class="Bound Operator">_∼_</a> <a id="1063" class="Symbol">=</a> <a id="1065" href="Relation.Binary.Closure.ReflexiveTransitive.html#3043" class="Function">reverse</a> <a id="1073" class="Symbol">(</a><a id="1074" href="Relation.Binary.Closure.Symmetric.html#639" class="Function">SC.symmetric</a> <a id="1087" href="Relation.Binary.Closure.Equivalence.html#1059" class="Bound Operator">_∼_</a><a id="1090" class="Symbol">)</a>

  <a id="1095" href="Relation.Binary.Closure.Equivalence.html#1095" class="Function">isEquivalence</a> <a id="1109" class="Symbol">:</a> <a id="1111" class="Symbol">(</a><a id="1112" href="Relation.Binary.Closure.Equivalence.html#1112" class="Bound Operator">_∼_</a> <a id="1116" class="Symbol">:</a> <a id="1118" href="Relation.Binary.Core.html#898" class="Function">Rel</a> <a id="1122" href="Relation.Binary.Closure.Equivalence.html#762" class="Bound">A</a> <a id="1124" href="Relation.Binary.Closure.Equivalence.html#758" class="Bound">ℓ</a><a id="1125" class="Symbol">)</a> <a id="1127" class="Symbol">→</a> <a id="1129" href="Relation.Binary.Core.html#5186" class="Record">IsEquivalence</a> <a id="1143" class="Symbol">(</a><a id="1144" href="Relation.Binary.Closure.Equivalence.html#649" class="Function">EqClosure</a> <a id="1154" href="Relation.Binary.Closure.Equivalence.html#1112" class="Bound Operator">_∼_</a><a id="1157" class="Symbol">)</a>
  <a id="1161" href="Relation.Binary.Closure.Equivalence.html#1095" class="Function">isEquivalence</a> <a id="1175" href="Relation.Binary.Closure.Equivalence.html#1175" class="Bound Operator">_∼_</a> <a id="1179" class="Symbol">=</a> <a id="1181" class="Keyword">record</a>
    <a id="1192" class="Symbol">{</a> <a id="1194" class="Field">refl</a>  <a id="1200" class="Symbol">=</a> <a id="1202" href="Relation.Binary.Closure.Equivalence.html#827" class="Function">reflexive</a>  <a id="1213" href="Relation.Binary.Closure.Equivalence.html#1175" class="Bound Operator">_∼_</a>
    <a id="1221" class="Symbol">;</a> <a id="1223" class="Field">sym</a>   <a id="1229" class="Symbol">=</a> <a id="1231" href="Relation.Binary.Closure.Equivalence.html#991" class="Function">symmetric</a>  <a id="1242" href="Relation.Binary.Closure.Equivalence.html#1175" class="Bound Operator">_∼_</a>
    <a id="1250" class="Symbol">;</a> <a id="1252" class="Field">trans</a> <a id="1258" class="Symbol">=</a> <a id="1260" href="Relation.Binary.Closure.Equivalence.html#906" class="Function">transitive</a> <a id="1271" href="Relation.Binary.Closure.Equivalence.html#1175" class="Bound Operator">_∼_</a>
    <a id="1279" class="Symbol">}</a>

  <a id="1284" class="Comment">-- The setoid associated with an equivalence closure.</a>

  <a id="1341" href="Relation.Binary.Closure.Equivalence.html#1341" class="Function">setoid</a> <a id="1348" class="Symbol">:</a> <a id="1350" href="Relation.Binary.Core.html#898" class="Function">Rel</a> <a id="1354" href="Relation.Binary.Closure.Equivalence.html#762" class="Bound">A</a> <a id="1356" href="Relation.Binary.Closure.Equivalence.html#758" class="Bound">ℓ</a> <a id="1358" class="Symbol">→</a> <a id="1360" href="Relation.Binary.html#1943" class="Record">Setoid</a> <a id="1367" href="Relation.Binary.Closure.Equivalence.html#756" class="Bound">a</a> <a id="1369" class="Symbol">(</a><a id="1370" href="Relation.Binary.Closure.Equivalence.html#756" class="Bound">a</a> <a id="1372" href="Agda.Primitive.html#657" class="Primitive Operator">⊔</a> <a id="1374" href="Relation.Binary.Closure.Equivalence.html#758" class="Bound">ℓ</a><a id="1375" class="Symbol">)</a>
  <a id="1379" href="Relation.Binary.Closure.Equivalence.html#1341" class="Function">setoid</a> <a id="1386" href="Relation.Binary.Closure.Equivalence.html#1386" class="Bound Operator">_∼_</a> <a id="1390" class="Symbol">=</a> <a id="1392" class="Keyword">record</a>
    <a id="1403" class="Symbol">{</a> <a id="1405" class="Field Operator">_≈_</a>           <a id="1419" class="Symbol">=</a> <a id="1421" href="Relation.Binary.Closure.Equivalence.html#649" class="Function">EqClosure</a> <a id="1431" href="Relation.Binary.Closure.Equivalence.html#1386" class="Bound Operator">_∼_</a>
    <a id="1439" class="Symbol">;</a> <a id="1441" class="Field">isEquivalence</a> <a id="1455" class="Symbol">=</a> <a id="1457" href="Relation.Binary.Closure.Equivalence.html#1095" class="Function">isEquivalence</a> <a id="1471" href="Relation.Binary.Closure.Equivalence.html#1386" class="Bound Operator">_∼_</a>
    <a id="1479" class="Symbol">}</a>

  <a id="1484" class="Comment">-- A generalised variant of map which allows the index type to change.</a>

  <a id="1558" href="Relation.Binary.Closure.Equivalence.html#1558" class="Function">gmap</a> <a id="1563" class="Symbol">:</a> <a id="1565" class="Symbol">∀</a> <a id="1567" class="Symbol">{</a><a id="1568" href="Relation.Binary.Closure.Equivalence.html#1568" class="Bound">b</a> <a id="1570" href="Relation.Binary.Closure.Equivalence.html#1570" class="Bound">ℓ₂</a><a id="1572" class="Symbol">}</a> <a id="1574" class="Symbol">{</a><a id="1575" href="Relation.Binary.Closure.Equivalence.html#1575" class="Bound">B</a> <a id="1577" class="Symbol">:</a> <a id="1579" class="PrimitiveType">Set</a> <a id="1583" href="Relation.Binary.Closure.Equivalence.html#1568" class="Bound">b</a><a id="1584" class="Symbol">}</a> <a id="1586" class="Symbol">{</a><a id="1587" href="Relation.Binary.Closure.Equivalence.html#1587" class="Bound">P</a> <a id="1589" class="Symbol">:</a> <a id="1591" href="Relation.Binary.Core.html#898" class="Function">Rel</a> <a id="1595" href="Relation.Binary.Closure.Equivalence.html#762" class="Bound">A</a> <a id="1597" href="Relation.Binary.Closure.Equivalence.html#758" class="Bound">ℓ</a><a id="1598" class="Symbol">}</a> <a id="1600" class="Symbol">{</a><a id="1601" href="Relation.Binary.Closure.Equivalence.html#1601" class="Bound">Q</a> <a id="1603" class="Symbol">:</a> <a id="1605" href="Relation.Binary.Core.html#898" class="Function">Rel</a> <a id="1609" href="Relation.Binary.Closure.Equivalence.html#1575" class="Bound">B</a> <a id="1611" href="Relation.Binary.Closure.Equivalence.html#1570" class="Bound">ℓ₂</a><a id="1613" class="Symbol">}</a> <a id="1615" class="Symbol">→</a>
         <a id="1626" class="Symbol">(</a><a id="1627" href="Relation.Binary.Closure.Equivalence.html#1627" class="Bound">f</a> <a id="1629" class="Symbol">:</a> <a id="1631" href="Relation.Binary.Closure.Equivalence.html#762" class="Bound">A</a> <a id="1633" class="Symbol">→</a> <a id="1635" href="Relation.Binary.Closure.Equivalence.html#1575" class="Bound">B</a><a id="1636" class="Symbol">)</a> <a id="1638" class="Symbol">→</a> <a id="1640" href="Relation.Binary.Closure.Equivalence.html#1587" class="Bound">P</a> <a id="1642" href="Relation.Binary.Core.html#1352" class="Function Operator">=[</a> <a id="1645" href="Relation.Binary.Closure.Equivalence.html#1627" class="Bound">f</a> <a id="1647" href="Relation.Binary.Core.html#1352" class="Function Operator">]⇒</a> <a id="1650" href="Relation.Binary.Closure.Equivalence.html#1601" class="Bound">Q</a> <a id="1652" class="Symbol">→</a> <a id="1654" href="Relation.Binary.Closure.Equivalence.html#649" class="Function">EqClosure</a> <a id="1664" href="Relation.Binary.Closure.Equivalence.html#1587" class="Bound">P</a> <a id="1666" href="Relation.Binary.Core.html#1352" class="Function Operator">=[</a> <a id="1669" href="Relation.Binary.Closure.Equivalence.html#1627" class="Bound">f</a> <a id="1671" href="Relation.Binary.Core.html#1352" class="Function Operator">]⇒</a> <a id="1674" href="Relation.Binary.Closure.Equivalence.html#649" class="Function">EqClosure</a> <a id="1684" href="Relation.Binary.Closure.Equivalence.html#1601" class="Bound">Q</a>
  <a id="1688" href="Relation.Binary.Closure.Equivalence.html#1558" class="Function">gmap</a> <a id="1693" class="Symbol">{</a><a id="1694" class="Argument">Q</a> <a id="1696" class="Symbol">=</a> <a id="1698" href="Relation.Binary.Closure.Equivalence.html#1698" class="Bound">Q</a><a id="1699" class="Symbol">}</a> <a id="1701" href="Relation.Binary.Closure.Equivalence.html#1701" class="Bound">f</a> <a id="1703" class="Symbol">=</a> <a id="1705" href="Relation.Binary.Closure.ReflexiveTransitive.html#1479" class="Function">Star.gmap</a> <a id="1715" href="Relation.Binary.Closure.Equivalence.html#1701" class="Bound">f</a> <a id="1717" href="Function.html#769" class="Function Operator">∘</a> <a id="1719" href="Relation.Binary.Closure.Symmetric.html#841" class="Function">SC.gmap</a> <a id="1727" class="Symbol">{</a><a id="1728" class="Argument">Q</a> <a id="1730" class="Symbol">=</a> <a id="1732" href="Relation.Binary.Closure.Equivalence.html#1698" class="Bound">Q</a><a id="1733" class="Symbol">}</a> <a id="1735" href="Relation.Binary.Closure.Equivalence.html#1701" class="Bound">f</a>

  <a id="1740" href="Relation.Binary.Closure.Equivalence.html#1740" class="Function">map</a> <a id="1744" class="Symbol">:</a> <a id="1746" class="Symbol">∀</a> <a id="1748" class="Symbol">{</a><a id="1749" href="Relation.Binary.Closure.Equivalence.html#1749" class="Bound">ℓ₂</a><a id="1751" class="Symbol">}</a> <a id="1753" class="Symbol">{</a><a id="1754" href="Relation.Binary.Closure.Equivalence.html#1754" class="Bound">P</a> <a id="1756" class="Symbol">:</a> <a id="1758" href="Relation.Binary.Core.html#898" class="Function">Rel</a> <a id="1762" href="Relation.Binary.Closure.Equivalence.html#762" class="Bound">A</a> <a id="1764" href="Relation.Binary.Closure.Equivalence.html#758" class="Bound">ℓ</a><a id="1765" class="Symbol">}</a> <a id="1767" class="Symbol">{</a><a id="1768" href="Relation.Binary.Closure.Equivalence.html#1768" class="Bound">Q</a> <a id="1770" class="Symbol">:</a> <a id="1772" href="Relation.Binary.Core.html#898" class="Function">Rel</a> <a id="1776" href="Relation.Binary.Closure.Equivalence.html#762" class="Bound">A</a> <a id="1778" href="Relation.Binary.Closure.Equivalence.html#1749" class="Bound">ℓ₂</a><a id="1780" class="Symbol">}</a> <a id="1782" class="Symbol">→</a>
        <a id="1792" href="Relation.Binary.Closure.Equivalence.html#1754" class="Bound">P</a> <a id="1794" href="Relation.Binary.Core.html#1162" class="Function Operator">⇒</a> <a id="1796" href="Relation.Binary.Closure.Equivalence.html#1768" class="Bound">Q</a> <a id="1798" class="Symbol">→</a> <a id="1800" href="Relation.Binary.Closure.Equivalence.html#649" class="Function">EqClosure</a> <a id="1810" href="Relation.Binary.Closure.Equivalence.html#1754" class="Bound">P</a> <a id="1812" href="Relation.Binary.Core.html#1162" class="Function Operator">⇒</a> <a id="1814" href="Relation.Binary.Closure.Equivalence.html#649" class="Function">EqClosure</a> <a id="1824" href="Relation.Binary.Closure.Equivalence.html#1768" class="Bound">Q</a>
  <a id="1828" href="Relation.Binary.Closure.Equivalence.html#1740" class="Function">map</a> <a id="1832" class="Symbol">=</a> <a id="1834" href="Relation.Binary.Closure.Equivalence.html#1558" class="Function">gmap</a> <a id="1839" href="Function.html#1068" class="Function">id</a>
</pre></body></html>